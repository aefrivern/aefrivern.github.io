<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>UCB CS61A：计算机程序的构造与解释 | Aefrivern的小屋</title><meta name="author" content="Aefrivern"><meta name="copyright" content="Aefrivern"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="值 Values 在 Python 中0o20为八进制的16，0b1101为二进制13，0x为十六进制。 还有字符串 string，元组 tuple，范围 range，列表 list，字典 dictionary，集合 set 函数 Functions，表达式 Expressions，环境 Environments 定义函数： def saxb(a, x, b):    return a * x">
<meta property="og:type" content="article">
<meta property="og:title" content="UCB CS61A：计算机程序的构造与解释">
<meta property="og:url" content="https://aefrivern.github.io/posts/e7a99a5e.html">
<meta property="og:site_name" content="Aefrivern的小屋">
<meta property="og:description" content="值 Values 在 Python 中0o20为八进制的16，0b1101为二进制13，0x为十六进制。 还有字符串 string，元组 tuple，范围 range，列表 list，字典 dictionary，集合 set 函数 Functions，表达式 Expressions，环境 Environments 定义函数： def saxb(a, x, b):    return a * x">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://aefrivern.github.io/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp">
<meta property="article:published_time" content="2023-01-14T09:52:14.000Z">
<meta property="article:modified_time" content="2024-11-23T06:45:11.000Z">
<meta property="article:author" content="Aefrivern">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Scheme">
<meta property="article:tag" content="UC Berkeley">
<meta property="article:tag" content="计算机科学">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aefrivern.github.io/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "UCB CS61A：计算机程序的构造与解释",
  "url": "https://aefrivern.github.io/posts/e7a99a5e.html",
  "image": "https://aefrivern.github.io/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp",
  "datePublished": "2023-01-14T09:52:14.000Z",
  "dateModified": "2024-11-23T06:45:11.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Aefrivern",
      "url": "https://aefrivern.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/illustration/favicon.ico"><link rel="canonical" href="https://aefrivern.github.io/posts/e7a99a5e.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"GY5EJYJ1FS","apiKey":"c443c952672ec7062840aac45536181e","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索文章","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'UCB CS61A：计算机程序的构造与解释',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4031045_1yiosqv4vch.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/hexo-butterfly-article-double-row.css"><script src="/js/echarts.min.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.0.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/gallery/wallpaper/wallpaper.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">193</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">251</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye-01"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw iconfont icon-a-16-01-01"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw iconfont icon-wenjianjia"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw iconfont icon-zhifeiji"></i><span> 二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw iconfont icon-tongjichaxun"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyan"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw iconfont icon-suiji"></i><span> 随便逛逛</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/gallery/cover/UCB CS61A：计算机程序的构造与解释.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Aefrivern的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">UCB CS61A：计算机程序的构造与解释</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-sousuo1"></use></svg><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye-01"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw iconfont icon-a-16-01-01"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw iconfont icon-wenjianjia"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw iconfont icon-zhifeiji"></i><span> 二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw iconfont icon-tongjichaxun"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyan"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw iconfont icon-suiji"></i><span> 随便逛逛</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">UCB CS61A：计算机程序的构造与解释</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-14T09:52:14.000Z" title="发表于 2023-01-14 17:52:14">2023-01-14</time><span class="post-meta-separator">|</span><svg class="meta_icon post-ui-icon" style="width:13px;height:13px;position:relative;top:2px"><use xlink:href="#icon-gengxin"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-23T06:45:11.000Z" title="更新于 2024-11-23 14:45:11">2024-11-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><a class="faa-parent animated-hover"></a><svg class="meta_icon post-ui-icon" style="width:13px;height:13px;position:relative;top:2px"><use xlink:href="#icon-fenlei"></use></svg><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-word"></use></svg><span class="post-meta-label">总字数:</span><span class="word-count">3574</span><span class="post-meta-separator">|</span><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.webp" alt="思维导图"></p>
<h2 id="值-Values">值 Values</h2>
<p>在 Python 中<code>0o20</code>为八进制的<code>16</code>，<code>0b1101</code>为二进制<code>13</code>，<code>0x</code>为十六进制。</p>
<p>还有<strong>字符串 string</strong>，<strong>元组 tuple</strong>，<strong>范围 range</strong>，<strong>列表 list</strong>，<strong>字典 dictionary</strong>，<strong>集合 set</strong></p>
<h2 id="函数-Functions，表达式-Expressions，环境-Environments">函数 Functions，表达式 Expressions，环境 Environments</h2>
<p>定义函数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">saxb</span>(<span class="hljs-params">a, x, b</span>):<br>    <span class="hljs-keyword">return</span> a * x + b<br></code></pre></td></tr></table></figure>
<p>写成 λ 表达式（能当作表达式的函数）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">lambda</span> a, x, b: a * x + b<br></code></pre></td></tr></table></figure>
<ul>
<li>Environment 是<strong>名称</strong>对<strong>值</strong>的映射</li>
<li>在环境中<strong>名称</strong>被绑定到<strong>值</strong>上</li>
<li>最外层环境叫 <strong>global environment frame</strong></li>
</ul>
<p>函数被称为<strong>第一类值 first-class values</strong>，可以作为某一函数的参数或返回值：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_func</span>(<span class="hljs-params">f, g</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">adder</span>(<span class="hljs-params">x</span>):<br>        <span class="hljs-keyword">return</span> f(x) + g(x)<br><br>    <span class="hljs-keyword">return</span> adder<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sin,cos,pi<br><span class="hljs-meta">&gt;&gt;&gt; </span>h=add_func(sin,cos)<br><span class="hljs-meta">&gt;&gt;&gt; </span>sin(pi/<span class="hljs-number">4</span>)+cos(pi/<span class="hljs-number">4</span>)<br><span class="hljs-number">1.414</span>⋯<br><span class="hljs-meta">&gt;&gt;&gt; </span>h(pi/<span class="hljs-number">4</span>)<br><span class="hljs-number">1.414</span>⋯<br></code></pre></td></tr></table></figure>
<h2 id="控制-Control">控制 Control</h2>
<p>有<code>if</code>，<code>while</code>，<code>for</code>等。</p>
<p>双分支：<code>True部分 if 条件 else False部分</code>，类似于 C 语言的<code>?:</code>运算符</p>
<p>多分支：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">if</span> 条件<span class="hljs-number">1</span>:<br>    语句<span class="hljs-number">1</span><br><span class="hljs-keyword">elif</span> 条件<span class="hljs-number">2</span>:<br>    语句<span class="hljs-number">2</span><br>⋯<br><span class="hljs-keyword">else</span>:<br>    语句n<br></code></pre></td></tr></table></figure>
<p><em>注：<code>and</code>和<code>or</code>有短路作用</em></p>
<h2 id="递归-Recursion">递归 Recursion</h2>
<p>一个函数只调用一次的叫做<strong>线性递归 Linear Recursion</strong>，在函数末尾调用的叫做<strong>尾递归 Tail Recursion</strong>，尾递归往往能写成循环形式。</p>
<p>如以下求平方和的程序：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-string">&quot;&quot;&quot;循环形式：&quot;&quot;&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sum_squares</span>(<span class="hljs-params">N</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;1^2+2^2+⋯N^2&quot;&quot;&quot;</span><br>    accum = <span class="hljs-number">0</span><br>    k = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> k &lt;= N:<br>        accum = accum + k**<span class="hljs-number">2</span>  <span class="hljs-comment">#Python中两个乘号代表求幂</span><br>        k = k + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> accum<br><br><span class="hljs-string">&quot;&quot;&quot;尾递归（同时也是线性递归）形式：&quot;&quot;&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sum_squares</span>(<span class="hljs-params">N</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">part_sum</span>(<span class="hljs-params">accum, k</span>):<br>        <span class="hljs-keyword">if</span> k &lt;= N:<br>            <span class="hljs-keyword">return</span> part_sum(accum + k**<span class="hljs-number">2</span>, k + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> accum<br><br>    <span class="hljs-keyword">return</span> part_sum(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure>
<p>防止无限递归的方法：确保每一次递归都减少了问题规模，直到最小的问题能被解决。</p>
<p><strong>子问题</strong>与<strong>自我相似</strong>，例如分形问题</p>
<p><strong>树递归 Tree Recursion</strong>：单次递归中多次调用递归函数</p>
<h2 id="异常-Exception">异常 Exception</h2>
<p>可以使用<code>try</code>语句检查异常：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">input</span> = <span class="hljs-built_in">open</span>(myfile).read()<br><span class="hljs-keyword">except</span> FileNotFoundError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Warning:could not open&quot;</span>, myfile)<br>    <span class="hljs-built_in">input</span> = <span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>
<h2 id="修饰器-Decorator">修饰器 Decorator</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">@ATTR</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">afunc</span>(<span class="hljs-params">⋯</span>):<br>    ⋯<br><br>相当于：<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">afunc</span>(<span class="hljs-params">⋯</span>):<br>    ⋯<br>afunc=ATTR(afunc)<br></code></pre></td></tr></table></figure>
<h2 id="容器-Container">容器 Container</h2>
<p>Python 中的<strong>序列 Sequence</strong>有：</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">元素</th>
<th style="text-align:center">可编号</th>
<th style="text-align:center">可变</th>
<th style="text-align:center">可迭代</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">元组 tuple</td>
<td style="text-align:center">任何类型</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">×</td>
<td style="text-align:center">✓</td>
</tr>
<tr>
<td style="text-align:center">列表 list</td>
<td style="text-align:center">任何类型</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">✓</td>
</tr>
<tr>
<td style="text-align:center">字符串 string</td>
<td style="text-align:center">str</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">×</td>
<td style="text-align:center">✓</td>
</tr>
<tr>
<td style="text-align:center">范围 range</td>
<td style="text-align:center">整形 integer</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">×</td>
<td style="text-align:center">✓</td>
</tr>
<tr>
<td style="text-align:center">迭代器 iterator</td>
<td style="text-align:center">任何类型</td>
<td style="text-align:center">×</td>
<td style="text-align:center">×</td>
<td style="text-align:center">✓</td>
</tr>
<tr>
<td style="text-align:center">生成器 generator</td>
<td style="text-align:center">任何类型</td>
<td style="text-align:center">×</td>
<td style="text-align:center">×</td>
<td style="text-align:center">✓</td>
</tr>
</tbody>
</table>
<p>构造：</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">写法</th>
<th style="text-align:center">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">tuple</td>
<td style="text-align:center">(1,4,&quot;Hello&quot;,(2,3))<br>()</td>
<td style="text-align:center">1,4,&quot;Hello&quot;,(2,3) <br>空序列</td>
</tr>
<tr>
<td style="text-align:center">list</td>
<td style="text-align:center">[1,4,&quot;Hello&quot;,(2,3)] <br>[]</td>
<td style="text-align:center">1,4,&quot;Hello&quot;,(2,3) <br>空序列</td>
</tr>
<tr>
<td style="text-align:center">range</td>
<td style="text-align:center">range(4)<br> range(1,12,2)</td>
<td style="text-align:center">0,1,2,3 <br>1,3,5,7,9,11</td>
</tr>
</tbody>
</table>
<p><em>string 类型即可用<code>''</code>，也可用<code>&quot;&quot;</code></em></p>
<p><strong>切片 slicing</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">t = (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>)<br><br>t[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>] == (<span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>)<br>t[<span class="hljs-number">2</span>:] == (<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>)<br>t[::-<span class="hljs-number">1</span>] == t[<span class="hljs-number">0</span>:<span class="hljs-built_in">len</span>(t):-<span class="hljs-number">1</span>] == (<span class="hljs-number">11</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure>
<p>序列之间可以嵌套，相同序列可以相加：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">A = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<br>B = [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>A + B == [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>A * <span class="hljs-number">3</span> == [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure>
<h2 id="for-循环">for 循环</h2>
<p>使用 for 循环可对可迭代对象迭代:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure>
<p>多变量迭代：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">L = [(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">8</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">7</span>)]<br><span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> L:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;x,y=(<span class="hljs-subst">&#123;x&#125;</span>,<span class="hljs-subst">&#123;y&#125;</span>)&quot;</span>)<br><br>x,y=(<span class="hljs-number">1</span>,<span class="hljs-number">9</span>)<br>x,y=(<span class="hljs-number">2</span>,<span class="hljs-number">8</span>)<br>⋯<br></code></pre></td></tr></table></figure>
<p><code>zip</code>函数能将多个序列合并为一个，返回一个 generator</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">3</span>,<span class="hljs-number">10</span>]))<br>[(<span class="hljs-number">1</span>,<span class="hljs-number">9</span>),(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>),(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>),(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)]<br></code></pre></td></tr></table></figure>
<p><code>for</code>，<code>if</code>，<code>list</code>综合应用：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">[表达式 <span class="hljs-keyword">for</span> 变量 <span class="hljs-keyword">in</span> 序列表达式 <span class="hljs-keyword">if</span> boolean表达式]<br><br>可以嵌套<span class="hljs-keyword">for</span>循环：<br><span class="hljs-meta">&gt;&gt;&gt; </span>[(a,b)<span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>,<span class="hljs-number">13</span>) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>)]<br>[(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">10</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">11</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">11</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">12</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">12</span>, <span class="hljs-number">1</span>)]<br></code></pre></td></tr></table></figure>
<p>所以 Python 程序总是写成一行，让人很难理解。</p>
<h2 id="数据抽象-Data-Abstraction">数据抽象 Data Abstraction</h2>
<ul>
<li>抽象数据类型 Abstract data type（ADT）</li>
<li>接口 interface</li>
<li>API：Application Programming Interface 应用编程接口</li>
<li>constructor：例如 pair</li>
<li>accessor：例如 left 和 right</li>
<li>mutator：例如 set_left 和 set_right</li>
</ul>
<h2 id="字典-dictionary，矩阵-matrix，树-tree">字典 dictionary，矩阵 matrix，树 tree</h2>
<p><code>dictionary</code>相当于键值对的映射，排序方式为插入顺序：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">words=&#123;<span class="hljs-string">&quot;ljkadf&quot;</span>:<span class="hljs-string">&quot;fadjosodfsij&quot;</span>,<span class="hljs-string">&quot;jfoe&quot;</span>:<span class="hljs-string">&quot;aewffe&quot;</span>&#125;<br>words[<span class="hljs-string">&quot;ljkadf&quot;</span>]==<span class="hljs-string">&quot;fadjosodfsij&quot;</span><br></code></pre></td></tr></table></figure>
<p>矩阵实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">matrix</span>(<span class="hljs-params">rows, cols</span>):<br>    <span class="hljs-keyword">return</span> [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cols)] <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(rows)]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">matrix, row, col</span>):<br>    <span class="hljs-keyword">return</span> matrix[row][col]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_value</span>(<span class="hljs-params">matrix, row, col, val</span>):<br>    matrix[row][col] = val<br></code></pre></td></tr></table></figure>
<p>树的实现（list+tuple）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">tree</span>(<span class="hljs-params">label, children=[]</span>):<br>    <span class="hljs-keyword">return</span> (label, children)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">label</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">children</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">1</span>]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_leaf</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(children(tree)) == <span class="hljs-number">0</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_leaves</span>(<span class="hljs-params">t</span>):<br>    <span class="hljs-keyword">if</span> (is_leaf(t)):<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        children_leaves = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> children(t):<br>            children_leaves += count_leaves(c)<br>        <span class="hljs-keyword">return</span> children_leaves<br></code></pre></td></tr></table></figure>
<p>将树上的值翻倍：</p>
<p><strong>非破坏性操作 Non-destructive</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">tree</span>(<span class="hljs-params">label, children=[]</span>):<br>    <span class="hljs-keyword">return</span> (label, children)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">label</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">children</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">1</span>]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_leaf</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(children(tree)) == <span class="hljs-number">0</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">double</span>(<span class="hljs-params">t</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;返回一棵树&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> (is_leaf(t)):<br>        <span class="hljs-keyword">return</span> tree(label(t) * <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">else</span>:<br>        doubled_children = []<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> children(t):<br>            doubled_children.append(double(c))<br>        <span class="hljs-keyword">return</span> tree(label(t) * <span class="hljs-number">2</span>, doubled_children)<br></code></pre></td></tr></table></figure>
<p><strong>破坏性操作 Destructive</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">tree</span>(<span class="hljs-params">label, children=[]</span>):<br>    <span class="hljs-keyword">return</span> [label] + children<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">label</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">children</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> tree[<span class="hljs-number">1</span>:]<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_leaf</span>(<span class="hljs-params">tree</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(children(tree)) == <span class="hljs-number">0</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_label</span>(<span class="hljs-params">tree, label</span>):<br>    tree[<span class="hljs-number">0</span>] = label<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_children</span>(<span class="hljs-params">tree, children</span>):<br>    tree[<span class="hljs-number">1</span>] = children<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">double</span>(<span class="hljs-params">t</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;直接在原树上修改&quot;&quot;&quot;</span><br>    set_label(t, label(t) * <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> is_leaf(t):<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> children(t):<br>            double(c)<br></code></pre></td></tr></table></figure>
<p>方法一中的树为<strong>不可变的 immutable</strong>，方法二中的是<strong>可变的 mutable</strong></p>
<p>注意：<em>tuple 不可变，但可以修改其中的 list 中的值（因为 tuple 中存的类似于 list 的内存地址）</em></p>
<ul>
<li><code>append()</code>：在 list 后添加一个元素</li>
<li><code>extend()</code>：在 list 后添加另一个 list 中的所有元素</li>
<li><code>pop()</code>：删除并返回最后一个元素</li>
<li><code>remove(x)</code>：删除第一个和<code>x</code>相同的参数</li>
</ul>
<h2 id="相等-Equality-和同一-Identity">相等 Equality 和同一 Identity</h2>
<p>Identity: a is b<br>
Equality: a == b</p>
<p>Identity 可以理解为指向同一位置的指针</p>
<h2 id="迭代器-Iterator-和生成器-Generator">迭代器 Iterator 和生成器 Generator</h2>
<p><code>iter(可迭代对象)</code>返回一个迭代器<br>
<code>next(迭代器)</code>返回迭代器的下一个元素</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">L = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>it1 = <span class="hljs-built_in">iter</span>(L)<br><span class="hljs-built_in">next</span>(it1)  <span class="hljs-comment">#1</span><br><br><span class="hljs-string">&quot;&quot;&quot;本质上调用了__iter__()和__next__()对象&quot;&quot;&quot;</span><br>it2 = L.__iter__()<br>it2.__next__()  <span class="hljs-comment">#1</span><br></code></pre></td></tr></table></figure>
<p>返回 iterator 的函数：</p>
<ul>
<li><code>reversed(序列)</code>：返回相当于反迭代器</li>
<li><code>map(func,可迭代对象)</code>：对于每一个可迭代对象中的元素<code>x</code>调用<code>func(x)</code>，相当于<code>[func(x) for x in 可迭代对象</code></li>
<li><code>filter(func,可迭代对象)</code>：返回满足<code>func(x)</code>的可迭代对象中的每一个元素<code>x</code>，相当于<code>[x for x in 可迭代对象 if func(x)</code></li>
</ul>
<p><code>sorted(可迭代对象,key=None,reverse=False)</code>：返回按照<code>key</code>函数排序好的列表</p>
<p><strong>generator</strong>是一种 iterator，其由 generator function 生成</p>
<p><strong>generator function</strong>使用<code>yield</code>代替<code>return</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">evens</span>():<br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> num &lt; <span class="hljs-number">10</span>:<br>        <span class="hljs-keyword">yield</span> num<br>        num += <span class="hljs-number">2</span><br><br>使用时：<br><span class="hljs-meta">&gt;&gt;&gt; </span>evengen=evens()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(evengen)<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(evengen)<br><span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(evengen)<br><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure>
<p>generator 的优点在于只在需要的时候生成下一项</p>
<h2 id="对象-Object-和类-Class">对象 Object 和类 Class</h2>
<p>Python 中使用<code>__</code>和<code>_</code>给变量命名表示私有变量，但仍可强行从外部访问</p>
<h2 id="继承-Inheritance-和组合-Composition">继承 Inheritance 和组合 Composition</h2>
<p>继承的声明方法：<code>class Lion(Animal):</code></p>
<p>可使用<code>super().__init__()</code>调用基类的<code>__init__()</code>方法</p>
<p>Inheritance 表示&quot;is-a&quot;关系，Composition 表示&quot;has-a&quot;关系</p>
<h2 id="特殊对象方法-Special-Object-Methods">特殊对象方法 Special Object Methods</h2>
<p>Python 中所有类型都是对象，都继承自<code>object</code>类</p>
<p><code>dir()</code>返回所有对象属性的列表</p>
<ul>
<li><code>__init__(self)</code>方法在对象被实例化时调用，第一个参数为自身</li>
<li><code>__str__()</code>控制<code>print()</code>的输出，<code>str()</code>的转换之类</li>
<li><code>__repr__()</code>返回构造相同对象的字符串</li>
<li><code>getattr(对象,变量名[,默认值])</code>在对象中查找该名称的变量值，若没有找到，返回<code>AttributeError</code>或默认值，背后调用的是<code>__getattribute__()</code>方法</li>
<li><code>hasattr(对象,变量名)</code>在对象中查找该名称的变量值并返回是否找到，背后调用的也是<code>__getattribute__()</code></li>
</ul>
<p>还有其它的：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>实现</th>
<th>方法</th>
<th>实现</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__setattr__(obj,&quot;n&quot;,v)</code></td>
<td><code>x.n=v</code></td>
<td><code>__delattr__(obj,&quot;n&quot;)</code></td>
<td><code>del x.n</code></td>
</tr>
<tr>
<td><code>__eq__(obj,x)</code></td>
<td><code>obj==x</code></td>
<td><code>__ne__(obj,x)</code></td>
<td><code>obj!=x</code></td>
</tr>
<tr>
<td><code>__ge__(obj,x)</code></td>
<td><code>obj&gt;=x</code></td>
<td><code>__gt__(obj,x)</code></td>
<td><code>obj&gt;x</code></td>
</tr>
<tr>
<td><code>__le__(obj,x)</code></td>
<td><code>obj&lt;=x</code></td>
<td><code>__lt__(obj,x)</code></td>
<td><code>obj&lt;x</code></td>
</tr>
<tr>
<td><code>__getitem__(S,k)</code></td>
<td><code>S[k]</code></td>
<td><code>__setitem__(S,k,v)</code></td>
<td><code>S[k]=v</code></td>
</tr>
<tr>
<td><code>__len__(S)</code></td>
<td><code>len(S)</code></td>
<td><code>__sub__(S,x)</code></td>
<td><code>S-x</code></td>
</tr>
<tr>
<td><code>__mul__(S,x)</code></td>
<td><code>S*x</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="复杂度-Complexity">复杂度 Complexity</h2>
<p>无论 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 有多大，总有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>≤</mo><msub><mi>K</mi><mn>2</mn></msub><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K_1g(n) ≤ f(n) ≤ K_2g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，记作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>∈</mo><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n) ∈ Θ(g(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>（有的也写作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n) = Θ(g(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>）</p>
<h2 id="记忆化-Memoization">记忆化 Memoization</h2>
<p>凑钱问题：</p>
<p>普通递归解法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_change</span>(<span class="hljs-params">amount, coins=(<span class="hljs-params"><span class="hljs-number">50</span>, <span class="hljs-number">25</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span></span>)</span>):<br>    <span class="hljs-keyword">if</span> amount == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> amount &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(coins) == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> count_change(amount, coins[<span class="hljs-number">1</span>:]) + count_change(amount - coins[<span class="hljs-number">0</span>], coins)<br></code></pre></td></tr></table></figure>
<p>观察到有大量的重复计算，可使用<strong>记忆表 memorize table</strong>储存已算出的值：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_change</span>(<span class="hljs-params">amount, coins=(<span class="hljs-params"><span class="hljs-number">50</span>, <span class="hljs-number">25</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span></span>)</span>):<br>    memo_table = [[-<span class="hljs-number">1</span>] * (<span class="hljs-built_in">len</span>(coins) + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(amount + <span class="hljs-number">1</span>)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">count_change</span>(<span class="hljs-params">amount, coins</span>):<br>        <span class="hljs-keyword">if</span> amount &lt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">elif</span> memo_table[amount][<span class="hljs-built_in">len</span>(coins)] == -<span class="hljs-number">1</span>:<br>            memo_table[amount][<span class="hljs-built_in">len</span>(coins)] = full_count_change(amount, coins)<br>        <span class="hljs-keyword">return</span> memo_table[amount][<span class="hljs-built_in">len</span>(coins)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">full_count_change</span>(<span class="hljs-params">amount, coins</span>):<br>        <span class="hljs-keyword">if</span> amount == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> amount &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(coins) == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> count_change(amount, coins[<span class="hljs-number">1</span>:]) + count_change(amount - coins[<span class="hljs-number">0</span>], coins)<br><br>    <span class="hljs-keyword">return</span> count_change(amount, coins)<br></code></pre></td></tr></table></figure>
<p>观察到总是 amount 小且使用 coins 少的先计算出，所以可以用循环控制顺序，即<strong>动态规划 Dynamic Programming</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_change</span>(<span class="hljs-params">amount, coins=(<span class="hljs-params"><span class="hljs-number">50</span>, <span class="hljs-number">25</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span></span>)</span>):<br>    memo_table = [[-<span class="hljs-number">1</span>] * (<span class="hljs-built_in">len</span>(coins) + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(amount + <span class="hljs-number">1</span>)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">count_change</span>(<span class="hljs-params">amount, coins</span>):<br>        <span class="hljs-keyword">if</span> amount &lt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">return</span> memo_table[amount][<span class="hljs-built_in">len</span>(coins)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">full_count_change</span>(<span class="hljs-params">amount, coins</span>):<br>        <span class="hljs-keyword">if</span> amount == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> amount &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(coins) == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> count_change(amount, coins[<span class="hljs-number">1</span>:]) + count_change(amount - coins[<span class="hljs-number">0</span>], coins)<br><br>    <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, amount + <span class="hljs-number">1</span>):<br>        memo_table[a][<span class="hljs-number">0</span>] = full_count_change(a, ())<br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(coins) + <span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, amount + <span class="hljs-number">1</span>):<br>            memo_table[a][k] = full_count_change(a, coins[-k:])<br>    <span class="hljs-keyword">return</span> count_change(amount, coins)<br></code></pre></td></tr></table></figure>
<h2 id="泛型-Generics">泛型 Generics</h2>
<p><strong>鸭子类型 Duck typing</strong>通过<strong>鸭子测试</strong>，即多种类型具有相同的性质，都适用于同一个函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">items, initial_value</span>):<br>    <span class="hljs-built_in">sum</span> = initial_value<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-built_in">sum</span> += item<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span><br></code></pre></td></tr></table></figure>
<p>该函数就是一个泛型函数，只要<code>items</code>满足能迭代，可相加即可</p>
<p><code>f string</code>：使用<code>{变量名}</code>表示变量值而不是字符串</p>
<p><code>str.join(可迭代对象)</code>用法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>.join((<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)))<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">1</span><br><span class="hljs-string">2</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>
<h2 id="Scheme">Scheme</h2>
<p><strong>Scheme</strong>是<strong>Lisp</strong>的一种方言</p>
<p><strong>applicative programming</strong>应用程序编程：没有副作用、破坏性操作、赋值的程序，更便于并行编程</p>
<p>scheme 的数据有<strong>atom 原子</strong>和<strong>pair</strong></p>
<p>atom 包括：</p>
<ul>
<li>数字：整数、浮点、复数、有理数</li>
<li>symbol：类似于 string</li>
<li>boolean：#t，#f</li>
<li>空列表：()</li>
<li>procedure</li>
</ul>
<p>列表表示为：<code>(V1.(V2.(⋯(Vn.()))))</code>，<s>数不尽的括号</s></p>
<p><strong>Scheme programs are Scheme data</strong>，都类似于<code>(OP E1 ⋯ En)</code>，例如：表达式<code>(+(* 3 7) (- x))</code>也是一个列表，在 Scheme 中，其已经是一棵<strong>abstract syntax tree 抽象语法树</strong>了</p>
<p>quotation 引用：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme">scm&gt; (<span class="hljs-name"><span class="hljs-built_in">+</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br>scm&gt; &#x27;(+ <span class="hljs-number">1</span> <span class="hljs-number">2</span>)<br>(<span class="hljs-name"><span class="hljs-built_in">+</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">quote</span></span> (<span class="hljs-name">1</span> <span class="hljs-number">2</span> &#x27;(<span class="hljs-number">3</span> <span class="hljs-number">4</span>)))<br>(<span class="hljs-name">1</span> <span class="hljs-number">2</span> &#x27;(<span class="hljs-number">3</span> <span class="hljs-number">4</span>))<br></code></pre></td></tr></table></figure>
<p>其它特别的形式：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme">(<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">&gt;</span></span> x y) x y)<br>(<span class="hljs-name"><span class="hljs-built_in">define</span></span> pi <span class="hljs-number">3.14</span>)<br>(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">f</span> x) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> x x))<br>(<span class="hljs-name"><span class="hljs-built_in">lambda</span></span> (x y) (<span class="hljs-name"><span class="hljs-built_in">/</span></span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> x x) y))<br>(<span class="hljs-name"><span class="hljs-built_in">cond</span></span> ((<span class="hljs-name"><span class="hljs-built_in">&lt;</span></span> x <span class="hljs-number">1</span>)<span class="hljs-symbol">&#x27;small</span>)<br>    (<span class="hljs-name"><span class="hljs-built_in">&lt;</span></span> x <span class="hljs-number">3</span>)<span class="hljs-symbol">&#x27;medium</span>)<br>    (<span class="hljs-name"><span class="hljs-built_in">&lt;</span></span> x <span class="hljs-number">5</span>)<span class="hljs-symbol">&#x27;large</span>)<br>    (<span class="hljs-literal">#t</span> <span class="hljs-symbol">&#x27;big</span>))<br></code></pre></td></tr></table></figure>
<p>对应于 python 中的：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python">x <span class="hljs-keyword">if</span> x &gt; y <span class="hljs-keyword">else</span> y<br>pi = <span class="hljs-number">3.14</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> x * x<br><span class="hljs-keyword">lambda</span> x, y: x * x / y<br><span class="hljs-string">&quot;small&quot;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;medium&quot;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;large&quot;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">5</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;big&quot;</span><br></code></pre></td></tr></table></figure>
<p>一些表达式：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme">scm&gt; (<span class="hljs-name"><span class="hljs-built_in">/</span></span> <span class="hljs-number">3</span> <span class="hljs-number">2</span>)<br><span class="hljs-number">1.5</span><br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">quotient</span></span> <span class="hljs-number">3</span> <span class="hljs-number">2</span>) <span class="hljs-comment">;向0取整</span><br><span class="hljs-number">1</span><br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">integer?</span></span> <span class="hljs-number">5</span>)<br>##t<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">=</span></span> <span class="hljs-number">1</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> <span class="hljs-number">2</span> <span class="hljs-number">1</span>))<span class="hljs-comment">;只对数字有效</span><br>##t<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">eqv?</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)<span class="hljs-comment">;对数字，空列表，bool，symbols都有效</span><br>##f<br></code></pre></td></tr></table></figure>
<p>pairs：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme">scm&gt; (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> <span class="hljs-symbol">&#x27;a</span> (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> <span class="hljs-symbol">&#x27;b</span> &#x27;()))<br>(<span class="hljs-name">a</span> b)<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">define</span></span> L &#x27;(a b c))<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">car</span></span> L)<br>a<br>scm&gt; (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> L)<br>(<span class="hljs-name">b</span> c)<br></code></pre></td></tr></table></figure>
<p>Let 形式：</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme">scm&gt; (<span class="hljs-name"><span class="hljs-built_in">let</span></span> ((<span class="hljs-name">x</span> <span class="hljs-number">5</span>)<br>    (<span class="hljs-name">y</span> (<span class="hljs-name"><span class="hljs-built_in">+</span></span> x <span class="hljs-number">2</span>)))<br>    (<span class="hljs-name"><span class="hljs-built_in">+</span></span> x y))<br>相当于：<br>scm&gt; ((<span class="hljs-name"><span class="hljs-built_in">lambda</span></span> (x y) (<span class="hljs-name"><span class="hljs-built_in">+</span></span> x y)) <span class="hljs-number">5</span> (<span class="hljs-name"><span class="hljs-built_in">+</span></span> x <span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure>
<h2 id="不可判定性-Undecidability">不可判定性 Undecidability</h2>
<p><strong>停机问题 halting problem</strong>研究的是：是否存在一个「程序」，能够判断另外一个「程序」在特定的「输入」下，是会给出结果（停机），还是会无限执行下去（不停机）。</p>
<p>类似于<strong>理发师悖论</strong>，解决方法为：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs Python"><span class="hljs-string">&quot;&quot;&quot;假设有一个程序is_halt能实现该功能：&quot;&quot;&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_halt</span>(<span class="hljs-params">program, <span class="hljs-built_in">input</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>  <span class="hljs-comment"># 返回 True  如果 program(input) 会返回</span><br>  <span class="hljs-comment"># 返回 False 如果 program(input) 不返回</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">loop</span>():<br>  <span class="hljs-keyword">while</span>(<span class="hljs-literal">True</span>):<br>      <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hack</span>(<span class="hljs-params">program</span>):<br>  <span class="hljs-keyword">if</span> is_halt(program, program):<br>    loop()<br>  <span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">return</span><br><br><span class="hljs-string">&quot;&quot;&quot;你会发现，如果「停机程序」认为 hack(hack) 会给出结果，即 is_halt(hack, hack)返回 True ，那么实际上 hack(hack) 会进入无限循环。</span><br><span class="hljs-string">而如果「停机程序」认为 hack(hack) 不会给出结果，即 is_halt(hack, hack) 返回 false，那么实际上 hack(hack) 会立刻返回结果……&quot;&quot;&quot;</span><br><br>is_halt(hack, hack)<br></code></pre></td></tr></table></figure>
<p>所以：<strong>程序不是万能的！</strong>，也没有完美的防毒软件</p>
<p><strong>哥德尔不完全性定理</strong>：任意一个包含一阶谓词逻辑与初等数论的形式系统，都存在一个命题，它在这个系统中既不能被证明为真，也不能被证明为否。</p>
<h2 id="宏-Macro">宏 Macro</h2>
<p>在 C 语言中在预编译器中进行，类似于查找替换。在 scheme 中功能更强大，相当于写了一个程序但并不执行它，其中操作数并不计算，但要注意变量名字不要和代码中的重复了。</p>
<figure class="highlight scheme"><table><tr><td class="code"><pre><code class="hljs Scheme"><span class="hljs-comment">;与其写</span><br>(<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">not</span></span> (<span class="hljs-name"><span class="hljs-built_in">list?</span></span> x)) (<span class="hljs-name">displayln</span> x))<br><br><span class="hljs-comment">;可以用宏代替</span><br>(<span class="hljs-name">define-macro</span> (<span class="hljs-name"><span class="hljs-built_in">unless</span></span> cond body)<br>`(if (not ,cond) ,body))<br><br>(<span class="hljs-name"><span class="hljs-built_in">unless</span></span> (<span class="hljs-name"><span class="hljs-built_in">list?</span></span> x) (<span class="hljs-name">displayln</span> x))<br></code></pre></td></tr></table></figure>
<h2 id="声明式编程-Declarative-Programming">声明式编程 Declarative Programming</h2>
<p>与之相对的是<strong>命令式编程 Imperative Programming</strong>，注重如何实现一些计算<s>相当于只能苦苦码字的程序员</s>；而声明式编程关注结果，让计算机思考如何得到结果<s>相当于只会下命令给员工的老板</s>。</p>
<h2 id="正则表达式-Regular-Expressions">正则表达式 Regular Expressions</h2>
<p>详见：<a href="./2f57a694">正则表达式</a></p>
<p>注意：Python 中记得在字符串之前加<code>r</code>，表示为原字符串，否则<code>\</code>会被转义</p>
<h2 id="巴科斯范式-BNF">巴科斯范式 BNF</h2>
<p>巴科斯范式（BNF）所描述的语法是与上下文无关的。它具有语法简单，表示明确，便于语法分析和编译的特点。</p>
<p>图形化表示：<strong>铁路图 Railroad Diagram</strong></p>
<p>以一个算术表达式为例：</p>
<figure class="highlight bnf"><table><tr><td class="code"><pre><code class="hljs bnf">expression = term , &#123;&quot;+&quot; term&#125;;<br>term = factor , &#123;&quot;*&quot; factor&#125;;<br>factor = constant | variable | &quot;(&quot; , expression , &quot;)&quot;;<br>variable = &quot;x&quot; | &quot;y&quot; | &quot;z&quot;;<br>constant = digit , &#123;digit&#125;;<br>digit = &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | &quot;8&quot; | &quot;9&quot;;<br></code></pre></td></tr></table></figure>
<p>对应的铁路图为：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A/%E9%93%81%E8%B7%AF%E5%9B%BE.webp" alt="铁路图"></p>
<h2 id="多态-Polymorphism">多态 Polymorphism</h2>
<p>多态指为不同数据类型的实体提供统一的接口，在 Python 中包括：</p>
<ul>
<li>一个函数可运行在不同类的对象上</li>
<li>泛型函数，接受不同对象，Duck typing</li>
<li><strong>强制多态 coercion</strong>，类似于强制类型转换</li>
<li><strong>类型分派 type dispatching</strong>：按照参数类型决定函数表现</li>
</ul>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">计算机科学</a><a class="post-meta__tags" href="/tags/UC-Berkeley/">UC Berkeley</a><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/Scheme/">Scheme</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/f09c1ee5.html" title="1000年的守望"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/AIR.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">1000年的守望</div></div><div class="info-2"><div class="info-item-1">  当年第一次看到最后，牵着手的男孩子和女孩子渐渐变为 Air 的标志时，简直感动得说不出话  The 1000th summer The days which are wrapped in the scene of summer and to pass gently An encounter with the girls repeated in the sunlight Summer continue to where as well She is waiting in the air。 那是第 1000 个夏天,那是一切宿命的终点,也是新的旅途的起点. Dream  多年以前我第一次看《AIR》的时候，印象最深刻的就是黄昏的海边，神尾观铃推开爸爸递过来的她最喜欢的果汁和恐龙玩偶，挣扎着哭着喊“妈妈”的场景,当时就感动得稀里哗啦。现在看来，那份感动还是让人难以忘怀。 当时就感叹这么好的故事，可惜受限于当年的技术水平，画面很明显太单调，画风也从现在的角度看来太古老了。而且只有 12 集，没能把精心编排的故事交讲好，没有后面出的《Clannad》运气好，也难怪现在 AIR...</div></div></div></a><a class="pagination-related" href="/posts/dd378ae0.html" title="Stanford CS106L：标准C++程序设计"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Stanford%20CS106L%EF%BC%9A%E6%A0%87%E5%87%86%20C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Stanford CS106L：标准C++程序设计</div></div><div class="info-2"><div class="info-item-1"> 流 Stream stream 相当于缓冲区 buffer，在不同物件中传输数据 构造 stringstream ##include &lt;iostream&gt;##include &lt;sstream&gt;##include &lt;string&gt;int main() &#123;    std::istringstream iss(&quot;Initial&quot;);    std::ostringstream oss(&quot;Initial&quot;);    std::string s;    iss &gt;&gt; s;    oss &lt;&lt; s;    return 0;&#125; 四个 bits：  Good：准备好读写 Fail：之前的操作失败了 EOF：之前的操作到达了 buffer 的末尾 Bad：外部错误  通常检查 EOF 和 Fail 位的状态 不要大量使用 std::endl，因为每次使用时都会清除一次 buffer，导致效率低下，改为 \n。 还有很多 manipulator 可供使用，例如控制格式的...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="iconfont icon-tuijian"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/518e2799.html" title="UCB CS61C：计算机架构的伟大思想"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS61C%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%9E%B6%E6%9E%84%E7%9A%84%E4%BC%9F%E5%A4%A7%E6%80%9D%E6%83%B3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="info-item-2">UCB CS61C：计算机架构的伟大思想</div></div><div class="info-2"><div class="info-item-1">RISC-V RISC 哲学：  保持指令集小而简单，让其能更容易构建快速的硬件 通过将简单的组合在一起让软件实现复杂的操作  RISC-V 中有 32 个寄存器  序号为 x0-31 x0 的值总是为 0 可以使用序号引用，也可以使用名字  注释 #，只支持单行注释 加减的基本格式：sub x3, x4, x5 等价于 x3 = x4 - x5 立即数有不同的指令：addi x3, x4, 10，即最后一个数必须为立即数。注意到没有对应的减法的版本，因为可以通过加法实现 因为 0 非常常用，所以 x0 寄存器在硬件上设置为 0，即例如 add x0, x3, x4 的指令无效 从内存中读取数据：lw x10, 12(x15)，其中 x15 指向 int 数组 A，则 x10 = A[3]，即 12 表示字节的偏移 将数据存到内存中：sw x10, 40(x15) 除了按 word 转移数据，也支持按字节 byte 转移数据，如 lb、sb，注意 lb x10, 3(x11) 将内存中的数据复制到 x10 的低位中，使用符号扩展前面的内容 也有 unsigned 版本...</div></div></div></a><a class="pagination-related" href="/posts/7ea0cbe4.html" title="UCB CS61B：数据结构与算法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS61B%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-30</div><div class="info-item-2">UCB CS61B：数据结构与算法</div></div><div class="info-2"><div class="info-item-1">介绍 先来个Helloword： public class Helloworld &#123;    public static void main(String[] args) &#123;        System.out.println(&quot;Hello world&quot;);    &#125;&#125; Java 的特点：  所有代码都必须在类里面 语句组用大括号，语句末用分号 变量使用前先声明 变量类型是确定的，且不可变（静态语言） 注意public，private等 函数参数需要声明类型，返回值也是 所有 Java 中的函数都是方法  确定变量类型的优点：  运行速度快 可读性强 减少类型错误  缺点：  代码复杂  类 class 的使用 假如有这样一个类： public class Dog &#123;    public int weight;    public Dog(int startingweight) &#123;        weight = startingweight;    &#125;    public static...</div></div></div></a><a class="pagination-related" href="/posts/f1252f66.html" title="ETH Zurich：数字设计与计算机体系结构"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/ETH%20Zurich%EF%BC%9A%E6%95%B0%E5%AD%97%E8%AE%BE%E8%AE%A1%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-25</div><div class="info-item-2">ETH Zurich：数字设计与计算机体系结构</div></div><div class="info-2"><div class="info-item-1">引言与基础 Introduction and Basics 当前的四大方向：  安全 节省能源 低延时和可预测 AI/ML，生物，医疗，健康等的专属硬件  课程高层次目标：  了解基础 原则 惯例  基于此：  了解计算机工作 权衡不同的设计和思想 实现基于原则的硬件 在越来越复杂的系统中 debug 开发新颖的、开箱即用的设计  这些 DDCA 的原则有利于：  设计更好的硬件、软件、系统 设计中更好地取舍 了解计算机工作原理 并行、批判性思考  最重要的是：  Learning is for life, while exam study is until you pass.   机会在底层 内存中的问题：  row hammer meltdown and spectre data movement  权衡，指标 Tradeoffs, Metrics 数据移动消耗了大量的能源，尤其是在机器学习中 新的计算范式（重新思考整个栈）：  在内存中处理，在数据边处理 量子计算 安全与可靠计算机  新的加速单元与系统（算法-硬件协同设计）：  AI &amp; ML 图 &amp;...</div></div></div></a><a class="pagination-related" href="/posts/d2849331.html" title="计算机科学中的伟大思想"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%AD%E7%9A%84%E4%BC%9F%E5%A4%A7%E6%80%9D%E6%83%B3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-25</div><div class="info-item-2">计算机科学中的伟大思想</div></div><div class="info-2"><div class="info-item-1"> 从第一行 “hello world” 开始，到各种精巧的细分领域的学习，再到第一次编写一个完整的程序——你已经历许多，现在，请开启你最伟大的冒险吧。从一行一行的代码到复杂的程序项目。  你好，世界 从为了使用 LaTeX 编写数学公式而编写文章，到目前为止，这一分类的文章数量虽然算不得多，但也不少了。40 余篇虽然远不及别人一年发的 SCI...</div></div></div></a><a class="pagination-related" href="/posts/dcdf88c8.html" title="计算机科学速成课"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E9%80%9F%E6%88%90%E8%AF%BE.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-19</div><div class="info-item-2">计算机科学速成课</div></div><div class="info-2"><div class="info-item-1">计算机早期历史 Early Computing 公认最早的计算设备的算盘，注意不是中国的，而是美索不达米亚文明的，它没有计算的功能，只是用于记录数据。 最早使用计算机 computer 一词的文献是 1613 年的一本书，指的是一种职业，即负责计算的人，他们有时也会使用机器辅助计算，所以渐渐地“计算机”也代指机器。 步进计算器：由莱布尼兹发明，像汽车的里程表   加法：由多个齿轮组成，每当一个齿轮转过 9，它会转回 0，同时让旁边的齿轮前进一个齿   减法：反向旋转   乘除：本质上是加法或减法的叠加   所以它是第一台能做“加减乘除”的机器   计算表：预先算好，也就是早期的打表法，类似与字典之类的工具书，但不够灵活。 Charles Babbage 提出了“差分机”，能近似多项式，但最终没做出来，后来有人历史学家按照它的设计图做了出来，发现确实可以做到。 在做这台机器的过程中，这个人提出了一种“分析机”的概念，是“通用计算机”，和后来的冯诺依曼结构是一种东西，但实在是太超前了，当时仅存在于概念上。 此人被认为是“计算之父” Ada Lovelace...</div></div></div></a><a class="pagination-related" href="/posts/b0fa4c58.html" title="UCB CS126：概率论"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS126%EF%BC%9A%E6%A6%82%E7%8E%87%E8%AE%BA.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-26</div><div class="info-item-2">UCB CS126：概率论</div></div><div class="info-2"><div class="info-item-1">页面排序 PageRank 模型 网页间的链接构成一副图 如果有高名次的页面指向一个页面，则该页面有较高的名次，即 π(i)=∑j∈Xπ(j)P(j,i),i∈Xπ(i) = \sum_{j ∈ X} π(j) P(j, i), i ∈ X π(i)=j∈X∑​π(j)P(j,i),i∈X 注意其中 P(j,i)P(j, i)P(j,i) 为指向 iii 的链接，单位化后的结果 写成矩阵： π=πPπ = π P π=πP 还有一重单位化的约束： ∑i∈Xπ(i)=1\sum_{i ∈ X} π(i) = 1 i∈X∑​π(i)=1 马尔科夫链 可以用公式定义马尔科夫链： P[X(n+1)=j∣X(n)=i,X(m),m&lt;n]=P(i,j),∀i,j∈X,n≥0P[X(n+1) = j | X(n) = i, X(m), m &lt; n] = P(i, j), ∀ i, j ∈ X, n ≥ 0 P[X(n+1)=j∣X(n)=i,X(m),m&lt;n]=P(i,j),∀i,j∈X,n≥0 其中 X(n)X(n)X(n) 表示时间 nnn...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Aefrivern</div><div class="author-info-description">我一定会回来的</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">193</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">251</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/aefrivern" rel="external nofollow noreferrer" target="_blank" title="icon-github"><i class="GitHub"></i></a><a class="social-icon" href="mailto:2771503468@qq.com" rel="external nofollow noreferrer" target="_blank" title="icon-youxiang"><i class="QQ邮箱"></i></a><a class="social-icon" href="https://steamcommunity.com/id/old_driver_zero" rel="external nofollow noreferrer" target="_blank" title="icon-steam"><i class="Steam"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:25px;width:25px;fill:currentColor;position:relative;top:5px" aria-hidden="true"><use xlink:href="#icon-mulu"></use></svg></a><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC-Values"><span class="toc-number">1.</span> <span class="toc-text">值 Values</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-Functions%EF%BC%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F-Expressions%EF%BC%8C%E7%8E%AF%E5%A2%83-Environments"><span class="toc-number">2.</span> <span class="toc-text">函数 Functions，表达式 Expressions，环境 Environments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6-Control"><span class="toc-number">3.</span> <span class="toc-text">控制 Control</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92-Recursion"><span class="toc-number">4.</span> <span class="toc-text">递归 Recursion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8-Exception"><span class="toc-number">5.</span> <span class="toc-text">异常 Exception</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E5%99%A8-Decorator"><span class="toc-number">6.</span> <span class="toc-text">修饰器 Decorator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8-Container"><span class="toc-number">7.</span> <span class="toc-text">容器 Container</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.</span> <span class="toc-text">for 循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1-Data-Abstraction"><span class="toc-number">9.</span> <span class="toc-text">数据抽象 Data Abstraction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-dictionary%EF%BC%8C%E7%9F%A9%E9%98%B5-matrix%EF%BC%8C%E6%A0%91-tree"><span class="toc-number">10.</span> <span class="toc-text">字典 dictionary，矩阵 matrix，树 tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E7%AD%89-Equality-%E5%92%8C%E5%90%8C%E4%B8%80-Identity"><span class="toc-number">11.</span> <span class="toc-text">相等 Equality 和同一 Identity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8-Iterator-%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8-Generator"><span class="toc-number">12.</span> <span class="toc-text">迭代器 Iterator 和生成器 Generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-Object-%E5%92%8C%E7%B1%BB-Class"><span class="toc-number">13.</span> <span class="toc-text">对象 Object 和类 Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-Inheritance-%E5%92%8C%E7%BB%84%E5%90%88-Composition"><span class="toc-number">14.</span> <span class="toc-text">继承 Inheritance 和组合 Composition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95-Special-Object-Methods"><span class="toc-number">15.</span> <span class="toc-text">特殊对象方法 Special Object Methods</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-Complexity"><span class="toc-number">16.</span> <span class="toc-text">复杂度 Complexity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96-Memoization"><span class="toc-number">17.</span> <span class="toc-text">记忆化 Memoization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B-Generics"><span class="toc-number">18.</span> <span class="toc-text">泛型 Generics</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scheme"><span class="toc-number">19.</span> <span class="toc-text">Scheme</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%88%A4%E5%AE%9A%E6%80%A7-Undecidability"><span class="toc-number">20.</span> <span class="toc-text">不可判定性 Undecidability</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F-Macro"><span class="toc-number">21.</span> <span class="toc-text">宏 Macro</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%BC%96%E7%A8%8B-Declarative-Programming"><span class="toc-number">22.</span> <span class="toc-text">声明式编程 Declarative Programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-Regular-Expressions"><span class="toc-number">23.</span> <span class="toc-text">正则表达式 Regular Expressions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%B4%E7%A7%91%E6%96%AF%E8%8C%83%E5%BC%8F-BNF"><span class="toc-number">24.</span> <span class="toc-text">巴科斯范式 BNF</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81-Polymorphism"><span class="toc-number">25.</span> <span class="toc-text">多态 Polymorphism</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>安得广厦千万间，大庇天下寒士俱欢颜，风雨不动安如山。</div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/comments/">留点什么</a><a href="/random/">随便逛逛</a></li><li><a href="/about/">关于</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/gallery/">我的画廊</a><a href="/charts/">网站统计</a></li></ul></div></div></div></div><div class="copyright">&copy;2022 - 2025 By Aefrivern</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (true) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async src="//at.alicdn.com/t/c/font_4031045_1yiosqv4vch.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      window.location.href = e.request.responseURL
    }
  })
})()</script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/c/font_4031045_izvon5l4fr8.js"></script><!-- hexo injector body_end end --></body></html>