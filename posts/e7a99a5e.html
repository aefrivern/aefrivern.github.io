<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>UCB CS61A：计算机程序的构造与解释 | old-driver-zeroの小屋</title><meta name="author" content="old_driver_zero"><meta name="copyright" content="old_driver_zero"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="思维导图  值 Values 在 Python 中0o20为八进制的16，0b1101为二进制13，0x为十六进制。 还有字符串 string，元组 tuple，范围 range，列表 list，字典 dictionary，集合 set 函数 Functions，表达式 Expressions，环境 Environments 定义函数： 12def saxb(a,"><meta property="og:type" content="article"><meta property="og:title" content="UCB CS61A：计算机程序的构造与解释"><meta property="og:url" content="https://old-driver-zero.github.io/posts/e7a99a5e.html"><meta property="og:site_name" content="old-driver-zeroの小屋"><meta property="og:description" content="思维导图  值 Values 在 Python 中0o20为八进制的16，0b1101为二进制13，0x为十六进制。 还有字符串 string，元组 tuple，范围 range，列表 list，字典 dictionary，集合 set 函数 Functions，表达式 Expressions，环境 Environments 定义函数： 12def saxb(a,"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://old-driver-zero.github.io/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp"><meta property="article:published_time" content="2023-01-14T09:52:14.444Z"><meta property="article:modified_time" content="2023-04-05T11:45:59.549Z"><meta property="article:author" content="old_driver_zero"><meta property="article:tag" content="计算机科学"><meta property="article:tag" content="UC Berkeley"><meta property="article:tag" content="Python"><meta property="article:tag" content="Scheme"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://old-driver-zero.github.io/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp"><link rel="shortcut icon" href="/illustration/favicon.ico"><link rel="canonical" href="https://old-driver-zero.github.io/posts/e7a99a5e.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?da75f0595ffd5e578744142f5a6a471e";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"GY5EJYJ1FS",apiKey:"c443c952672ec7062840aac45536181e",indexName:"blog",hits:{per_page:10},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!1}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"UCB CS61A：计算机程序的构造与解释",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-04-05 19:45:59"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/pointer.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/barber-shop.css"><link rel="stylesheet" href="/css/one graph flow.css"><link rel="stylesheet" href="/css/navigation bar.css"><link rel="stylesheet" href="/css/neon light at night.css"><link rel="stylesheet" href="/css/article title.css"><link rel="stylesheet" href="/css/wide screen.css"><link rel="stylesheet" href="/css/card author.css"><link rel="stylesheet" href="/css/transpancy.css"><script src="https://npm.elemecdn.com/echarts@5.4.0/dist/echarts.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css"><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:yellow;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style><link rel="alternate" href="/atom.xml" title="old-driver-zeroの小屋" type="application/atom+xml"></head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw fas fa-paper-plane"></i> <span>二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-bar-chart"></i> <span>统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i> <span>随便逛逛</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="old-driver-zeroの小屋"><span class="site-name">old-driver-zeroの小屋</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw fas fa-paper-plane"></i> <span>二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-bar-chart"></i> <span>统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i> <span>随便逛逛</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">UCB CS61A：计算机程序的构造与解释</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-14T09:52:14.444Z" title="发表于 2023-01-14 17:52:14">2023-01-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-05T11:45:59.549Z" title="更新于 2023-04-05 19:45:59">2023-04-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3394</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><figure><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/UCB%20CS61A：计算机程序的构造与解释/思维导图.webp" alt="思维导图"><figcaption aria-hidden="true">思维导图</figcaption></figure><h1 id="值-values">值 Values</h1><p>在 Python 中<code>0o20</code>为八进制的<code>16</code>，<code>0b1101</code>为二进制<code>13</code>，<code>0x</code>为十六进制。</p><p>还有<strong>字符串 string</strong>，<strong>元组 tuple</strong>，<strong>范围 range</strong>，<strong>列表 list</strong>，<strong>字典 dictionary</strong>，<strong>集合 set</strong></p><h1 id="函数-functions表达式-expressions环境-environments">函数 Functions，表达式 Expressions，环境 Environments</h1><p>定义函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">saxb</span>(<span class="params">a, x, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a * x + b</span><br></pre></td></tr></table></figure><p>写成 λ 表达式（能当作表达式的函数）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> a, x, b: a * x + b</span><br></pre></td></tr></table></figure><ul><li>Environment 是<strong>名称</strong>对<strong>值</strong>的映射</li><li>在环境中<strong>名称</strong>被绑定到<strong>值</strong>上</li><li>最外层环境叫 <strong>global environment frame</strong></li></ul><p>函数被称为<strong>第一类值 first-class values</strong>，可以作为某一函数的参数或返回值：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_func</span>(<span class="params">f, g</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adder</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">return</span> f(x) + g(x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> adder</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> sin,cos,pi</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>h=add_func(sin,cos)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sin(pi/<span class="number">4</span>)+cos(pi/<span class="number">4</span>)</span><br><span class="line"><span class="number">1.414</span>⋯</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>h(pi/<span class="number">4</span>)</span><br><span class="line"><span class="number">1.414</span>⋯</span><br></pre></td></tr></table></figure><h1 id="控制-control">控制 Control</h1><p>有<code>if</code>，<code>while</code>，<code>for</code>等。</p><p>双分支：<code>True部分 if 条件 else False部分</code>，类似于 C 语言的<code>?:</code>运算符</p><p>多分支：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:</span><br><span class="line">    语句<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">2</span>:</span><br><span class="line">    语句<span class="number">2</span></span><br><span class="line">⋯</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句n</span><br></pre></td></tr></table></figure><p><em>注：<code>and</code>和<code>or</code>有短路作用</em></p><p><strong>注意缩进</strong></p><h1 id="递归-recursion">递归 Recursion</h1><p>一个函数只调用一次的叫做<strong>线性递归 Linear Recursion</strong>，在函数末尾调用的叫做<strong>尾递归 Tail Recursion</strong>，尾递归往往能写成循环形式。</p><p>如以下求平方和的程序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""循环形式："""</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_squares</span>(<span class="params">N</span>):</span><br><span class="line">    <span class="string">"""1^2+2^2+⋯N^2"""</span></span><br><span class="line">    accum = <span class="number">0</span></span><br><span class="line">    k = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> k &lt;= N:</span><br><span class="line">        accum = accum + k**<span class="number">2</span>  <span class="comment">#Python中两个乘号代表求幂</span></span><br><span class="line">        k = k + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> accum</span><br><span class="line"></span><br><span class="line"><span class="string">"""尾递归（同时也是线性递归）形式："""</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_squares</span>(<span class="params">N</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">part_sum</span>(<span class="params">accum, k</span>):</span><br><span class="line">        <span class="keyword">if</span> k &lt;= N:</span><br><span class="line">            <span class="keyword">return</span> part_sum(accum + k**<span class="number">2</span>, k + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> accum</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> part_sum(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>防止无限递归的方法：确保每一次递归都减少了问题规模，直到最小的问题能被解决。</p><p><strong>子问题</strong>与<strong>自我相似</strong>，例如分形问题</p><p><strong>树递归 Tree Recursion</strong>：单次递归中多次调用递归函数</p><h1 id="异常-exception">异常 Exception</h1><p>可以使用<code>try</code>语句检查异常：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">input</span> = <span class="built_in">open</span>(myfile).read()</span><br><span class="line"><span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Warning:could not open"</span>, myfile)</span><br><span class="line">    <span class="built_in">input</span> = <span class="string">""</span></span><br></pre></td></tr></table></figure><h1 id="修饰器-decorator">修饰器 Decorator</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ATTR</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">afunc</span>(<span class="params">⋯</span>):</span><br><span class="line">    ⋯</span><br><span class="line"></span><br><span class="line">相当于：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">afunc</span>(<span class="params">⋯</span>):</span><br><span class="line">    ⋯</span><br><span class="line">afunc=ATTR(afunc)</span><br></pre></td></tr></table></figure><h1 id="容器-container">容器 Container</h1><p>Python 中的<strong>序列 Sequence</strong>有：</p><table><thead><tr class="header"><th style="text-align:center">类型</th><th style="text-align:center">元素</th><th style="text-align:center">可编号</th><th style="text-align:center">可变</th><th style="text-align:center">可迭代</th></tr></thead><tbody><tr class="odd"><td style="text-align:center">元组 tuple</td><td style="text-align:center">任何类型</td><td style="text-align:center">✓</td><td style="text-align:center">×</td><td style="text-align:center">✓</td></tr><tr class="even"><td style="text-align:center">列表 list</td><td style="text-align:center">任何类型</td><td style="text-align:center">✓</td><td style="text-align:center">✓</td><td style="text-align:center">✓</td></tr><tr class="odd"><td style="text-align:center">字符串 string</td><td style="text-align:center">str</td><td style="text-align:center">✓</td><td style="text-align:center">×</td><td style="text-align:center">✓</td></tr><tr class="even"><td style="text-align:center">范围 range</td><td style="text-align:center">整形 integer</td><td style="text-align:center">✓</td><td style="text-align:center">×</td><td style="text-align:center">✓</td></tr><tr class="odd"><td style="text-align:center">迭代器 iterator</td><td style="text-align:center">任何类型</td><td style="text-align:center">×</td><td style="text-align:center">×</td><td style="text-align:center">✓</td></tr><tr class="even"><td style="text-align:center">生成器 generator</td><td style="text-align:center">任何类型</td><td style="text-align:center">×</td><td style="text-align:center">×</td><td style="text-align:center">✓</td></tr></tbody></table><p>构造：</p><table><thead><tr class="header"><th style="text-align:center">类型</th><th style="text-align:center">写法</th><th style="text-align:center">值</th></tr></thead><tbody><tr class="odd"><td style="text-align:center">tuple</td><td style="text-align:center">(1,4,"Hello",(2,3))<br>()</td><td style="text-align:center">1,4,"Hello",(2,3)<br>空序列</td></tr><tr class="even"><td style="text-align:center">list</td><td style="text-align:center">[1,4,"Hello",(2,3)]<br>[]</td><td style="text-align:center">1,4,"Hello",(2,3)<br>空序列</td></tr><tr class="odd"><td style="text-align:center">range</td><td style="text-align:center">range(4)<br>range(1,12,2)</td><td style="text-align:center">0,1,2,3<br>1,3,5,7,9,11</td></tr></tbody></table><p><em>string 类型即可用<code>''</code>，也可用<code>""</code></em></p><p><strong>切片 slicing</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="number">2</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line">t[<span class="number">1</span>:<span class="number">4</span>] == (<span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line">t[<span class="number">2</span>:] == (<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>)</span><br><span class="line">t[::-<span class="number">1</span>] == t[<span class="number">0</span>:<span class="built_in">len</span>(t):-<span class="number">1</span>] == (<span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>序列之间可以嵌套，相同序列可以相加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">B = [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">A + B == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">A * <span class="number">3</span> == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure><h1 id="for-循环">for 循环</h1><p>使用 for 循环可对可迭代对象迭代:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure><p>多变量迭代：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [(<span class="number">1</span>, <span class="number">9</span>), (<span class="number">2</span>, <span class="number">8</span>), (<span class="number">3</span>, <span class="number">7</span>)]</span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> L:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"x,y=(<span class="subst">{x}</span>,<span class="subst">{y}</span>)"</span>)</span><br><span class="line"></span><br><span class="line">x,y=(<span class="number">1</span>,<span class="number">9</span>)</span><br><span class="line">x,y=(<span class="number">2</span>,<span class="number">8</span>)</span><br><span class="line">⋯</span><br></pre></td></tr></table></figure><p><code>zip</code>函数能将多个序列合并为一个，返回一个 generator</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">zip</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>],[<span class="number">9</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">10</span>]))</span><br><span class="line">[(<span class="number">1</span>,<span class="number">9</span>),(<span class="number">2</span>,<span class="number">2</span>),(<span class="number">5</span>,<span class="number">6</span>),(<span class="number">3</span>,<span class="number">3</span>)]</span><br></pre></td></tr></table></figure><p><code>for</code>，<code>if</code>，<code>list</code>综合应用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[表达式 <span class="keyword">for</span> 变量 <span class="keyword">in</span> 序列表达式 <span class="keyword">if</span> boolean表达式]</span><br><span class="line"></span><br><span class="line">可以嵌套<span class="keyword">for</span>循环：</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[(a,b)<span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>,<span class="number">13</span>) <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">[(<span class="number">10</span>, <span class="number">0</span>), (<span class="number">10</span>, <span class="number">1</span>), (<span class="number">11</span>, <span class="number">0</span>), (<span class="number">11</span>, <span class="number">1</span>), (<span class="number">12</span>, <span class="number">0</span>), (<span class="number">12</span>, <span class="number">1</span>)]</span><br></pre></td></tr></table></figure><p>所以 Python 程序总是写成一行，让人很难理解。</p><h1 id="数据抽象-data-abstraction">数据抽象 Data Abstraction</h1><ul><li>抽象数据类型 Abstract data type（ADT）</li><li>接口 interface</li><li>API：Application Programming Interface 应用编程接口</li><li>constructor：例如 pair</li><li>accessor：例如 left 和 right</li><li>mutator：例如 set_left 和 set_right</li></ul><h1 id="字典-dictionary矩阵-matrix树-tree">字典 dictionary，矩阵 matrix，树 tree</h1><p><code>dictionary</code>相当于键值对的映射，排序方式为插入顺序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">words={<span class="string">"ljkadf"</span>:<span class="string">"fadjosodfsij"</span>,<span class="string">"jfoe"</span>:<span class="string">"aewffe"</span>}</span><br><span class="line">words[<span class="string">"ljkadf"</span>]==<span class="string">"fadjosodfsij"</span></span><br></pre></td></tr></table></figure><p>矩阵实现：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">matrix</span>(<span class="params">rows, cols</span>):</span><br><span class="line">    <span class="keyword">return</span> [[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">value</span>(<span class="params">matrix, row, col</span>):</span><br><span class="line">    <span class="keyword">return</span> matrix[row][col]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_value</span>(<span class="params">matrix, row, col, val</span>):</span><br><span class="line">    matrix[row][col] = val</span><br></pre></td></tr></table></figure><p>树的实现（list+tuple）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">tree</span>(<span class="params">label, children=[]</span>):</span><br><span class="line">    <span class="keyword">return</span> (label, children)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">label</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">children</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_leaf</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(children(tree)) == <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">count_leaves</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">if</span> (is_leaf(t)):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        children_leaves = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> children(t):</span><br><span class="line">            children_leaves += count_leaves(c)</span><br><span class="line">        <span class="keyword">return</span> children_leaves</span><br></pre></td></tr></table></figure><p>将树上的值翻倍：</p><ol type="1"><li><strong>非破坏性操作 Non-destructive</strong>：</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">tree</span>(<span class="params">label, children=[]</span>):</span><br><span class="line">    <span class="keyword">return</span> (label, children)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">label</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">children</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_leaf</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(children(tree)) == <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">double</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">"""返回一棵树"""</span></span><br><span class="line">    <span class="keyword">if</span> (is_leaf(t)):</span><br><span class="line">        <span class="keyword">return</span> tree(label(t) * <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        doubled_children = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> children(t):</span><br><span class="line">            doubled_children.append(double(c))</span><br><span class="line">        <span class="keyword">return</span> tree(label(t) * <span class="number">2</span>, doubled_children)</span><br></pre></td></tr></table></figure><ol start="2" type="1"><li><strong>破坏性操作 Destructive</strong>：</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">tree</span>(<span class="params">label, children=[]</span>):</span><br><span class="line">    <span class="keyword">return</span> [label] + children</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">label</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">children</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> tree[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_leaf</span>(<span class="params">tree</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(children(tree)) == <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_label</span>(<span class="params">tree, label</span>):</span><br><span class="line">    tree[<span class="number">0</span>] = label</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_children</span>(<span class="params">tree, children</span>):</span><br><span class="line">    tree[<span class="number">1</span>] = children</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">double</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="string">"""直接在原树上修改"""</span></span><br><span class="line">    set_label(t, label(t) * <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> is_leaf(t):</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> children(t):</span><br><span class="line">            double(c)</span><br></pre></td></tr></table></figure><p>方法一中的树为<strong>不可变的 immutable</strong>，方法二中的是<strong>可变的 mutable</strong></p><p><em>tuple 不可变，但可以修改其中的 list 中的值（因为 tuple 中存的类似于 list 的内存地址）</em></p><ul><li><code>append()</code>：在 list 后添加一个元素</li><li><code>extend()</code>：在 list 后添加另一个 list 中的所有元素</li><li><code>pop()</code>：删除并返回最后一个元素</li><li><code>remove(x)</code>：删除第一个和<code>x</code>相同的参数</li></ul><h1 id="相等-equality-和同一-identity">相等 Equality 和同一 Identity</h1><p>Identity: a is b<br>Equality: a == b</p><p>Identity 可以理解为指向同一位置的指针</p><h1 id="迭代器-iterator-和生成器-generator">迭代器 Iterator 和生成器 Generator</h1><p><code>iter(可迭代对象)</code>返回一个迭代器<br><code>next(迭代器)</code>返回迭代器的下一个元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">it1 = <span class="built_in">iter</span>(L)</span><br><span class="line"><span class="built_in">next</span>(it1)  <span class="comment">#1</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""本质上调用了__iter__()和__next__()对象"""</span></span><br><span class="line">it2 = L.__iter__()</span><br><span class="line">it2.__next__()  <span class="comment">#1</span></span><br></pre></td></tr></table></figure><p>返回 iterator 的函数：</p><ul><li><code>reversed(序列)</code>：返回相当于反迭代器</li><li><code>map(func,可迭代对象)</code>：对于每一个可迭代对象中的元素<code>x</code>调用<code>func(x)</code>，相当于<code>[func(x) for x in 可迭代对象</code></li><li><code>filter(func,可迭代对象)</code>：返回满足<code>func(x)</code>的可迭代对象中的每一个元素<code>x</code>，相当于<code>[x for x in 可迭代对象 if func(x)</code></li></ul><p><code>sorted(可迭代对象,key=None,reverse=False)</code>：返回按照<code>key</code>函数排序好的列表</p><p><strong>generator</strong>是一种 iterator，其由 generator function 生成</p><p><strong>generator function</strong>使用<code>yield</code>代替<code>return</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">evens</span>():</span><br><span class="line">    num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> num &lt; <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">yield</span> num</span><br><span class="line">        num += <span class="number">2</span></span><br><span class="line"></span><br><span class="line">使用时：</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>evengen=evens()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(evengen)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(evengen)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">next</span>(evengen)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><p>generator 的优点在于只在需要的时候生成下一项</p><h1 id="对象-object-和类-class">对象 Object 和类 Class</h1><p>Python 中使用<code>__</code>和<code>_</code>给变量命名表示私有变量，但仍可强行从外部访问</p><h1 id="继承-inheritance-和组合-composition">继承 Inheritance 和组合 Composition</h1><p>继承的声明方法：<code>class Lion(Animal):</code></p><p>可使用<code>super().__init__()</code>调用基类的<code>__init__()</code>方法</p><p>Inheritance 表示"is-a"关系，Composition 表示"has-a"关系</p><h1 id="特殊对象方法-special-object-methods">特殊对象方法 Special Object Methods</h1><p>Python 中所有类型都是对象，都继承自<code>object</code>类</p><p><code>dir()</code>返回所有对象属性的列表</p><ul><li><code>__init__(self)</code>方法在对象被实例化时调用，第一个参数为自身</li><li><code>__str__()</code>控制<code>print()</code>的输出，<code>str()</code>的转换之类</li><li><code>__repr__()</code>返回构造相同对象的字符串</li><li><code>getattr(对象,变量名[,默认值])</code>在对象中查找该名称的变量值，若没有找到，返回<code>AttributeError</code>或默认值，背后调用的是<code>__getattribute__()</code>方法</li><li><code>hasattr(对象,变量名)</code>在对象中查找该名称的变量值并返回是否找到，背后调用的也是<code>__getattribute__()</code></li></ul><p>还有其它的：</p><table><colgroup><col style="width:38%"><col style="width:12%"><col style="width:34%"><col style="width:14%"></colgroup><thead><tr class="header"><th>方法</th><th>实现</th><th>方法</th><th>实现</th></tr></thead><tbody><tr class="odd"><td><code>__setattr__(obj,"n",v)</code></td><td><code>x.n=v</code></td><td><code>__delattr__(obj,"n")</code></td><td><code>del x.n</code></td></tr><tr class="even"><td><code>__eq__(obj,x)</code></td><td><code>obj==x</code></td><td><code>__ne__(obj,x)</code></td><td><code>obj!=x</code></td></tr><tr class="odd"><td><code>__ge__(obj,x)</code></td><td><code>obj&gt;=x</code></td><td><code>__gt__(obj,x)</code></td><td><code>obj&gt;x</code></td></tr><tr class="even"><td><code>__le__(obj,x)</code></td><td><code>obj&lt;=x</code></td><td><code>__lt__(obj,x)</code></td><td><code>obj&lt;x</code></td></tr><tr class="odd"><td><code>__getitem__(S,k)</code></td><td><code>S[k]</code></td><td><code>__setitem__(S,k,v)</code></td><td><code>S[k]=v</code></td></tr><tr class="even"><td><code>__len__(S)</code></td><td><code>len(S)</code></td><td><code>__sub__(S,x)</code></td><td><code>S-x</code></td></tr><tr class="odd"><td><code>__mul__(S,x)</code></td><td><code>S*x</code></td><td></td><td></td></tr></tbody></table><h1 id="复杂度-complexity">复杂度 Complexity</h1><p>无论<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>有多大，总有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="24.607ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 10876.2 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g><g data-mml-node="mn" transform="translate(882,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><g data-mml-node="mi" transform="translate(1285.6,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mo" transform="translate(1762.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2151.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(2751.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(3418.3,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(4474.1,0)"><path data-c="1D453" d="M118-162Q120-162 124-164T135-167 147-168Q160-168 171-155T187-126Q197-99 221 27T267 267 289 382V385H242Q195 385 192 387 188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432 298 434 307 482T319 540Q356 705 465 705 502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603 443 622 454 636T478 657L487 662Q471 668 457 668 445 668 434 658T419 630Q412 601 403 552T387 469 380 433Q380 431 435 431 480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282-47 255-132 212-173 175-205 139-205 107-205 81-186T55-132Q55-95 76-78T118-61Q162-61 162-103 162-122 151-136T127-157L118-162Z"/></g><g data-mml-node="mo" transform="translate(5024.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(5413.1,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(6013.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6679.9,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="msub" transform="translate(7735.7,0)"><g data-mml-node="mi"><path data-c="1D43E" d="M285 628Q285 635 228 637 205 637 198 638T191 647Q191 649 193 661 199 681 203 682 205 683 214 683H219Q260 681 355 681 389 681 418 681T463 682 483 682Q500 682 500 674 500 669 497 660 496 658 496 654T495 648 493 644 490 641 486 639 479 638 470 637 456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620 692 635 667 637 651 637 651 648 651 650 654 662T659 677Q662 682 676 682 680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672 889 650 881 642 878 637 862 637 787 632 726 586 710 576 656 534T556 455L509 418 518 396Q527 374 546 329T581 244Q656 67 661 61 663 59 666 57 680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3 503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71 544 75 517 141T485 216L427 354 359 301 291 248 268 155Q245 63 245 58 245 51 253 49T303 46H334Q340 37 340 35 340 19 333 5 328 0 317 0 314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11 31 13 34 25 38 41 42 43T65 46Q92 46 125 49 139 52 144 61 147 65 216 339T285 628Z"/></g><g data-mml-node="mn" transform="translate(882,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mi" transform="translate(9021.2,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mo" transform="translate(9498.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(9887.2,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(10487.2,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>，记作<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="14.811ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6546.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118-162Q120-162 124-164T135-167 147-168Q160-168 171-155T187-126Q197-99 221 27T267 267 289 382V385H242Q195 385 192 387 188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432 298 434 307 482T319 540Q356 705 465 705 502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603 443 622 454 636T478 657L487 662Q471 668 457 668 445 668 434 658T419 630Q412 601 403 552T387 469 380 433Q380 431 435 431 480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282-47 255-132 212-173 175-205 139-205 107-205 81-186T55-132Q55-95 76-78T118-61Q162-61 162-103 162-122 151-136T127-157L118-162Z"/></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(939,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(1539,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2205.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540 469 540H568Q583 532 583 520 583 511 570 501L466 500Q355 499 329 494 280 482 242 458T183 409 147 354 129 306 124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112 231 48 328 7Q355 1 466 0H570Q583-10 583-20 583-32 568-40H471Q464-40 446-40T417-41Q262-41 172 45 84 127 84 250Z"/></g><g data-mml-node="mi" transform="translate(3150.6,0)"><path data-c="1D6E9" d="M740 435Q740 320 676 213T511 42 304-22Q207-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435ZM640 466Q640 523 625 565T583 628 532 658 479 668Q370 668 273 559T151 255Q150 245 150 213 150 156 165 116T207 55 259 26 313 17Q385 17 451 63T561 184Q590 234 615 312T640 466ZM510 276Q510 278 512 288L515 298Q515 299 384 299H253L250 285Q246 271 244 268T231 265H227Q216 265 214 266T207 274Q207 278 223 345T244 416Q247 419 260 419H263Q280 419 280 408 280 406 278 396L275 386Q275 385 406 385H537L540 399Q544 413 546 416T559 419H563Q574 419 576 418T583 410Q583 403 566 339 549 271 544 267 542 265 538 265H530 527Q510 265 510 276Z"/></g><g data-mml-node="mo" transform="translate(3913.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4302.6,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mo" transform="translate(4779.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(5168.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(5768.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6157.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>（有的也写作<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="15.062ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6657.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118-162Q120-162 124-164T135-167 147-168Q160-168 171-155T187-126Q197-99 221 27T267 267 289 382V385H242Q195 385 192 387 188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432 298 434 307 482T319 540Q356 705 465 705 502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603 443 622 454 636T478 657L487 662Q471 668 457 668 445 668 434 658T419 630Q412 601 403 552T387 469 380 433Q380 431 435 431 480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282-47 255-132 212-173 175-205 139-205 107-205 81-186T55-132Q55-95 76-78T118-61Q162-61 162-103 162-122 151-136T127-157L118-162Z"/></g><g data-mml-node="mo" transform="translate(550,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(939,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(1539,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2205.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mi" transform="translate(3261.6,0)"><path data-c="1D6E9" d="M740 435Q740 320 676 213T511 42 304-22Q207-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435ZM640 466Q640 523 625 565T583 628 532 658 479 668Q370 668 273 559T151 255Q150 245 150 213 150 156 165 116T207 55 259 26 313 17Q385 17 451 63T561 184Q590 234 615 312T640 466ZM510 276Q510 278 512 288L515 298Q515 299 384 299H253L250 285Q246 271 244 268T231 265H227Q216 265 214 266T207 274Q207 278 223 345T244 416Q247 419 260 419H263Q280 419 280 408 280 406 278 396L275 386Q275 385 406 385H537L540 399Q544 413 546 416T559 419H563Q574 419 576 418T583 410Q583 403 566 339 549 271 544 267 542 265 538 265H530 527Q510 265 510 276Z"/></g><g data-mml-node="mo" transform="translate(4024.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4413.6,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mo" transform="translate(4890.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(5279.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(5879.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6268.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>）</p><h1 id="记忆化-memoization">记忆化 Memoization</h1><p>凑钱问题：</p><p>普通递归解法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_change</span>(<span class="params">amount, coins=(<span class="params"><span class="number">50</span>, <span class="number">25</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">1</span></span>)</span>):</span><br><span class="line">    <span class="keyword">if</span> amount == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> amount &lt; <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(coins) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> count_change(amount, coins[<span class="number">1</span>:]) + count_change(amount - coins[<span class="number">0</span>], coins)</span><br></pre></td></tr></table></figure><p>观察到有大量的重复计算，可使用<strong>记忆表 memorize table</strong>储存已算出的值：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_change</span>(<span class="params">amount, coins=(<span class="params"><span class="number">50</span>, <span class="number">25</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">1</span></span>)</span>):</span><br><span class="line">    memo_table = [[-<span class="number">1</span>] * (<span class="built_in">len</span>(coins) + <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(amount + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">count_change</span>(<span class="params">amount, coins</span>):</span><br><span class="line">        <span class="keyword">if</span> amount &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> memo_table[amount][<span class="built_in">len</span>(coins)] == -<span class="number">1</span>:</span><br><span class="line">            memo_table[amount][<span class="built_in">len</span>(coins)] = full_count_change(amount, coins)</span><br><span class="line">        <span class="keyword">return</span> memo_table[amount][<span class="built_in">len</span>(coins)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">full_count_change</span>(<span class="params">amount, coins</span>):</span><br><span class="line">        <span class="keyword">if</span> amount == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> amount &lt; <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(coins) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> count_change(amount, coins[<span class="number">1</span>:]) + count_change(amount - coins[<span class="number">0</span>], coins)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> count_change(amount, coins)</span><br></pre></td></tr></table></figure><p>观察到总是 amount 小且使用 coins 少的先计算出，所以可以用循环控制顺序，即<strong>动态规划 Dynamic Programming</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">count_change</span>(<span class="params">amount, coins=(<span class="params"><span class="number">50</span>, <span class="number">25</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">1</span></span>)</span>):</span><br><span class="line">    memo_table = [[-<span class="number">1</span>] * (<span class="built_in">len</span>(coins) + <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(amount + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">count_change</span>(<span class="params">amount, coins</span>):</span><br><span class="line">        <span class="keyword">if</span> amount &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> memo_table[amount][<span class="built_in">len</span>(coins)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">full_count_change</span>(<span class="params">amount, coins</span>):</span><br><span class="line">        <span class="keyword">if</span> amount == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> amount &lt; <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(coins) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> count_change(amount, coins[<span class="number">1</span>:]) + count_change(amount - coins[<span class="number">0</span>], coins)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, amount + <span class="number">1</span>):</span><br><span class="line">        memo_table[a][<span class="number">0</span>] = full_count_change(a, ())</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(coins) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, amount + <span class="number">1</span>):</span><br><span class="line">            memo_table[a][k] = full_count_change(a, coins[-k:])</span><br><span class="line">    <span class="keyword">return</span> count_change(amount, coins)</span><br></pre></td></tr></table></figure><h1 id="泛型-generics">泛型 Generics</h1><p><strong>鸭子类型 Duck typing</strong>通过<strong>鸭子测试</strong>，即多种类型具有相同的性质，都适用于同一个函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum</span>(<span class="params">items, initial_value</span>):</span><br><span class="line">    <span class="built_in">sum</span> = initial_value</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="built_in">sum</span> += item</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure><p>该函数就是一个泛型函数，只要<code>items</code>满足能迭代，可相加即可</p><p><code>f string</code>：使用<code>{变量名}</code>表示变量值而不是字符串</p><p><code>str.join(可迭代对象)</code>用法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">"\n"</span>.join((<span class="number">1</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure><h1 id="scheme">Scheme</h1><p><strong>Scheme</strong>是<strong>Lisp</strong>的一种方言</p><p><strong>applicative programming</strong>应用程序编程：没有副作用、破坏性操作、赋值的程序，更便于并行编程</p><p>scheme 的数据有<strong>atom 原子</strong>和<strong>pair</strong></p><p>atom 包括：</p><ul><li>数字：整数、浮点、复数、有理数</li><li>symbol：类似于 string</li><li>boolean：#t，#f</li><li>空列表：()</li><li>procedure</li></ul><p>列表表示为：<code>(V1.(V2.(⋯(Vn.()))))</code>，<del>数不尽的括号</del></p><p><strong>Scheme programs are Scheme data</strong>，都类似于<code>(OP E1 ⋯ En)</code>，例如：表达式<code>(+(* 3 7) (- x))</code>也是一个列表，在 Scheme 中，其已经是一棵<strong>abstract syntax tree 抽象语法树</strong>了</p><p>quotation 引用：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (<span class="name"><span class="built_in">+</span></span> <span class="number">1</span> <span class="number">2</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line">scm&gt; '(+ <span class="number">1</span> <span class="number">2</span>)</span><br><span class="line">(<span class="name"><span class="built_in">+</span></span> <span class="number">1</span> <span class="number">2</span>)</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">quote</span></span> (<span class="name">1</span> <span class="number">2</span> '(<span class="number">3</span> <span class="number">4</span>)))</span><br><span class="line">(<span class="name">1</span> <span class="number">2</span> '(<span class="number">3</span> <span class="number">4</span>))</span><br></pre></td></tr></table></figure><p>其它特别的形式：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">&gt;</span></span> x y) x y)</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> pi <span class="number">3.14</span>)</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">f</span> x) (<span class="name"><span class="built_in">*</span></span> x x))</span><br><span class="line">(<span class="name"><span class="built_in">lambda</span></span> (x y) (<span class="name"><span class="built_in">/</span></span> (<span class="name"><span class="built_in">*</span></span> x x) y))</span><br><span class="line">(<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">&lt;</span></span> x <span class="number">1</span>)<span class="symbol">'small</span>)</span><br><span class="line">    (<span class="name"><span class="built_in">&lt;</span></span> x <span class="number">3</span>)<span class="symbol">'medium</span>)</span><br><span class="line">    (<span class="name"><span class="built_in">&lt;</span></span> x <span class="number">5</span>)<span class="symbol">'large</span>)</span><br><span class="line">    (<span class="literal">#t</span> <span class="symbol">'big</span>))</span><br></pre></td></tr></table></figure><p>对应于 python 中的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x <span class="keyword">if</span> x &gt; y <span class="keyword">else</span> y</span><br><span class="line">pi = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line"><span class="keyword">lambda</span> x, y: x * x / y</span><br><span class="line"><span class="string">"small"</span> <span class="keyword">if</span> x &lt; <span class="number">1</span> <span class="keyword">else</span> <span class="string">"medium"</span> <span class="keyword">if</span> x &lt; <span class="number">3</span> <span class="keyword">else</span> <span class="string">"large"</span> <span class="keyword">if</span> x &lt; <span class="number">5</span> <span class="keyword">else</span> <span class="string">"big"</span></span><br></pre></td></tr></table></figure><p>一些表达式：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (<span class="name"><span class="built_in">/</span></span> <span class="number">3</span> <span class="number">2</span>)</span><br><span class="line"><span class="number">1.5</span></span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">quotient</span></span> <span class="number">3</span> <span class="number">2</span>) <span class="comment">;向0取整</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">integer?</span></span> <span class="number">5</span>)</span><br><span class="line">#t</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">=</span></span> <span class="number">1</span> (<span class="name"><span class="built_in">-</span></span> <span class="number">2</span> <span class="number">1</span>))<span class="comment">;只对数字有效</span></span><br><span class="line">#t</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">eqv?</span></span> <span class="number">1</span> <span class="number">2</span>)<span class="comment">;对数字，空列表，bool，symbols都有效</span></span><br><span class="line">#f</span><br></pre></td></tr></table></figure><p>pairs：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">'a</span> (<span class="name"><span class="built_in">cons</span></span> <span class="symbol">'b</span> '()))</span><br><span class="line">(<span class="name">a</span> b)</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">define</span></span> L '(a b c))</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">car</span></span> L)</span><br><span class="line">a</span><br><span class="line">scm&gt; (<span class="name"><span class="built_in">cdr</span></span> L)</span><br><span class="line">(<span class="name">b</span> c)</span><br></pre></td></tr></table></figure><p>Let 形式：</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scm&gt; (<span class="name"><span class="built_in">let</span></span> ((<span class="name">x</span> <span class="number">5</span>)</span><br><span class="line">    (<span class="name">y</span> (<span class="name"><span class="built_in">+</span></span> x <span class="number">2</span>)))</span><br><span class="line">    (<span class="name"><span class="built_in">+</span></span> x y))</span><br><span class="line">相当于：</span><br><span class="line">scm&gt; ((<span class="name"><span class="built_in">lambda</span></span> (x y) (<span class="name"><span class="built_in">+</span></span> x y)) <span class="number">5</span> (<span class="name"><span class="built_in">+</span></span> x <span class="number">2</span>))</span><br></pre></td></tr></table></figure><h1 id="不可判定性-undecidability">不可判定性 Undecidability</h1><p><strong>停机问题 halting problem</strong>研究的是：是否存在一个「程序」，能够判断另外一个「程序」在特定的「输入」下，是会给出结果（停机），还是会无限执行下去（不停机）。</p><p>类似于<strong>理发师悖论</strong>，解决方法为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""假设有一个程序is_halt能实现该功能："""</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_halt</span>(<span class="params">program, <span class="built_in">input</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">  <span class="comment"># 返回 True  如果 program(input) 会返回</span></span><br><span class="line">  <span class="comment"># 返回 False 如果 program(input) 不返回</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">loop</span>():</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hack</span>(<span class="params">program</span>):</span><br><span class="line">  <span class="keyword">if</span> is_halt(program, program):</span><br><span class="line">    loop()</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""你会发现，如果「停机程序」认为 hack(hack) 会给出结果，即 is_halt(hack, hack)返回 True ，那么实际上 hack(hack) 会进入无限循环。</span></span><br><span class="line"><span class="string">而如果「停机程序」认为 hack(hack) 不会给出结果，即 is_halt(hack, hack) 返回 false，那么实际上 hack(hack) 会立刻返回结果……"""</span></span><br><span class="line"></span><br><span class="line">is_halt(hack, hack)</span><br></pre></td></tr></table></figure><p>所以：<strong>程序不是万能的！</strong>，也没有完美的防毒软件</p><p><strong>哥德尔不完全性定理</strong>：任意一个包含一阶谓词逻辑与初等数论的形式系统，都存在一个命题，它在这个系统中既不能被证明为真，也不能被证明为否。</p><h1 id="宏-macro">宏 Macro</h1><p>在 C 语言中在预编译器中进行，类似于查找替换。在 scheme 中功能更强大，相当于写了一个程序但并不执行它，其中操作数并不计算，但要注意变量名字不要和代码中的重复了。</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;与其写</span></span><br><span class="line">(<span class="name"><span class="built_in">if</span></span> (<span class="name"><span class="built_in">not</span></span> (<span class="name"><span class="built_in">list?</span></span> x)) (<span class="name">displayln</span> x))</span><br><span class="line"></span><br><span class="line"><span class="comment">;可以用宏代替</span></span><br><span class="line">(<span class="name">define-macro</span> (<span class="name"><span class="built_in">unless</span></span> cond body)</span><br><span class="line">`(if (not ,cond) ,body))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="built_in">unless</span></span> (<span class="name"><span class="built_in">list?</span></span> x) (<span class="name">displayln</span> x))</span><br></pre></td></tr></table></figure><h1 id="声明式编程-declarative-programming">声明式编程 Declarative Programming</h1><p>与之相对的是<strong>命令式编程 Imperative Programming</strong>，注重如何实现一些计算<del>相当于只能苦苦码字的程序员</del>；而声明式编程关注结果，让计算机思考如何得到结果<del>相当于只会下命令给员工的老板</del>。</p><h1 id="正则表达式-regular-expressions">正则表达式 Regular Expressions</h1><p>详见：<a href="./2f57a694">正则表达式</a></p><p>注意：Python 中记得在字符串之前加<code>r</code>，表示为原字符串，否则<code>\</code>会被转义</p><h1 id="巴科斯范式-bnf">巴科斯范式 BNF</h1><p>巴科斯范式（BNF）所描述的语法是与上下文无关的。它具有语法简单，表示明确，便于语法分析和编译的特点。</p><p>图形化表示：<strong>铁路图 Railroad Diagram</strong></p><p>以一个算术表达式为例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">expression = term , {"+" term};</span><br><span class="line">term = factor , {"*" factor};</span><br><span class="line">factor = constant | variable | "(" , expression , ")";</span><br><span class="line">variable = "x" | "y" | "z";</span><br><span class="line">constant = digit , {digit};</span><br><span class="line">digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9";</span><br></pre></td></tr></table></figure><p>对应的铁路图为：<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/UCB%20CS61A：计算机程序的构造与解释/铁路图.webp"></p><h1 id="sql">SQL</h1><p><strong>结构化查询语言数据库 Structured Query Language(SQL)</strong></p><h1 id="多态-polymorphism">多态 Polymorphism</h1><p>多态指为不同数据类型的实体提供统一的接口，在 Python 中包括：</p><ul><li>一个函数可运行在不同类的对象上</li><li>泛型函数，接受不同对象，Duck typing</li><li><strong>强制多态 coercion</strong>，类似于强制类型转换</li><li><strong>类型分派 type dispatching</strong>：按照参数类型决定函数表现</li></ul></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">计算机科学</a><a class="post-meta__tags" href="/tags/UC-Berkeley/">UC Berkeley</a><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/Scheme/">Scheme</a></div><div class="post_share"><div class="social-share" data-image="/gallery/cover/UCB%20CS61A%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E8%A7%A3%E9%87%8A.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/dd378ae0.html" title="Stanford CS106L：标准C++程序设计"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Stanford%20CS106L%EF%BC%9A%E6%A0%87%E5%87%86%20C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Stanford CS106L：标准C++程序设计</div></div></a></div><div class="next-post pull-right"><a href="/posts/f09c1ee5.html" title="1000年的守望"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/AIR.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">1000年的守望</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="card-info-avatar"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="palm_tree" fallback-src="https://lskypro.acozycotage.net/LightPicture/2022/12/fe1dc0402e623096.jpg">🐟</g-emoji><span>认真摸鱼中 + `'` alt="avatar")</span></div></div></div><div class="author-info__name">old_driver_zero</div><div class="author-info__description">一个幽灵</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a><a class="social-icon" href="https://github.com/old-driver-zero" target="_blank" title="Github" rel="external nofollow noopener noreferrer"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2771503468@qq.com" target="_blank" title="Email" rel="external nofollow noopener noreferrer"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://steamcommunity.com/id/old_driver_zero" target="_blank" title="Steam" rel="external nofollow noopener noreferrer"><i class="fab fa-steam"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%80%BC-values"><span class="toc-number">1.</span> <span class="toc-text">值 Values</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-functions%E8%A1%A8%E8%BE%BE%E5%BC%8F-expressions%E7%8E%AF%E5%A2%83-environments"><span class="toc-number">2.</span> <span class="toc-text">函数 Functions，表达式 Expressions，环境 Environments</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6-control"><span class="toc-number">3.</span> <span class="toc-text">控制 Control</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%92%E5%BD%92-recursion"><span class="toc-number">4.</span> <span class="toc-text">递归 Recursion</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8-exception"><span class="toc-number">5.</span> <span class="toc-text">异常 Exception</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E5%99%A8-decorator"><span class="toc-number">6.</span> <span class="toc-text">修饰器 Decorator</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8-container"><span class="toc-number">7.</span> <span class="toc-text">容器 Container</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.</span> <span class="toc-text">for 循环</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1-data-abstraction"><span class="toc-number">9.</span> <span class="toc-text">数据抽象 Data Abstraction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-dictionary%E7%9F%A9%E9%98%B5-matrix%E6%A0%91-tree"><span class="toc-number">10.</span> <span class="toc-text">字典 dictionary，矩阵 matrix，树 tree</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%B8%E7%AD%89-equality-%E5%92%8C%E5%90%8C%E4%B8%80-identity"><span class="toc-number">11.</span> <span class="toc-text">相等 Equality 和同一 Identity</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8-iterator-%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8-generator"><span class="toc-number">12.</span> <span class="toc-text">迭代器 Iterator 和生成器 Generator</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-object-%E5%92%8C%E7%B1%BB-class"><span class="toc-number">13.</span> <span class="toc-text">对象 Object 和类 Class</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-inheritance-%E5%92%8C%E7%BB%84%E5%90%88-composition"><span class="toc-number">14.</span> <span class="toc-text">继承 Inheritance 和组合 Composition</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95-special-object-methods"><span class="toc-number">15.</span> <span class="toc-text">特殊对象方法 Special Object Methods</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-complexity"><span class="toc-number">16.</span> <span class="toc-text">复杂度 Complexity</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96-memoization"><span class="toc-number">17.</span> <span class="toc-text">记忆化 Memoization</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B-generics"><span class="toc-number">18.</span> <span class="toc-text">泛型 Generics</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#scheme"><span class="toc-number">19.</span> <span class="toc-text">Scheme</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%88%A4%E5%AE%9A%E6%80%A7-undecidability"><span class="toc-number">20.</span> <span class="toc-text">不可判定性 Undecidability</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%8F-macro"><span class="toc-number">21.</span> <span class="toc-text">宏 Macro</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%BC%96%E7%A8%8B-declarative-programming"><span class="toc-number">22.</span> <span class="toc-text">声明式编程 Declarative Programming</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-regular-expressions"><span class="toc-number">23.</span> <span class="toc-text">正则表达式 Regular Expressions</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B7%B4%E7%A7%91%E6%96%AF%E8%8C%83%E5%BC%8F-bnf"><span class="toc-number">24.</span> <span class="toc-text">巴科斯范式 BNF</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql"><span class="toc-number">25.</span> <span class="toc-text">SQL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E6%80%81-polymorphism"><span class="toc-number">26.</span> <span class="toc-text">多态 Polymorphism</span></a></li></ol></div></div><div class="card-widget card-recommend-post"><div class="item-headline"><i class="fas fa-dharmachakra"></i><span>相关推荐</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/7ea0cbe4.html" title="UCB CS61B：数据结构与算法"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS61B%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.webp" alt="UCB CS61B：数据结构与算法"></a><div class="content"><a class="title" href="/posts/7ea0cbe4.html" title="UCB CS61B：数据结构与算法">UCB CS61B：数据结构与算法</a><time datetime="2023-01-30" title="发表于 2023-01-30">2023-01-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By old_driver_zero</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(e.length){window.runMermaid=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach(((e,n)=>{const d=e.firstElementChild,r="mermaid-"+n,i="%%{init:{ 'theme':'"+t+"'}}%%\n"+d.textContent;mermaid.mermaidAPI.render(r,i,(e=>{d.insertAdjacentHTML("afterend",e)}))}))};const t=()=>{window.loadMermaid?runMermaid():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(runMermaid)};window.pjax?t():document.addEventListener("DOMContentLoaded",t)}})()</script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://my-twikoo-puce.vercel.app/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"!=typeof twikoo?getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script></div><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#web_bg","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1s"),arr[i].setAttribute("data-wow-delay","0s"),arr[i].setAttribute("data-wow-offset","100"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax>function butterfly_clock_anzhiyu_injector_config(){var a=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载butterfly_clock_anzhiyu"),a&&a.insertAdjacentHTML("afterbegin",'<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>')}for(var elist="null".split(","),cpage=location.pathname,epage="/",qweather_key="74c5cb8e65744f1bbe7fb1559fbdd043",gaud_map_key="cf64c8eaa23edd1a2aaf59cbb9797620",baidu_ak_key="undefined",flag=0,clock_rectangle="113.34532,23.15624",clock_default_rectangle_enable="false",i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_clock_anzhiyu_injector_config()</script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>