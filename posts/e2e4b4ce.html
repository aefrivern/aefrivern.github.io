<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Coursera Algorithms I：算法（第一部分） | old-driver-zeroの小屋</title><meta name="author" content="old_driver_zero"><meta name="copyright" content="old_driver_zero"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="并查集 union-find 动态连通性 dynamic connectivity 将对象命名为到，使用整数作为数组索引（略去无关细节，是符号表的一个应用） “连通”是一个等价关系：  反身性：连通 对称性：若连通，则连通 传递性：若连通，连通，则连通  连通分量 connected components：连接在一起的最大集合 快速查找 quick find 如果id[p"><meta property="og:type" content="article"><meta property="og:title" content="Coursera Algorithms I：算法（第一部分）"><meta property="og:url" content="https://old-driver-zero.github.io/posts/e2e4b4ce.html"><meta property="og:site_name" content="old-driver-zeroの小屋"><meta property="og:description" content="并查集 union-find 动态连通性 dynamic connectivity 将对象命名为到，使用整数作为数组索引（略去无关细节，是符号表的一个应用） “连通”是一个等价关系：  反身性：连通 对称性：若连通，则连通 传递性：若连通，连通，则连通  连通分量 connected components：连接在一起的最大集合 快速查找 quick find 如果id[p"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://old-driver-zero.github.io/gallery/cover/Coursera%20Algorithms%20I%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89.webp"><meta property="article:published_time" content="2023-02-03T04:22:57.077Z"><meta property="article:modified_time" content="2023-03-19T05:26:46.782Z"><meta property="article:author" content="old_driver_zero"><meta property="article:tag" content="Princeton"><meta property="article:tag" content="数据结构与算法"><meta property="article:tag" content="Java"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://old-driver-zero.github.io/gallery/cover/Coursera%20Algorithms%20I%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89.webp"><link rel="shortcut icon" href="/illustration/favicon.ico"><link rel="canonical" href="https://old-driver-zero.github.io/posts/e2e4b4ce.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?da75f0595ffd5e578744142f5a6a471e";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"GY5EJYJ1FS",apiKey:"c443c952672ec7062840aac45536181e",indexName:"blog",hits:{per_page:10},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!0},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!1}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Coursera Algorithms I：算法（第一部分）",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-03-19 13:26:46"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/pointer.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/barber-shop.css"><link rel="stylesheet" href="/css/one graph flow.css"><link rel="stylesheet" href="/css/navigation bar.css"><link rel="stylesheet" href="/css/neon light at night.css"><link rel="stylesheet" href="/css/article title.css"><link rel="stylesheet" href="/css/wide screen.css"><link rel="stylesheet" href="/css/card author.css"><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/map/js/china.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:yellow;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style></head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-bar-chart"></i> <span>统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i> <span>随便逛逛</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('/gallery/cover/Coursera%20Algorithms%20I%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="old-driver-zeroの小屋"><span class="site-name">old-driver-zeroの小屋</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-bar-chart"></i> <span>统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comments"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i> <span>随便逛逛</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Coursera Algorithms I：算法（第一部分）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-02-03T04:22:57.077Z" title="发表于 2023-02-03 12:22:57">2023-02-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-19T05:26:46.782Z" title="更新于 2023-03-19 13:26:46">2023-03-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8653</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>36分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Coursera Algorithms I：算法（第一部分）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="并查集-union-find">并查集 union-find</h1><h2 id="动态连通性-dynamic-connectivity">动态连通性 dynamic connectivity</h2><p>将对象命名为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.557ex" role="img" focusable="false" viewbox="0 -666 500 688"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g></g></svg></mjx-container></span>到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.906ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 2610.4 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(2110.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>，使用整数作为数组索引（略去无关细节，是符号表的一个应用）</p><p>“连通”是一个等价关系：</p><ul><li>反身性：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span></li><li>对称性：若<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>，则<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span></li><li>传递性：若<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q161 442 183 430T214 408 225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400 430 381 430 363 430 333 417 315T391 292 366 288Q346 288 334 299T322 328Q322 376 378 392 356 405 342 405 286 405 239 331 229 315 224 298T190 165Q156 25 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>，则<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>连通<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q161 442 183 430T214 408 225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400 430 381 430 363 430 333 417 315T391 292 366 288Q346 288 334 299T322 328Q322 376 378 392 356 405 342 405 286 405 239 331 229 315 224 298T190 165Q156 25 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span></li></ul><p><strong>连通分量 connected components</strong>：连接在一起的最大集合</p><h2 id="快速查找-quick-find">快速查找 quick find</h2><p>如果<code>id[p]==id[q]</code>，则<code>p</code>和<code>q</code>连通</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickFindUF</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickFindUF</span><span class="params">(<span class="type">int</span> N)</span> {</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            id[i] = i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">        <span class="keyword">return</span> id[p] == id[q];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">pid</span> <span class="operator">=</span> id[p];</span><br><span class="line">        <span class="type">int</span> <span class="variable">qid</span> <span class="operator">=</span> id[q];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; id.length; i++)</span><br><span class="line">            <span class="keyword">if</span> (id[i] == pid)</span><br><span class="line">                id[i] = qid; <span class="comment">// 注意这里不能写成id[i] == id[p]，因为会更改 id[p] 的值导致后面的无法被索引到</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>缺点：<code>find()</code>操作速度很快，但<code>union()</code>太慢</p><h2 id="快速合并-quick-union">快速合并 quick union</h2><p><code>union</code>操作只需要将<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>的根作为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.041ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 460 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389 373 390 377 395T388 406 404 418Q438 442 450 442 454 442 457 439T460 434Q460 425 391 149 320-135 320-139 320-147 365-148H390Q396-156 396-157T393-175Q389-188 383-194H370Q339-192 262-192 234-192 211-192T174-192 157-193Q143-193 143-185 143-182 145-170 149-154 152-151T172-148Q220-148 230-141 238-136 258-53T279 32Q279 33 272 29 224-10 172-10 117-10 75 30T33 157ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g></g></svg></mjx-container></span>的根的子结点就行了，大大加快了<code>union</code>速度</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickUnionUF</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickUnionUF</span><span class="params">(<span class="type">int</span> N)</span> {</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            id[i] = i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i)</span> {</span><br><span class="line">        <span class="keyword">while</span> (i != id[i])</span><br><span class="line">            i = id[i];</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> find(q);</span><br><span class="line">        id[i] = j;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>但在<strong>最坏</strong>情况下依旧太慢了</p><p>最坏情况：树太高了，<code>find</code>操作耗时过长。</p><h2 id="快速合并改进-quick-union-improvement">快速合并改进 quick union improvement</h2><p>按秩合并和路径压缩的并查集算法可优化到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="15.754ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6963.1 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(2110.4,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mi" transform="translate(3161.4,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374 564 388 566 390T582 393Q603 393 603 385 603 376 594 346T558 261 497 161L486 147 487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62 597 56 591 43 579 19 556 5T512-10H505Q438-10 414 62L411 69 400 61Q390 53 370 41T325 18 267-2 203-11Q124-11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290 382 405 304 405 235 405 183 332 156 292 139 224T121 120Q121 71 146 49T208 26Z"/></g><g data-mml-node="mo" transform="translate(3801.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4190.4,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(5241.4,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(5686.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(6574.1,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>为对象数，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>为 UF 操作数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickUnionUF</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] sz;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickUnionUF</span><span class="params">(<span class="type">int</span> N)</span> {</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        sz = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            id[i] = i;</span><br><span class="line">            sz[i] = <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i)</span> {</span><br><span class="line">        <span class="keyword">while</span> (i != id[i]) {</span><br><span class="line">            id[i] = id[id[i]];</span><br><span class="line">            i = id[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> find(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> find(q);</span><br><span class="line">        <span class="keyword">if</span> (i == j)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (sz[i] &lt; sz[j]) {</span><br><span class="line">            id[i] = j;</span><br><span class="line">            sz[j] += sz[i];</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            id[j] = i;</span><br><span class="line">            sz[i] += sz[j];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="按秩合并-weighted-quick-union">按秩合并 Weighted quick-union</h3><p>合并时，将树较小的作为较大的根的子结点</p><p>因为只有在结点数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="7.635ex" height="1.871ex" role="img" focusable="false" viewbox="0 -677 3374.7 827"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="mn" transform="translate(617,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mo" transform="translate(1298.3,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431 687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76 83 77 83 79 82 86 98 95 117 105 248 167 326 204 378 228L626 346 360 472Q291 505 200 548 112 589 98 597T83 616ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="msub" transform="translate(2354.1,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445 21 450 37 501T71 602L88 651Q93 669 101 677H569 659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437 640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631 469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46 418 46 427 45T436 36Q436 31 433 22 429 4 424 1L422 0Q419 0 415 0 410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83 94Q174 46 189 55 190 56 191 56 196 59 201 76T241 233Q258 301 269 344 339 619 339 625 339 630 310 630H279Q212 630 191 624 146 614 121 583T67 467Q60 445 57 441T43 437H40Z"/></g><g data-mml-node="mn" transform="translate(617,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></g></svg></mjx-container></span>时，树高度<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="2.891ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 1278 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>，所以对于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个结点，树高不会超过<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> {</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> find(p);</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> find(q);</span><br><span class="line">    <span class="keyword">if</span> (i == j)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (sz[i] &lt; sz[j]) {</span><br><span class="line">        id[i] = j;</span><br><span class="line">        sz[j] += sz[i];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        id[j] = i;</span><br><span class="line">        sz[i] += sz[j];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="路径压缩-path-compression">路径压缩 path compression</h3><p>在查找<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>的根结点时，将每个检查过的结点指向根结点</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只添加了一行代码，将路径长度减半，已经差不多了</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i)</span> {</span><br><span class="line">    <span class="keyword">while</span> (i != id[i]) {</span><br><span class="line">        id[i] = id[id[i]];</span><br><span class="line">        i = id[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 递归做法，在回归时处理</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i)</span> {</span><br><span class="line">    <span class="keyword">if</span> (i == id[i])</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    <span class="keyword">return</span> id[i] = find(id[i]);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="快速合并应用-union-find-applications">快速合并应用 union-find applications</h2><p><strong>渗透 Percolation</strong>模型</p><p><strong>蒙特卡罗法 Monte Carlomethod</strong>：用计算机模拟来描述装备运用过程中随机现象</p><h1 id="算法分析-analysis-of-algorithm">算法分析 Analysis of algorithm</h1><h2 id="观察-observation">观察 observation</h2><p>作出“数据量-运行时间”曲线，猜测其公式</p><h2 id="数学模型-mathematical-models">数学模型 mathematical models</h2><p>将每一个操作所需时间列成表，从而计算出整个程序运行理论所需时间。</p><p><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.301ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="0.529ex" role="img" focusable="false" viewbox="0 -367 778 234"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g></g></g></svg></mjx-container></span>符号：只看最大的项</p><h2 id="增长数量级的分类-order-of-growth-classifications">增长数量级的分类 order of growth classifications</h2><p>对数级、指数级等</p><h2 id="算法原理-theory-of-algorithms">算法原理 theory of algorithms</h2><p>最好、最坏、平均情况的考量</p><ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.645ex" role="img" focusable="false" viewbox="0 -705 778 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="398" d="M56 340Q56 423 86 494T164 610 270 680 388 705Q521 705 621 601T722 341Q722 260 693 191T617 75 510 4 388-22 267 3 160 74 85 189 56 340ZM610 339Q610 428 590 495T535 598 463 651 384 668Q332 668 289 638T221 566Q168 485 168 339 168 274 176 235 189 158 228 105T324 28Q356 16 388 16 415 16 442 24T501 54 555 111 594 205 610 339ZM223 263V422H263V388H514V422H554V263H514V297H263V263H223Z"/></g></g></g></svg></mjx-container></span>用来对算法分类</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.726ex" height="1.643ex" role="img" focusable="false" viewbox="0 -704 763 726"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42 304-22Q207-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605 242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"/></g></g></g></svg></mjx-container></span>表示上界</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.633ex" height="1.593ex" role="img" focusable="false" viewbox="0 -704 722 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3A9" d="M55 454Q55 503 75 546T127 617 197 665 272 695 337 704H352Q396 704 404 703 527 687 596 615T666 454Q666 392 635 330T559 200 499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552 488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622 424 656 361 668Q332 668 303 658T243 626 193 560 174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119 104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329 55 454Z"/></g></g></g></svg></mjx-container></span>下界</li></ul><h2 id="内存-memory">内存 memory</h2><p>64 位计算机使用 8 字节的指针（能访问更多地址）</p><p>一维数组：<code>int[]</code>使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="8.168ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 3610.4 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1610.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2610.4,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z" transform="translate(500,0)"/></g></g></g></svg></mjx-container></span>字节</p><p>对象开销是 16 字节，引用 8 字节，每个对象的总使用内存必须是 8 字节的倍数</p><h1 id="栈和队列-stack-and-queue">栈和队列 stack and queue</h1><p>栈：先进后出；队列：先进先出</p><p>区分接口和实现的好处：更关注效率</p><h2 id="栈-stack">栈 stack</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Stack</span>&lt;T&gt; {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">pop</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="链表实现">链表实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedStack</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Stack</span>&lt;T&gt; {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Node</span> <span class="variable">first</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        T item;</span><br><span class="line">        Node next;</span><br><span class="line"></span><br><span class="line">        Node(T i, Node n) {</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">oldfirst</span> <span class="operator">=</span> first;</span><br><span class="line">        first = <span class="keyword">new</span> <span class="title class_">Node</span>(item, oldfirst);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> first == <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">T</span> <span class="variable">returnItem</span> <span class="operator">=</span> first.item;</span><br><span class="line">        first = first.next;</span><br><span class="line">        <span class="keyword">return</span> returnItem;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>优点是每个操作的时间较为恒定，但平摊的时间较长<del>SLList 的发明者都不用</del>，有利于防止突发状况</p><h3 id="数组实现">数组实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(value = "unchecked")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayStack</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Stack</span>&lt;T&gt; {</span><br><span class="line">    <span class="keyword">private</span> T[] s;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ArrayStack</span><span class="params">()</span> {</span><br><span class="line">        s = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">(<span class="type">int</span> capacity)</span> {</span><br><span class="line">        T[] copy = (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[capacity];</span><br><span class="line">        System.arraycopy(copy, <span class="number">0</span>, s, <span class="number">0</span>, N);</span><br><span class="line">        s = copy;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> N == <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T item)</span> {</span><br><span class="line">        <span class="keyword">if</span> (N == s.length)</span><br><span class="line">            resize(<span class="number">2</span> * s.length);</span><br><span class="line">        s[N++] = item;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">T</span> <span class="variable">returnItem</span> <span class="operator">=</span> s[--N];</span><br><span class="line">        s[N] = <span class="literal">null</span>; <span class="comment">// 用Java要注意，Java会自动收集游离loitering的对象</span></span><br><span class="line">        <span class="keyword">if</span> (N &gt; <span class="number">0</span> &amp;&amp; N == s.length / <span class="number">4</span>)</span><br><span class="line">            resize(s.length / <span class="number">2</span>); <span class="comment">// 防止摇摆栈</span></span><br><span class="line">        <span class="keyword">return</span> returnItem;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>平摊速度较快，非特殊情况建议使用这个</p><h2 id="队列-queue">队列 queue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Queue</span>&lt;T&gt; {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">enqueue</span><span class="params">(T item)</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">dequeue</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="链表实现-1">链表实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedQueue</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Queue</span>&lt;T&gt; {</span><br><span class="line">    <span class="keyword">private</span> Node first, last;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        T item;</span><br><span class="line">        Node next;</span><br><span class="line"></span><br><span class="line">        Node(T i, Node n) {</span><br><span class="line">            item = i;</span><br><span class="line">            next = n;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> first == <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">enqueue</span><span class="params">(T item)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">oldlast</span> <span class="operator">=</span> last;</span><br><span class="line">        last = <span class="keyword">new</span> <span class="title class_">Node</span>(item, <span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">if</span> (isEmpty())</span><br><span class="line">            first = last;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            oldlast.next = last;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">dequeue</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">T</span> <span class="variable">returnItem</span> <span class="operator">=</span> first.item;</span><br><span class="line">        first = first.next;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty())</span><br><span class="line">            last = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> returnItem;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="背包-bag">背包 Bag</h2><p>添加一个元素到 collection 中以及迭代（顺序不重要）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bag</span>&lt;Item&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;Item&gt; {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Item x)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    Iterable&lt;Item&gt; <span class="title function_">iterator</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="栈和队列的应用-stack-and-queue-applications">栈和队列的应用 stack and queue applications</h2><p>表达式求值的双栈算法（dijkstra's algorithm），例如<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="22.502ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 9945.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(1111.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(2111.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mo" transform="translate(2500.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(2889.4,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(3611.7,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(4611.9,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(5111.9,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(5723.1,0)"><path data-c="2217" d="M229 286Q216 420 216 436 216 454 240 464 241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315 420 312 357 282T289 250L355 219 425 184Q434 175 434 161 434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63 283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127 106 124 100 124 87 124 76 134T64 161Q64 166 64 169T67 175 72 181 81 188 94 195 113 204 138 215 170 230 210 250L74 315Q65 324 65 338 65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"/></g><g data-mml-node="mo" transform="translate(6445.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(6834.3,0)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><g data-mml-node="mo" transform="translate(7556.6,0)"><path data-c="2217" d="M229 286Q216 420 216 436 216 454 240 464 241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315 420 312 357 282T289 250L355 219 425 184Q434 175 434 161 434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63 283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127 106 124 100 124 87 124 76 134T64 161Q64 166 64 169T67 175 72 181 81 188 94 195 113 204 138 215 170 230 210 250L74 315Q65 324 65 338 65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"/></g><g data-mml-node="mn" transform="translate(8278.8,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g><g data-mml-node="mo" transform="translate(8778.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(9167.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(9556.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Evaluate</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Stack&lt;String&gt; ops = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        Stack&lt;Integer&gt; vals = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty()) {</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> StdIn.readString();</span><br><span class="line">            <span class="keyword">if</span> (s.equals(<span class="string">"("</span>))</span><br><span class="line">                ;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (s.equals(<span class="string">"+"</span>) &amp;&amp; s.equals(<span class="string">"*"</span>))</span><br><span class="line">                ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (s.equals(<span class="string">")"</span>)) {</span><br><span class="line">                <span class="type">String</span> <span class="variable">op</span> <span class="operator">=</span> ops.pop();</span><br><span class="line">                <span class="keyword">if</span> (op.equals(<span class="string">"+"</span>))</span><br><span class="line">                    vals.push(vals.pop() + vals.pop());</span><br><span class="line">                <span class="keyword">if</span> (op.equals(<span class="string">"*"</span>))</span><br><span class="line">                    vals.push(vals.pop() * vals.pop());</span><br><span class="line">            } <span class="keyword">else</span></span><br><span class="line">                vals.push(Integer.parseInt(s));</span><br><span class="line">        }</span><br><span class="line">        System.out.println(vals.pop());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>本质上是计算括号内的表达式值并替换</p><h1 id="基本排序-elementary-sort">基本排序 Elementary sort</h1><h2 id="排序介绍-sorting-introduction">排序介绍 sorting introduction</h2><p><strong>回调 call back</strong>：对可执行代码的引用</p><ul><li>客户端传递对象给<code>sort()</code></li><li><code>sort()</code>回调对象的<code>compareTo()</code>方法</li></ul><p>Java 的实现方法是 Interface，C 语言是函数指针，c++是函数对象，python、JavaScript 是<strong>头等函数 first-class function</strong></p><p><code>compareTo()</code>实现的是<strong>全序关系 total order</strong>：</p><ul><li>反对称性：若<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2534.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1818.6,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g></g></g></svg></mjx-container></span>且<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2534.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g><g data-mml-node="mo" transform="translate(993.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(2049.6,0)"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g></g></g></svg></mjx-container></span>，则<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.505ex" role="img" focusable="false" viewbox="0 -583 2534.6 665"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mi" transform="translate(1818.6,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g></g></g></svg></mjx-container></span></li><li>传递性：若<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2534.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1818.6,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g></g></g></svg></mjx-container></span>且<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.931ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2621.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g><g data-mml-node="mo" transform="translate(993.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(2049.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g></g></g></svg></mjx-container></span>，则<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.408ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2390.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1818.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g></g></g></svg></mjx-container></span></li><li>完全性：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2534.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(762.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1818.6,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.734ex" height="1.751ex" role="img" focusable="false" viewbox="0 -636 2534.6 774"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253 656 197 644 161T609 80 554 12 482-11Q438-11 404 5T355 48Q354 47 352 44 311-11 252-11 226-11 202-5T155 14 118 53 104 116Q104 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287 21 293 29 315T52 366 96 418 161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136 341 143 342 152 345 165 348 182 354 206 362 238 373 281Q402 395 406 404 419 431 449 431 468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42 487 26Q558 26 600 148 609 171 620 213T632 273Q632 306 619 325T593 357 580 385Z"/></g><g data-mml-node="mo" transform="translate(993.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(2049.6,0)"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g></g></g></svg></mjx-container></span>至少有一个成立</li></ul><h2 id="选择排序-selection-sort">选择排序 Selection sort</h2><p>思想：在第<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.781ex" height="1.52ex" role="img" focusable="false" viewbox="0 -661 345 672"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>次迭代时，找到剩余的最小的索引<code>min</code>，并交换<code>a[i]</code>和<code>a[min]</code></p><p><strong>不变量 invariants</strong>：</p><ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.437ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewbox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433 17 437 17 439T17 444 19 447 20 450 22 452 26 453 30 454 36 456Q80 467 120 494T180 549Q227 607 238 678 240 694 251 694 259 694 261 684 261 677 265 659T284 608 320 549Q340 525 363 507T405 479 440 463 467 455 479 451Q483 447 483 433 483 413 472 413 467 413 458 416 342 448 277 545L270 555V-179Q262-193 252-193H250 248Q236-193 230-179V555L223 545Q192 499 146 467T70 424 27 414Z"/></g></g></g></svg></mjx-container></span>左边项的不变且保持升序排序</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.437ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewbox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433 17 437 17 439T17 444 19 447 20 450 22 452 26 453 30 454 36 456Q80 467 120 494T180 549Q227 607 238 678 240 694 251 694 259 694 261 684 261 677 265 659T284 608 320 549Q340 525 363 507T405 479 440 463 467 455 479 451Q483 447 483 433 483 413 472 413 467 413 458 416 342 448 277 545L270 555V-179Q262-193 252-193H250 248Q236-193 230-179V555L223 545Q192 499 146 467T70 424 27 414Z"/></g></g></g></svg></mjx-container></span>右边项的均不小于左边的项</li></ul><p>通过选择右边最小的项来维持其不变量。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Selection</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">                <span class="keyword">if</span> (less(a[j], a[min]))</span><br><span class="line">                    min = j;</span><br><span class="line">            exch(a, i, min);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">less</span><span class="params">(Comparable v, Comparable w)</span> {</span><br><span class="line">        <span class="keyword">return</span> v.compareTo(w) &lt; <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">exch</span><span class="params">(Comparable[] a, <span class="type">int</span> i, <span class="type">int</span> j)</span> {</span><br><span class="line">        <span class="type">Comparable</span> <span class="variable">t</span> <span class="operator">=</span> a[i];</span><br><span class="line">        a[i] = a[j];</span><br><span class="line">        a[j] = t;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>选择排序使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span>次比较和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>次交换</p><h2 id="插入排序-insertion-sort">插入排序 Insertion sort</h2><p>思想：在第<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.781ex" height="1.52ex" role="img" focusable="false" viewbox="0 -661 345 672"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>次迭代，将<code>a[i]</code>和每一个在它左边比它大的项交换</p><p>不变量：</p><ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.437ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewbox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433 17 437 17 439T17 444 19 447 20 450 22 452 26 453 30 454 36 456Q80 467 120 494T180 549Q227 607 238 678 240 694 251 694 259 694 261 684 261 677 265 659T284 608 320 549Q340 525 363 507T405 479 440 463 467 455 479 451Q483 447 483 433 483 413 472 413 467 413 458 416 342 448 277 545L270 555V-179Q262-193 252-193H250 248Q236-193 230-179V555L223 545Q192 499 146 467T70 424 27 414Z"/></g></g></g></svg></mjx-container></span>左边（包括自己）都保持升序</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.437ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.007ex" role="img" focusable="false" viewbox="0 -694 500 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2191" d="M27 414Q17 414 17 433 17 437 17 439T17 444 19 447 20 450 22 452 26 453 30 454 36 456Q80 467 120 494T180 549Q227 607 238 678 240 694 251 694 259 694 261 684 261 677 265 659T284 608 320 549Q340 525 363 507T405 479 440 463 467 455 479 451Q483 447 483 433 483 413 472 413 467 413 458 416 342 448 277 545L270 555V-179Q262-193 252-193H250 248Q236-193 230-179V555L223 545Q192 499 146 467T70 424 27 414Z"/></g></g></g></svg></mjx-container></span>右边不管</li></ul><p>通过依次将右边的项移动到应有的位置来维持不变量</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Insertion</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">                <span class="keyword">if</span> (less(a[j], a[j - <span class="number">1</span>]))</span><br><span class="line">                    exch(a, j, j - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>对于完全随机的数组来说，插入排序平均使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>的比较和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>的交换</p><p>证明：因为平均每次插入时移动一半的距离。</p><p>最好情况：数组已经是有序的，插入排序只使用了<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.906ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 2610.4 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(2110.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>的比较和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.557ex" role="img" focusable="false" viewbox="0 -666 500 688"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g></g></svg></mjx-container></span>次交换</p><p>最坏情况：若数组反向有序排列，平均使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>的比较和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>的交换，此时比选择排序效率低</p><p>当一个数组的<strong>逆序对 inversions</strong><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.377ex" height="1.857ex" role="img" focusable="false" viewbox="0 -683 2376.8 821"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(1488.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>时，该数组是<strong>部分有序 partially sorted</strong>的。例如在一个有序数组后接一个小数组形成的大数组。</p><p>对于部分有序的数组，插入排序只消耗线性时间。</p><p>证明：交换的次数等于逆序对数</p><h2 id="希尔排序-shellsort">希尔排序 Shellsort</h2><p>思想：对于每<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g></g></svg></mjx-container></span>个元素有序的数组每次移动多于一个位置</p><p><em>h-sort</em>的方法：插入排序，但是每次移动<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g></g></svg></mjx-container></span>个单位</p><p>使用插入排序的原因：</p><ul><li>若增量大，则子数组小，插入排序可以胜任</li><li>若增量小，则该数组已接近有序，插入排序效率高</li></ul><p>该算法的正确性：一个 g-sorted 数组在 h-sort 后依旧保持 g-sorted</p><p>一个比较好的增量序列<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="6.322ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2794.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(1294.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2294.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.452ex" xmlns="http://www.w3.org/2000/svg" width="16.603ex" height="2.149ex" role="img" focusable="false" viewbox="0 -750 7338.7 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mn" transform="translate(1500,0)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><g data-mml-node="mi" transform="translate(2000,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mn" transform="translate(3000,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(500,0)"/></g><g data-mml-node="mi" transform="translate(4000,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mn" transform="translate(5000,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/><path data-c="39" d="M352 287Q304 211 232 211 154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606 171 666 243 666 245 666 249 666T257 665H261Q273 665 286 663T323 651 370 619 413 560Q456 472 456 334 456 194 396 97 361 41 312 10T208-22Q147-22 108 7T68 93 121 149Q143 149 158 135T173 96Q173 78 164 65T148 49 135 44L131 43Q131 41 138 37T164 27 206 22H212Q272 22 313 86 352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542 341 552 337 562T323 588 293 615 246 625Q208 625 181 598 160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" transform="translate(500,0)"/></g><g data-mml-node="mo" transform="translate(6166.7,0)"><path data-c="22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190 543 207 525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190 990 207 972 250Z"/></g></g></g></svg></mjx-container></span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shell</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h &lt; N / <span class="number">3</span>)</span><br><span class="line">            h = h * <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h &gt;= <span class="number">1</span>) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> h; i &lt; N; i++)</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt;= h; j -= h)</span><br><span class="line">                    <span class="keyword">if</span> (less(a[j], a[j - h]))</span><br><span class="line">                        exch(a, j, j - h);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">            h = h / <span class="number">3</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>该代码最坏情况的比较次数是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="7.076ex" height="2.769ex" role="img" focusable="false" viewbox="0 -974.1 3127.4 1224.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42 304-22Q207-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605 242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"/></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="msup" transform="translate(1152,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" transform="translate(975.3,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g></g></g><g data-mml-node="mo" transform="translate(2738.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><p>希尔排序的优点：</p><ul><li>在数组不太大的状况下速度快</li><li>代码短</li></ul><h2 id="洗牌-shuffling">洗牌 shuffling</h2><p>简单做法：为每一个项生成一个随机的数字，并用生成的数字对整个数组排序</p><p>线性算法：</p><ul><li>在第<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.781ex" height="1.52ex" role="img" focusable="false" viewbox="0 -661 345 672"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>次迭代中，在<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.176ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1845.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1222.7,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(1567.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>(也可以是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="8.95ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 3956.1 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(623,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1067.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2177.9,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(3178.1,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(3678.1,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>，但不能是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="9.301ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 4111.1 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1222.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2332.9,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(3333.1,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(3833.1,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>)中随机生成一个整数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317 38 348 53 381 73 411 99 433 132 442Q161 442 183 430T214 408 225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400 430 381 430 363 430 333 417 315T391 292 366 288Q346 288 334 299T322 328Q322 376 378 392 356 405 342 405 286 405 239 331 229 315 224 298T190 165Q156 25 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 114 189T154 366Q154 405 128 405 107 405 92 377T68 316 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span></li><li>交换<code>a[i]</code>和<code>a[r]</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StdRandom</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">shuffle</span><span class="params">(Object[] a)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> StdRandom.uniformInt(i + <span class="number">1</span>);</span><br><span class="line">            exch(a, i, r);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="凸包-convex-hull">凸包 Convex hull</h2><p>凸包是包裹所有点的最小的栅栏</p><p>应用：</p><ul><li>运动规划：两点之间的最短距离要么是直线，要么经过其间多边形障碍物的凸包</li><li>最远点对：平面上一些点的最远点对在凸包上</li></ul><p>几何性质：</p><ul><li>可以只靠逆时针旋转遍历凸包</li><li>凸包顶点对于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.464ex" xmlns="http://www.w3.org/2000/svg" width="1.109ex" height="1.464ex" role="img" focusable="false" viewbox="0 -442 490 647"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406 158 442Q199 442 224 419T250 355Q248 336 247 334 247 331 231 288T198 191 182 105Q182 62 196 45T238 27Q261 27 281 38T312 61 339 94Q339 95 344 114T358 173 377 247Q415 397 419 404 432 431 462 431 475 431 483 424T494 412 496 403Q496 390 447 193T391-23Q363-106 294-155T156-205Q111-205 77-183T43-117Q43-95 50-80T69-58 89-48 106-45Q150-45 150-87 150-107 138-122T115-142 102-147L99-148Q101-153 118-160T152-167H160Q177-167 186-165 219-156 247-127T290-65 313-9 321 21L315 17Q309 13 296 6T270-6Q250-11 231-11 185-11 150 11T104 82Q103 89 103 113 103 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>坐标最小的点<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>的极角值递增</li></ul><p>寻找凸包的算法之一——<strong>葛立恒扫描法 Graham's scan</strong>：</p><ul><li>选择<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.464ex" xmlns="http://www.w3.org/2000/svg" width="1.109ex" height="1.464ex" role="img" focusable="false" viewbox="0 -442 490 647"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406 158 442Q199 442 224 419T250 355Q248 336 247 334 247 331 231 288T198 191 182 105Q182 62 196 45T238 27Q261 27 281 38T312 61 339 94Q339 95 344 114T358 173 377 247Q415 397 419 404 432 431 462 431 475 431 483 424T494 412 496 403Q496 390 447 193T391-23Q363-106 294-155T156-205Q111-205 77-183T43-117Q43-95 50-80T69-58 89-48 106-45Q150-45 150-87 150-107 138-122T115-142 102-147L99-148Q101-153 118-160T152-167H160Q177-167 186-165 219-156 247-127T290-65 313-9 321 21L315 17Q309 13 296 6T270-6Q250-11 231-11 185-11 150 11T104 82Q103 89 103 113 103 170 138 262T173 379Q173 380 173 381 173 390 173 393T169 400 158 404H154Q131 404 112 385T82 344 65 302 57 280Q55 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>坐标最小的点<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span></li><li>对所有点按照其对于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.138ex" height="1.439ex" role="img" focusable="false" viewbox="0 -442 503 636"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317 40 348 55 381 75 411 101 433 134 442Q209 442 230 378L240 387Q302 442 358 442 423 442 460 395T497 281Q497 173 421 82T249-10Q227-10 210-4 199 1 187 11T168 28L161 36Q160 35 139-51T118-138Q118-144 126-145T163-148H188Q194-155 194-157T191-175Q188-187 185-190T172-194Q170-194 161-194T127-193 65-192Q-5-192-24-194H-32Q-39-187-39-183-37-156-26-148H-6Q28-147 33-136 36-130 94 103T155 350Q156 355 156 364 156 405 131 405 109 405 94 377T71 316 59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26 282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405 339 405 328 402T306 393 286 380 269 365 254 350 243 336 235 326L232 322Q232 321 229 308T218 264 204 212Q178 106 178 102Z"/></g></g></g></svg></mjx-container></span>的极角大小排序</li><li>依次考虑这些点，若不是逆时针旋转，则舍弃该点</li></ul><p>判断<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="10.186ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 4502.1 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(806.8,0)"><path data-c="2192" d="M56 237T56 250 70 270H835Q719 357 692 493 692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506 732 497 735 481 743 456Q765 389 816 336T935 261Q944 258 944 250 944 244 939 241T915 231 877 212Q836 186 806 152T761 85 740 35 732 4Q730-6 727-8T711-11Q691-11 691 0 691 7 696 25 728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(2084.6,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mo" transform="translate(2791.3,0)"><path data-c="2192" d="M56 237T56 250 70 270H835Q719 357 692 493 692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506 732 497 735 481 743 456Q765 389 816 336T935 261Q944 258 944 250 944 244 939 241T915 231 877 212Q836 186 806 152T761 85 740 35 732 4Q730-6 727-8T711-11Q691-11 691 0 691 7 696 25 728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(4069.1,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g></g></g></svg></mjx-container></span>是否为逆时针：求解<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="16.161ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 7143.3 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402 231 442 283 442 345 442 383 396T422 280Q422 169 343 79T173-11Q123-11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640 73 647ZM336 325V331Q336 405 275 405 258 405 240 397T207 376 181 352 163 330L157 322 136 236Q114 150 114 114 114 66 138 42 154 26 178 26 211 26 245 58 270 81 285 114T318 219Q336 291 336 325Z"/></g><g data-mml-node="mo" transform="translate(1040.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(2040.4,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(2569.4,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(3180.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="mo" transform="translate(4180.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4569.9,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mo" transform="translate(5225.1,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(6225.3,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(6754.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Point2D</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">double</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">double</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Point2D</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span> {</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">ccw</span><span class="params">(Point2D a, Point2D b, Point2D c)</span> {</span><br><span class="line">        <span class="type">double</span> <span class="variable">area2</span> <span class="operator">=</span> (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);</span><br><span class="line">        <span class="keyword">if</span> (area2 &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (area2 &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Stack&lt;Point2D&gt; hull = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Arrays.sort(p, Point2D.Y_ORDER);</span><br><span class="line">        Arrays.sort(p, p[<span class="number">0</span>].BY_POLAR_ORDER);</span><br><span class="line"></span><br><span class="line">        hull.push(p[<span class="number">0</span>]);</span><br><span class="line">        hull.push(p[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; N; i++) {</span><br><span class="line">            <span class="type">Point2D</span> <span class="variable">top</span> <span class="operator">=</span> hull.pop();</span><br><span class="line">            <span class="keyword">while</span> (Point2D.ccw(hull.peek(), top, p[i]) &lt;= <span class="number">0</span>)</span><br><span class="line">                top = hull.pop();</span><br><span class="line">            hull.push(top);</span><br><span class="line">            hull.push(p[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h1 id="归并排序-mergesort">归并排序 Mergesort</h1><h2 id="归并排序-mergesort-1">归并排序 Mergesort</h2><p>思想：</p><ul><li>将数组分成两半</li><li>递归对两半排序</li><li>合并两半</li></ul><p>在代码前加上 assert 表明接下来想做什么，并有利于测试；在代码后加上 assert 表明该代码做了什么</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Merge</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> mid, <span class="type">int</span> hi)</span> {</span><br><span class="line">        <span class="keyword">assert</span> <span class="title function_">isSorted</span><span class="params">(a, lo, mid)</span>;</span><br><span class="line">        <span class="keyword">assert</span> <span class="title function_">isSorted</span><span class="params">(a, mid + <span class="number">1</span>, hi)</span>;</span><br><span class="line"></span><br><span class="line">        System.arraycopy(a, lo, aux, lo, hi - lo + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lo, j = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> lo; k &lt;= hi; k++) {</span><br><span class="line">            <span class="keyword">if</span> (i &gt; mid)</span><br><span class="line">                a[k] = aux[j++];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; hi)</span><br><span class="line">                a[k] = aux[i++];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (less(aux[j], aux[i]))</span><br><span class="line">                a[k] = aux[j++];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                a[k] = aux[i++];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">assert</span> <span class="title function_">isSorted</span><span class="params">(a, lo, hi)</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        sort(a, aux, lo, mid);</span><br><span class="line">        sort(a, aux, mid + <span class="number">1</span>, hi);</span><br><span class="line">        merge(a, aux, lo, mid, hi);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isSorted</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lo; i &lt; hi; i++)</span><br><span class="line">            <span class="keyword">if</span> (less(a[i + <span class="number">1</span>], a[i]))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        Comparable[] aux = <span class="keyword">new</span> <span class="title class_">Comparable</span>[a.length];</span><br><span class="line">        sort(a, aux, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><code>assert</code> 在生成产品时自动禁用，也可以手动启用/禁用：<br><code>java -ea MyProgram</code>启用<br><code>java -da MyProgram</code>禁用（默认）</p><p>归并排序使用最多<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>比较和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.664ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3387.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601 351 623 311 626 240 626 194 566 147 500 147 364L148 360Q153 366 156 373 197 433 263 433H267Q313 433 348 414 372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149 440 90 387 34T253-22Q225-22 199-14T143 16 92 75 56 172 42 313ZM257 397Q227 397 205 380T171 335 154 278 148 216Q148 133 160 97T198 39Q222 21 251 21 302 21 329 59 342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1554.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>数组访问</p><p>证明：比较次数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.489ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2426 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mo" transform="translate(760,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1149,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2037,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>满足</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="48.477ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 21426.9 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mo" transform="translate(760,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1149,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2037,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2703.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(3759.6,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mo" transform="translate(4519.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4908.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(5796.6,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(6296.6,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(6796.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(7407.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(8408,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mo" transform="translate(9168,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(9557,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(10445,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(10945,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(11445,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(12056.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(13056.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(13944.4,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(14389.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(15554.9,0)"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107-40H101Q83-38 83-20 83-19 83-17 82-10 98-1 117 9 248 71 326 108 378 132L626 250 378 368Q90 504 86 509 84 513 84 520Z"/></g><g data-mml-node="mn" transform="translate(16610.7,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(17110.7,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(17555.3,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mo" transform="translate(18315.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(18704.3,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(19204.3,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(19871.1,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(20926.9,0)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g></g></svg></mjx-container></span></p><p>归并排序使用了正比于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的额外空间</p><p><strong>原地 in-place 排序</strong>是指使用了<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="9.023ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3988.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(1655.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2933.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3100.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的额外内存的算法，例如插入、选择、希尔排序。</p><h3 id="改进-1在小数组时使用插入排序">改进 1：在小数组时使用插入排序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo + CUTOFF - <span class="number">1</span>) {</span><br><span class="line">        Insertion.sort(a, lo, hi);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">    sort(a, aux, lo, mid);</span><br><span class="line">    sort(a, aux, mid + <span class="number">1</span>, hi);</span><br><span class="line">    merge(a, aux, lo, mid, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="改进-2跳过已排序数组">改进 2：跳过已排序数组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">    sort(a, aux, lo, mid);</span><br><span class="line">    sort(a, aux, mid + <span class="number">1</span>, hi);</span><br><span class="line">    <span class="keyword">if</span> (less(a[mid + <span class="number">1</span>], a[mid]))</span><br><span class="line">        merge(a, aux, lo, mid, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="改进-3通过交换原数组和辅助数组的角色来节省复制数组时间">改进 3：通过交换原数组和辅助数组的角色来节省复制数组时间</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> mid, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lo, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> lo; k &lt;= hi; k++) {</span><br><span class="line">        <span class="keyword">if</span> (i &gt; mid)</span><br><span class="line">            aux[k] = a[j++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; hi)</span><br><span class="line">            aux[k] = a[i++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (less(a[j], a[i]))</span><br><span class="line">            aux[k] = a[j++];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            aux[k] = a[i++];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, Comparable[] aux, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">    sort(aux, a, lo, mid);</span><br><span class="line">    sort(aux, a, mid + <span class="number">1</span>, hi);</span><br><span class="line">    merge(a, aux, lo, mid, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="自底向上归并排序-bottom-up-mergesort">自底向上归并排序 bottom-up Mergesort</h2><p>思想：依次合并大小为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="13.84ex" height="1.971ex" role="img" focusable="false" viewbox="0 -677 6117.3 871"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(1444.7,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mn" transform="translate(1889.3,0)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><g data-mml-node="mo" transform="translate(2389.3,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mn" transform="translate(2834,0)"><path data-c="38" d="M70 417T70 494 124 618 248 666Q319 666 374 624T429 515Q429 485 418 459T392 417 361 389 335 371 324 363L338 354Q352 344 366 334T382 323Q457 264 457 174 457 95 399 37T249-22Q159-22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368 70 417 70 494ZM286 386 292 390Q298 394 301 396T311 403 323 413 334 425 345 438 355 454 364 471 369 491 371 513Q371 556 342 586T275 624Q268 625 242 625 201 625 165 599T128 534Q128 511 141 492T167 463 217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194 353 216 330 234 301 253 274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239 107 157Q107 98 150 60T250 21Z"/></g><g data-mml-node="mo" transform="translate(3334,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mn" transform="translate(3778.7,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601 351 623 311 626 240 626 194 566 147 500 147 364L148 360Q153 366 156 373 197 433 263 433H267Q313 433 348 414 372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149 440 90 387 34T253-22Q225-22 199-14T143 16 92 75 56 172 42 313ZM257 397Q227 397 205 380T171 335 154 278 148 216Q148 133 160 97T198 39Q222 21 251 21 302 21 329 59 342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(500,0)"/></g><g data-mml-node="mo" transform="translate(4945.3,0)"><path data-c="22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190 543 207 525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190 990 207 972 250Z"/></g></g></g></svg></mjx-container></span>的子数组</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MergeBU</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> a.length;</span><br><span class="line">        aux = <span class="keyword">new</span> <span class="title class_">Comparable</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">sz</span> <span class="operator">=</span> <span class="number">1</span>; sz &lt; N; sz *= <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>; lo &lt; N - sz; lo += sz * <span class="number">2</span>)</span><br><span class="line">                merge(a, lo, lo + sz - <span class="number">1</span>, Math.min(lo + sz * <span class="number">2</span> - <span class="number">1</span>, N - <span class="number">1</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="排序算法的复杂度-sorting-complexity">排序算法的复杂度 Sorting complexity</h2><p>证明排序算法的复杂度的下界为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>：</p><p>最坏情况的由决策树高度<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g></g></svg></mjx-container></span>决定，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g></g></svg></mjx-container></span>高度的二叉树最多有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.24ex" height="1.932ex" role="img" focusable="false" viewbox="0 -853.7 990.3 853.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g></g></g></svg></mjx-container></span>个叶结点；<br>对于<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个不同的项，有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.638ex" height="1.62ex" role="img" focusable="false" viewbox="0 -716 1166 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="21" d="M78 661Q78 682 96 699T138 716 180 700 199 661Q199 654 179 432T158 206Q156 198 139 198 121 198 119 206 118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"/></g></g></g></svg></mjx-container></span>种排列顺序，所以最多有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.638ex" height="1.62ex" role="img" focusable="false" viewbox="0 -716 1166 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="21" d="M78 661Q78 682 96 699T138 716 180 700 199 661Q199 654 179 432T158 206Q156 198 139 198 121 198 119 206 118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"/></g></g></g></svg></mjx-container></span>个叶结点</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="17.051ex" height="2.357ex" role="img" focusable="false" viewbox="0 -903.7 7536.4 1041.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(533,413) scale(0.707)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g></g><g data-mml-node="mo" transform="translate(1268.1,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431 687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76 83 77 83 79 82 86 98 95 117 105 248 167 326 204 378 228L626 346 360 472Q291 505 200 548 112 589 98 597T83 616ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(2323.8,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(2621.8,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350 174 402 244 433 307 442H310Q355 442 388 420T421 355Q421 265 310 237 261 224 176 223 139 223 138 221 138 219 132 186T125 128Q125 81 146 54T209 26 302 45 394 111Q403 121 406 121 410 121 419 112T429 98 420 82 390 55 344 24 281-1 205-11Q126-11 83 42T39 168ZM373 353Q367 405 305 405 272 405 244 391T199 357 170 316 154 280 149 261Q149 260 169 260 282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(3087.8,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mi" transform="translate(3616.8,0)"><path data-c="1D463" d="M173 380Q173 405 154 405 130 405 104 376T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287 21 294 29 316T53 368 97 419 160 441Q202 441 225 417T249 361Q249 344 246 335 246 329 231 291T200 202 182 113Q182 86 187 69 200 26 250 26 287 26 319 60T369 139 398 222 409 277Q409 300 401 317T383 343 365 361 357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159 347 40 241-11Q177-11 139 22 102 54 102 117 102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mi" transform="translate(4101.8,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350 174 402 244 433 307 442H310Q355 442 388 420T421 355Q421 265 310 237 261 224 176 223 139 223 138 221 138 219 132 186T125 128Q125 81 146 54T209 26 302 45 394 111Q403 121 406 121 410 121 419 112T429 98 420 82 390 55 344 24 281-1 205-11Q126-11 83 42T39 168ZM373 353Q367 405 305 405 272 405 244 391T199 357 170 316 154 280 149 261Q149 260 169 260 282 260 327 284T373 353Z"/></g><g data-mml-node="mi" transform="translate(4567.8,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415 300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372 367 378Q368 378 368 379 368 382 361 388T336 399 297 405Q249 405 227 379T204 326Q204 301 223 291T278 274 330 259Q396 230 396 163 396 135 385 107T352 51 289 7 195-10Q118-10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34 201 27Q237 27 263 38T301 66 318 97 323 122Q323 150 302 164T254 181 195 196 148 231Q131 256 131 289Z"/></g><g data-mml-node="mo" transform="translate(5314.6,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431 687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76 83 77 83 79 82 86 98 95 117 105 248 167 326 204 378 228L626 346 360 472Q291 505 200 548 112 589 98 597T83 616ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(6370.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(7258.4,0)"><path data-c="21" d="M78 661Q78 682 96 699T138 716 180 700 199 661Q199 654 179 432T158 206Q156 198 139 198 121 198 119 206 118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"/></g></g></g></svg></mjx-container></span><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="20.028ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 8852.4 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g><g data-mml-node="mo" transform="translate(853.8,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431 687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76 83 77 83 79 82 86 98 95 117 105 248 167 326 204 378 228L626 346 360 472Q291 505 200 548 112 589 98 597T83 616ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1909.6,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2687.6,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(2687.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(3076.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(3964.6,0)"><path data-c="21" d="M78 661Q78 682 96 699T138 716 180 700 199 661Q199 654 179 432T158 206Q156 198 139 198 121 198 119 206 118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"/></g><g data-mml-node="mo" transform="translate(4242.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(4909.3,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(5965.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(7019.8,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(7797.8,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(7964.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><p>所以归并排序在时间复杂度上是最优算法，但空间利用率并不一定是最优的</p><p>但在一些特殊情况下，归并排序不一定最优：</p><ul><li>输入部分有序</li><li>重复值</li><li>数字性质（如基数排序）</li></ul><h2 id="比较器-comparator">比较器 Comparator</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Point2D</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Comparator&lt;Point2D&gt; POLAR_ORDER = <span class="keyword">new</span> <span class="title class_">PolarOrder</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">PolarOrder</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Point2D&gt; {</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Point2D o1, Point2D o2)</span> {</span><br><span class="line">            <span class="type">double</span> <span class="variable">dy1</span> <span class="operator">=</span> q1.y - y;</span><br><span class="line">            <span class="type">double</span> <span class="variable">dy2</span> <span class="operator">=</span> q2.y - y;</span><br><span class="line">            <span class="keyword">if</span> (dy1 == <span class="number">0</span> &amp;&amp; dy2 == <span class="number">0</span>)</span><br><span class="line">                ;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (dy1 &gt;= <span class="number">0</span> &amp;&amp; dy2 &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (dy2 &gt;= <span class="number">0</span> &amp;&amp; dy1 &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> -ccw(Point2D.<span class="built_in">this</span>, q1, q2);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="稳定性-stability">稳定性 stability</h2><p>稳定性：不会改变相同值的项的顺序</p><p>插入排序和归并排序是稳定的</p><h1 id="快速排序-quicksort">快速排序 Quicksort</h1><h2 id="快速排序-quicksort-1">快速排序 quicksort</h2><p>思想：</p><ul><li>随机打乱数组（对于保证效率很重要）</li><li><strong>分割 Partition</strong>，对某个<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.462ex" xmlns="http://www.w3.org/2000/svg" width="0.932ex" height="1.957ex" role="img" focusable="false" viewbox="0 -661 412 865"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></svg></mjx-container></span>：<ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="3.387ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1497 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(529,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(807,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(1219,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>在原位</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.462ex" xmlns="http://www.w3.org/2000/svg" width="0.932ex" height="1.957ex" role="img" focusable="false" viewbox="0 -661 412 865"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></svg></mjx-container></span>左边的项都<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.776ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2552.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(1584.8,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(1862.8,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(2274.8,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span></li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.462ex" xmlns="http://www.w3.org/2000/svg" width="0.932ex" height="1.957ex" role="img" focusable="false" viewbox="0 -661 412 865"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g></g></g></svg></mjx-container></span>右边的项都<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.776ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2552.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107-40H101Q83-38 83-20 83-19 83-17 82-10 98-1 117 9 248 71 326 108 378 132L626 250 378 368Q90 504 86 509 84 513 84 520Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392 386 422 416 422 429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487Q506 153 506 144 506 138 501 117T481 63 449 13Q436 0 417-8 409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157ZM351 328Q351 334 346 350T323 385 277 405Q242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"/></g><g data-mml-node="mo" transform="translate(1584.8,0)"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(1862.8,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405 240 405 220 393T185 362 161 325 144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432 341 418 354 401T367 348V332L318 133Q267-67 264-75 246-125 194-164T75-204Q25-204 7-183T-12-137Q-12-110 7-91T53-71Q70-71 82-81T95-112Q95-148 63-167 69-168 77-168 111-168 139-140T182-74L193-32Q204 11 219 72T251 197 278 308 289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(2274.8,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span></li></ul></li><li>递归处理左右部分</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Quick</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lo, j = hi + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="keyword">while</span> (less(a[++i], a[lo]))</span><br><span class="line">                <span class="keyword">if</span> (i == hi) <span class="comment">// 这一条不是多余的</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">while</span> (less(a[lo], a[--j]))</span><br><span class="line">                <span class="keyword">if</span> (j == lo) <span class="comment">// 其实是多余的</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= j)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            exch(a, i, j);</span><br><span class="line">        }</span><br><span class="line">        exch(a, lo, j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a)</span> {</span><br><span class="line">        StdRandom.shuffle(a);</span><br><span class="line">        sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">        <span class="keyword">if</span> (lo &lt;= hi)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> partition(a, lo, hi);</span><br><span class="line">        sort(a, lo, j - <span class="number">1</span>);</span><br><span class="line">        sort(a, j + <span class="number">1</span>, hi);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>注意点：</p><ul><li>原地分割</li><li>指针相交时结束循环</li><li><code>i</code>和<code>j</code>保持在边界中</li><li>shuffling</li><li>相等的值</li></ul><p>最坏情况下的比较次数是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>，平均比较次数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="10.179ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 4499.1 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(1555.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(2610.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(3444.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3611.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>（交换次数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.816ex" xmlns="http://www.w3.org/2000/svg" width="10.843ex" height="2.773ex" role="img" focusable="false" viewbox="0 -864.9 4792.7 1225.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="mi" transform="translate(1849.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(2904,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(3738,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3904.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>）</p><p>证明：比较次数的递推公式为：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.552ex" xmlns="http://www.w3.org/2000/svg" width="67.816ex" height="4.676ex" role="img" focusable="false" viewbox="0 -1381 29974.5 2067"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(1703.7,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mo" transform="translate(2759.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(3148.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(4258.7,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(5258.9,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(5758.9,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6370.1,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(7370.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mfrac" transform="translate(7759.4,0)"><g data-mml-node="mrow" transform="translate(220,676)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mn" transform="translate(748,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g><g data-mml-node="mo" transform="translate(1373.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="msub" transform="translate(2374,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="TeXAtom" transform="translate(748,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1666,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></g><g data-mml-node="mi" transform="translate(2127.8,-686)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><rect width="4903.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(12902.9,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(13514.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(14514.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mfrac" transform="translate(14903.4,0)"><g data-mml-node="mrow" transform="translate(220,676)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mn" transform="translate(748,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><g data-mml-node="mo" transform="translate(1373.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="msub" transform="translate(2374,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="TeXAtom" transform="translate(748,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1666,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g><g data-mml-node="mi" transform="translate(2127.8,-686)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><rect width="4903.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(20047,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(20658.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(21658.4,0)"><path data-c="22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190 543 207 525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190 990 207 972 250Z"/></g><g data-mml-node="mo" transform="translate(23052.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(24052.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mfrac" transform="translate(24441.9,0)"><g data-mml-node="mrow" transform="translate(220,676)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="TeXAtom" transform="translate(748,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1666,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g><g data-mml-node="mo" transform="translate(2551.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="msub" transform="translate(3552,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mn" transform="translate(748,-150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g></g><g data-mml-node="mi" transform="translate(2127.8,-686)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><rect width="4903.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(29585.5,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><p>退项相减得到：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.738ex" xmlns="http://www.w3.org/2000/svg" width="25.852ex" height="4.862ex" role="img" focusable="false" viewbox="0 -1381 11426.5 2149"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(812.3,676)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mrow" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2110.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><rect width="2810.4" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(3328.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(4384,0)"><g data-mml-node="msub" transform="translate(220,676)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="TeXAtom" transform="translate(748,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1666,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g><g data-mml-node="mi" transform="translate(940.8,-686)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><rect width="2529.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(7375.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mfrac" transform="translate(8376,0)"><g data-mml-node="mn" transform="translate(1275.2,676)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mrow" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2110.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><rect width="2810.4" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></p><p>迭代得到：</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-1.738ex" xmlns="http://www.w3.org/2000/svg" width="38.024ex" height="4.774ex" role="img" focusable="false" viewbox="0 -1342 16806.7 2110"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(1703.7,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(2759.5,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(3259.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(3648.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(4758.7,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(5758.9,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(6258.9,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(6647.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mfrac" transform="translate(7036.9,0)"><g data-mml-node="mn" transform="translate(220,676)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-686)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><rect width="700" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(8199.1,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mfrac" transform="translate(9199.4,0)"><g data-mml-node="mn" transform="translate(220,676)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-686)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><rect width="700" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(10361.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(11361.8,0)"><path data-c="22EF" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190 96 207 78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190 543 207 525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190 990 207 972 250Z"/></g><g data-mml-node="mo" transform="translate(12756,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mfrac" transform="translate(13756.2,0)"><g data-mml-node="mn" transform="translate(1275.2,676)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mrow" transform="translate(220,-686)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2110.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g><rect width="2810.4" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="27.606ex" height="2.061ex" role="img" focusable="false" viewbox="0 -705 12201.7 911"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(1703.7,0)"><path data-c="2248" d="M55 319Q55 360 72 393T114 444 163 472 205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346 609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452 722 386 675 338T555 289Q514 289 468 310T388 357 308 404 224 426Q164 426 125 393T83 318Q81 289 69 289 55 289 55 319ZM55 85Q55 126 72 159T114 210 163 238 205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112 609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123 308 170 224 192Q164 192 125 159T83 84Q80 55 69 55 55 55 55 85Z"/></g><g data-mml-node="mn" transform="translate(2759.5,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(3259.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(4314.1,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(5148.1,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(5314.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(6480.6,0)"><path data-c="2248" d="M55 319Q55 360 72 393T114 444 163 472 205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346 609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452 722 386 675 338T555 289Q514 289 468 310T388 357 308 404 224 426Q164 426 125 393T83 318Q81 289 69 289 55 289 55 319ZM55 85Q55 126 72 159T114 210 163 238 205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112 609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123 308 170 224 192Q164 192 125 159T83 84Q80 55 69 55 55 55 55 85Z"/></g><g data-mml-node="mn" transform="translate(7536.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(778,0)"/><path data-c="39" d="M352 287Q304 211 232 211 154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606 171 666 243 666 245 666 249 666T257 665H261Q273 665 286 663T323 651 370 619 413 560Q456 472 456 334 456 194 396 97 361 41 312 10T208-22Q147-22 108 7T68 93 121 149Q143 149 158 135T173 96Q173 78 164 65T148 49 135 44L131 43Q131 41 138 37T164 27 206 22H212Q272 22 313 86 352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542 341 552 337 562T323 588 293 615 246 625Q208 625 181 598 160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(9314.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(10369,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(11147,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(11313.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><p>尽管平均情况下比归并排序多 39%比较，但在实践中因为数据移动少而比归并排序快，快速排序不是稳定的</p><h3 id="改进-1在小数组时使用插入排序-1">改进 1：在小数组时使用插入排序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (lo &lt;= hi + CUTOFF - <span class="number">1</span>) { <span class="comment">// CUTOFF 为十几时能提高一定效率</span></span><br><span class="line">        Insertion.sort(a, lo, hi);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> partition(a, lo, hi);</span><br><span class="line">    sort(a, lo, j - <span class="number">1</span>);</span><br><span class="line">    sort(a, j + <span class="number">1</span>, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="改进-2选择数组的中位数">改进 2：选择数组的中位数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (lo &lt;= hi)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> mediaOf3(a, lo, lo + (hi - lo) / <span class="number">2</span>, hi);</span><br><span class="line">    swap(a, lo, m);</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> partition(a, lo, hi);</span><br><span class="line">    sort(a, lo, j - <span class="number">1</span>);</span><br><span class="line">    sort(a, j + <span class="number">1</span>, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="选择-selection">选择 Selection</h2><p>寻找数组中的第<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>大/小值</p><p>思想：同快速排序，但是只在一个子数组中递归执行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Comparable <span class="title function_">select</span><span class="params">(Comparable[] a, <span class="type">int</span> k)</span> {</span><br><span class="line">    StdRandom.shuffle(a);</span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = a.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (hi &gt; lo) {</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> partition(a, lo, hi);</span><br><span class="line">        <span class="keyword">if</span> (j &lt; k)</span><br><span class="line">            lo = j + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; k)</span><br><span class="line">            hi = j - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> a[k];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> a[k];</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>快速选择平均消耗线性时间，当然，最坏情况依旧成为平方算法</p><p>证明：类似于快速排序的分析可得</p><p><span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="49.291ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 21786.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641 490 704Q580 704 633 653 642 643 648 636T656 626L657 623Q660 623 684 649 691 655 699 663T715 679 725 690L740 705H746Q760 705 760 698 760 694 728 561 692 422 692 421 690 416 687 415T669 413H653Q647 419 647 422 647 423 648 429T650 449 651 481Q651 552 619 605T510 659Q484 659 454 652T382 628 299 572 226 479Q194 422 175 346T156 222Q156 108 232 58 280 24 350 24 441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248 648 243 647 239 618 132 523 55T319-22Q206-22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(748,-150) scale(0.707)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(1703.7,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(2759.5,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(3259.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(4369.7,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(5369.9,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(5869.9,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mi" transform="translate(6557.6,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(7391.6,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(7391.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(7780.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(8668.6,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mi" transform="translate(9168.6,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mo" transform="translate(9689.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(10300.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(11301,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(11801,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(12190,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(13300.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(14300.5,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mo" transform="translate(14821.5,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mi" transform="translate(15377.1,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(16211.1,0)"><path data-c="2061" d=""/></g><g data-mml-node="mo" transform="translate(16211.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(16600.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(17488.1,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mo" transform="translate(17988.1,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(18377.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(19487.4,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(20487.6,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mo" transform="translate(21008.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(21397.6,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><h2 id="重复的值-duplicate-keys">重复的值 Duplicate keys</h2><p>若不停止与分割项相等的项上，会在所有值都相等时出现<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="7.303ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 3228.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="msup" transform="translate(1849.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>的时间复杂度</p><p><strong>三路分割 3-way partition</strong>：分割时分成三部分，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.778ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2553.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(576,0)"><path data-c="1D45C" d="M201-11Q126-11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441 333 441 341 440 354 437 367 433T402 417 438 387 464 338 476 268Q476 161 390 75T201-11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375 346 405 306 405 243 405 195 347 158 303 140 230T121 120Z"/></g><g data-mml-node="mo" transform="translate(1061,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1505.7,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(1803.7,0)"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g><g data-mml-node="mo" transform="translate(2164.7,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>中的均小于某个值，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="5.651ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2497.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118-250V750H255V710H158V-210H255V-250H118Z"/></g><g data-mml-node="mi" transform="translate(278,0)"><path data-c="1D459" d="M117 59Q117 26 142 26 179 26 205 131 211 151 215 152 217 153 225 153H229Q238 153 241 153T246 151 248 144Q247 138 245 128T234 90 214 43 183 6 137-11Q101-11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623 167 626 166 628T162 632 157 634 149 635 141 636 132 637 122 637Q112 637 109 637T101 638 95 641 94 647Q94 649 96 661 101 680 107 682T179 688Q194 689 213 690T243 693 254 694Q266 694 266 686 266 675 193 386T118 83Q118 81 118 75T117 65V59Z"/></g><g data-mml-node="mi" transform="translate(576,0)"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g><g data-mml-node="mo" transform="translate(937,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1381.7,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(1858.7,0)"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g><g data-mml-node="mo" transform="translate(2219.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>中的均等于某个值，<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="6.495ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2870.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412 431 419 447 422Q461 422 470 413T480 394Q480 379 423 152T363-80Q345-134 286-169T151-205Q10-205 10-137 10-111 28-91T74-71Q89-71 102-80T116-111Q116-121 114-130T107-144 99-154 92-162L90-164H91Q101-167 151-167 189-167 211-155 234-144 254-122T282-75Q288-56 298-13 311 35 311 43ZM384 328 380 339Q377 350 375 354T369 368 359 382 346 393 328 402 306 405Q262 405 221 352 191 313 171 233T151 117Q151 38 213 38 269 38 323 108L331 118 384 328Z"/></g><g data-mml-node="mi" transform="translate(866,0)"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g><g data-mml-node="mo" transform="translate(1227,0)"><path data-c="2C" d="M78 35T78 60 94 103 137 121Q165 121 187 96T210 8Q210-27 201-60T180-117 154-158 130-185 117-194Q113-194 104-185T95-172Q95-168 106-156T131-126 157-76 173-3V9L172 8Q170 7 167 6T161 3 152 1 140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(1671.7,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685 294 674 258 534 220 386 220 383 220 381 227 388 288 442 357 442 411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145 555 144 551 130 535 71 500 33 466-10 419-10H414Q367-10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293 164 158Q132 28 127 16 114-11 83-11 69-11 59-2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"/></g><g data-mml-node="mi" transform="translate(2247.7,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369 98 420 158 442Q197 442 223 419T250 357Q250 340 236 301T196 196 154 83Q149 61 149 51 149 26 166 26 175 26 185 29T208 43 235 78 260 137Q263 149 265 151T282 153Q302 153 302 143 302 135 293 112T268 61 223 11 161-11Q129-11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281 56 279 53 278 49 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(2592.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"/></g></g></g></svg></mjx-container></span>中的均大于某个值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] a, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> {</span><br><span class="line">    <span class="keyword">if</span> (hi &lt;= lo)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">lt</span> <span class="operator">=</span> lo, gt = hi;</span><br><span class="line">    <span class="type">Comparable</span> <span class="variable">v</span> <span class="operator">=</span> a[lo];</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lo;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= gt) {</span><br><span class="line">        <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> a[i].compareTo(v);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            exch(a, lt++, i++);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            exch(a, i, gt--);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            i++;</span><br><span class="line">    }</span><br><span class="line">    sort(a, lo, lt - <span class="number">1</span>);</span><br><span class="line">    sort(a, gt + <span class="number">1</span>, hi);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="系统排序-system-sorts">系统排序 System sorts</h2><p>Java 的<code>Arrays.sort()</code>对于基本类型使用快速排序，对对象使用归并排序</p><p>快速排序优化的分割方法：</p><ul><li>小数组：中间项</li><li>中数组：三项的中位数</li><li>大数组：<strong>Tukey's ninther</strong>：三个元素中位数的中位数</li></ul><table style="width:100%"><colgroup><col style="width:11%"><col style="width:7%"><col style="width:5%"><col style="width:14%"><col style="width:14%"><col style="width:14%"><col style="width:32%"></colgroup><thead><tr class="header"><th>算法名称</th><th>原地算法</th><th>稳定性</th><th>最坏情况</th><th>平均情况</th><th>最好情况</th><th>特点</th></tr></thead><tbody><tr class="odd"><td>选择排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>次交换</td></tr><tr class="even"><td>插入排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>对<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>较小或部分有序时有用</td></tr><tr class="odd"><td>希尔排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.068ex" height="1.595ex" role="img" focusable="false" viewbox="0 -705 472 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.068ex" height="1.595ex" role="img" focusable="false" viewbox="0 -705 472 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>代码短，比平方算法快一点</td></tr><tr class="even"><td>归并排序</td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>保证<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>，稳定</td></tr><tr class="odd"><td>快速排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="7.79ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 3443.3 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1554.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2388.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2555.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的可能性保证，实践中最快</td></tr><tr class="even"><td>三路快速排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="3.201ex" height="3.006ex" role="img" focusable="false" viewbox="0 -983.7 1415 1328.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msup" transform="translate(220,394) scale(0.707)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mn" transform="translate(975.3,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mn" transform="translate(530.7,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="1175" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="7.79ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 3443.3 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1554.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2388.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2555.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>对于有重复值的快速排序的优化</td></tr><tr class="odd"><td>堆排序</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.664ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3387.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1554.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.664ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3387.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1554.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>保证<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>，原地算法</td></tr><tr class="even"><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="3.204ex" height="1.595ex" role="img" focusable="false" viewbox="0 -705 1416 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g><g data-mml-node="mo" transform="translate(472,0)"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g><g data-mml-node="mo" transform="translate(944,0)"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="6.532ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2887.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1832.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1999.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td>神级算法，但目前还没有发现能实践的</td></tr></tbody></table><h1 id="优先队列-priority-queue">优先队列 Priority queue</h1><h2 id="api-和基本实现-apis-and-elementary-implementations">API 和基本实现 APIs and elementary implementations</h2><p>应用：在<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个元素中找到最大的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>个元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MinPQ&lt;Transaction&gt; pq = <span class="keyword">new</span> <span class="title class_">MinPQ</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (StdIn.hasNextLine()) {</span><br><span class="line">    <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> StdIn.readLine();</span><br><span class="line">    <span class="type">Transaction</span> <span class="variable">item</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Transaction</span>(line);</span><br><span class="line">    pq.insert(item);</span><br><span class="line">    <span class="keyword">if</span> (pq.size() &gt; M)</span><br><span class="line">        pq.delMin();</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="二叉堆-binary-heap">二叉堆 binary heap</h2><p><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个结点的完全二叉树的高度是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="6.155ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2720.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="230A" d="M174 734Q174 735 175 737T177 740 180 744 184 747 189 749 196 750Q206 748 214 735V-210H310 373Q401-210 411-213T422-230 411-247 369-251Q362-251 338-251T298-250H190Q178-246 174-234V734Z"/></g><g data-mml-node="mi" transform="translate(444,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1222,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1388.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2276.7,0)"><path data-c="230B" d="M229 734Q229 735 230 737T232 740 235 744 239 747 244 749 251 750Q262 748 269 735V-235Q266-240 256-249L147-250H77Q43-250 32-247T21-230 32-213 72-209Q79-209 99-209T133-210H229V734Z"/></g></g></g></svg></mjx-container></span></p><p>堆顺序的二叉树：</p><ul><li>结点为值</li><li>父结点的值不小于子结点的值</li></ul><p>性质：</p><ul><li>最大的值为<code>a[1]</code>，也就是二叉树的根</li><li>能够使用下标在树上移动：<ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>的父结点是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="3.441ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1521 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(521,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1021,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span></li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>的子结点分别是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="2.31ex" height="1.595ex" role="img" focusable="false" viewbox="0 -694 1021 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="6.207ex" height="1.756ex" role="img" focusable="false" viewbox="0 -694 2743.4 776"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mo" transform="translate(1243.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mn" transform="translate(2243.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></li></ul></li></ul><p>当子结点变得比父结点大时：</p><ul><li>将子结点与父结点交换</li><li>重复此过程直到恢复堆顺序</li></ul><p>当父结点变得比子结点小时：</p><ul><li>将父结点与较大的子结点交换</li><li>重复此过程直到恢复堆顺序</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MaxPQ</span>&lt;Key <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;Key&gt;&gt; {</span><br><span class="line">    <span class="keyword">private</span> Key[] pq;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MaxPQ</span><span class="params">(<span class="type">int</span> capacity)</span> {</span><br><span class="line">        pq = (Key[]) <span class="keyword">new</span> <span class="title class_">Comparable</span>[capacity + <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> N == <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Key x)</span> {</span><br><span class="line">        pq[++N] = x;</span><br><span class="line">        swim(N);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Key <span class="title function_">delMax</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">Key</span> <span class="variable">max</span> <span class="operator">=</span> pq[<span class="number">1</span>];</span><br><span class="line">        exch(<span class="number">1</span>, N--);</span><br><span class="line">        sink(<span class="number">1</span>);</span><br><span class="line">        pq[N + <span class="number">1</span>] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">(<span class="type">int</span> k)</span> {</span><br><span class="line">        <span class="keyword">while</span> (k &gt; <span class="number">1</span> &amp;&amp; less(k / <span class="number">2</span>, k))</span><br><span class="line">            exch(k, k / <span class="number">2</span>);</span><br><span class="line">        k = k / <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sink</span><span class="params">(<span class="type">int</span> k)</span> {</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * k &lt;= N) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span> * k;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; N &amp;&amp; less(j, j + <span class="number">1</span>))</span><br><span class="line">                j++;</span><br><span class="line">            <span class="keyword">if</span> (!less(k, j))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            exch(k, j);</span><br><span class="line">            k = j;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><table><thead><tr class="header"><th>实现</th><th>插入</th><th>删除最大值</th><th>查询最大值</th></tr></thead><tbody><tr class="odd"><td>无序数组</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td></tr><tr class="even"><td>有序数组</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td></tr><tr class="odd"><td>二叉堆</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td></tr><tr class="even"><td>d 叉堆</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.562ex" xmlns="http://www.w3.org/2000/svg" width="6.297ex" height="2.132ex" role="img" focusable="false" viewbox="0 -694 2783.4 942.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mi" transform="translate(1311,-241.4) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686 523 679 450 384T375 83 374 68Q374 26 402 26 411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487 491Q506 153 506 145 506 140 503 129 490 79 473 48T445 8 417-8Q409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400 369 394 369 396 370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(1728.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1895.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.562ex" xmlns="http://www.w3.org/2000/svg" width="7.851ex" height="2.132ex" role="img" focusable="false" viewbox="0 -694 3470 942.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686 523 679 450 384T375 83 374 68Q374 26 402 26 411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487 491Q506 153 506 145 506 140 503 129 490 79 473 48T445 8 417-8Q409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400 369 394 369 396 370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g><g data-mml-node="msub" transform="translate(686.7,0)"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mi" transform="translate(1311,-241.4) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686 523 679 450 384T375 83 374 68Q374 26 402 26 411 27 422 35 443 55 463 131 469 151 473 152 475 153 483 153H487 491Q506 153 506 145 506 140 503 129 490 79 473 48T445 8 417-8Q409-10 393-10 359-10 336 5T306 36L300 51Q299 52 296 50 294 48 292 46 233-10 172-10 117-10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400 369 394 369 396 370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405 242 405 210 374T160 293Q131 214 119 129 119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109 352 326Z"/></g></g><g data-mml-node="mo" transform="translate(2415.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2582,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td></tr><tr class="odd"><td>斐波那契堆</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td></tr><tr class="even"><td>不存在</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewbox="0 -666 500 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span></td></tr></tbody></table><p>不可变性的实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Vector</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> N; <span class="comment">// 不可被覆盖</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">double</span>[] data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vector</span><span class="params">(<span class="type">double</span>[] data)</span> {</span><br><span class="line">        <span class="built_in">this</span>.N = data.length;</span><br><span class="line">        <span class="built_in">this</span>.data = <span class="keyword">new</span> <span class="title class_">double</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            <span class="built_in">this</span>.data[i] = data[i];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="堆排序-heapsort">堆排序 heapsort</h2><p>原地算法的思想：</p><ul><li>用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个值创建大根堆：自底向上创建</li><li>重复移除最大值</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Heap</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Comparable[] pq)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> pq.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> N / <span class="number">2</span>; k &gt;= <span class="number">1</span>; k--)</span><br><span class="line">            sink(pq, k, N);</span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">1</span>) {</span><br><span class="line">            exch(pq, <span class="number">1</span>, N);</span><br><span class="line">            sink(pq, <span class="number">1</span>, --N);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>堆排序构造使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.312ex" xmlns="http://www.w3.org/2000/svg" width="5.529ex" height="1.857ex" role="img" focusable="false" viewbox="0 -683 2443.8 821"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(1555.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的比较和交换，总共使用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="10.052ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 4443.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(1555.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(2610.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(3388.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3555.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的比较和交换</p><p>优点：最坏情况下<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.664ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3387.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>的原地排序算法</p><p>缺点：</p><ul><li>不稳定</li><li>内部排序比快速排序多</li><li>对缓存的利用低（不是访问连续的缓存）</li></ul><h1 id="基本符号表-elementary-symbol-tables">基本符号表 Elementary Symbol Tables</h1><h2 id="符号表-api-symbol-table-api">符号表 API Symbol table API</h2><p>键值对的抽象：</p><ul><li>用特定的 key 插入值</li><li>用 key 查询相关的值</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ST</span>&lt;Key, Value&gt; {</span><br><span class="line">    ST()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(Key key, Value val)</span></span><br><span class="line"></span><br><span class="line">    Value <span class="title function_">get</span><span class="params">(Key key)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">detele</span><span class="params">(Key key)</span></span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Key key)</span></span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line"></span><br><span class="line">    Iterable&lt;Key&gt; <span class="title function_">keys</span><span class="params">()</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>惯例：</p><ul><li>值不能为<code>null</code></li><li>如果<code>key</code>不存在，<code>get()</code>返回<code>null</code></li><li><code>put()</code>用新值替换旧值</li></ul><h2 id="基础的实现-elementary-implementation">基础的实现 elementary implementation</h2><p>链表序列查找：</p><ul><li>维持键值对的无序列表</li><li>查找：搜索整个链表直到找到匹配</li><li>插入：搜索整个链表直到找到匹配；若没有，则加到首端</li></ul><p>在有序数组中使用二分查找：维持键值对的有序数组</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Binary</span>&lt;Key, Value&gt; {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Key[] keys;</span><br><span class="line">    <span class="keyword">private</span> Value[] vals;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">rank</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = N - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt;= hi) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(keys[mid]);</span><br><span class="line">            <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                hi = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                lo = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Value <span class="title function_">get</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="keyword">if</span> (isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> rank(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; N &amp;&amp; keys[i].compareTo(key) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> vals[i];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>但问题在于插入时需要移动所有较大的键</p><h2 id="有序的操作-ordered-operations">有序的操作 ordered operations</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ST</span>&lt;Key <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;Key&gt;, Value&gt; {</span><br><span class="line"></span><br><span class="line">    Key <span class="title function_">min</span><span class="params">()</span>; <span class="comment">// 最大值</span></span><br><span class="line"></span><br><span class="line">    Key <span class="title function_">max</span><span class="params">()</span>;<span class="comment">// 最小值</span></span><br><span class="line"></span><br><span class="line">    Key <span class="title function_">floor</span><span class="params">(Key key)</span>; <span class="comment">// &lt;=key的最大值</span></span><br><span class="line"></span><br><span class="line">    Key <span class="title function_">ceiling</span><span class="params">(Key key)</span>;<span class="comment">// &gt;=key的最小值</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">rank</span><span class="params">(Key key)</span>; <span class="comment">// 比key小的个数</span></span><br><span class="line"></span><br><span class="line">    Key <span class="title function_">seleck</span><span class="params">(<span class="type">int</span> k)</span>; <span class="comment">// rank k 的数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deteleMin</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deteleMax</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">size</span><span class="params">(Key lo, Key hi)</span>; <span class="comment">// [lo,hi]中key的个数</span></span><br><span class="line"></span><br><span class="line">    Iterable&lt;Key&gt; <span class="title function_">keys</span><span class="params">(Key lo, Key hi)</span>; <span class="comment">// 有序迭代[lo,hi]的值</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="二叉查找树-binary-search-tree">二叉查找树 Binary search tree</h2><p>BST 是对称有序的二叉树</p><p>对称有序：每个结点的键：</p><ul><li>比左子树的所有键大</li><li>比右子树的所有键小</li></ul><p>在 Java 中，BST 是对根结点的引用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BST</span>&lt;Key <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;Key&gt;, Value&gt; {</span><br><span class="line">    <span class="keyword">private</span> Node root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        Key key;</span><br><span class="line">        Value val;</span><br><span class="line">        Node left, right;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Key key, Value val)</span> {</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Value <span class="title function_">get</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (x != <span class="literal">null</span>) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">            <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                x = x.left;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                x = x.right;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> x.val;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(Key key, Value val)</span> {</span><br><span class="line">        root = put(root, key, val);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">put</span><span class="params">(Node x, Key key, Value val)</span> {</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(key, val);</span><br><span class="line">        <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            x.left = put(x.left, key, val);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            x.right = put(x.right, key, val);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            x.val = val;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>插入/查找的效率取决于结点的深度+1，树的形状依赖于插入顺序</p><p>和快速排序的分割类似，若插入 BST 的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个不同键是随机的，每次比较次数的期望是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="8.17ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 3611.1 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(1722.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2556.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2723.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>，树高<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.05ex" xmlns="http://www.w3.org/2000/svg" width="12.193ex" height="1.62ex" role="img" focusable="false" viewbox="0 -694 5389.1 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="34" d="M462 0Q444 3 333 3 217 3 199 0H190V46H221Q241 46 248 46T265 48 279 53 286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675 336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212 183 211H293Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(778,0)"/><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z" transform="translate(1278,0)"/><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z" transform="translate(1778,0)"/></g><g data-mml-node="mi" transform="translate(3500.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(4334.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(4501.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><p><em>但最坏情况下是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></em></p><h2 id="bst-中的删除-deletion-in-bst">BST 中的删除 deletion in BST</h2><p>懒人法：直接将该结点的值置为<code>null</code>，在搜索时忽略相等的情况，但缺点是内存利用率过低</p><p><strong>Hibbard 删除</strong>法：</p><ul><li>没有子结点：将该结点父结点的连接设为<code>null</code></li><li>一个子结点：父结点连向子结点</li><li>两个子结点：<ul><li>找到后继<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g></g></g></svg></mjx-container></span></li><li>用<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g></g></g></svg></mjx-container></span>替换原来的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewbox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g></g></g></svg></mjx-container></span>，并删除<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442 467 442 494 420T522 361Q522 332 508 314T481 292 458 288Q439 288 427 299T415 328Q415 374 465 391 454 404 425 404 412 404 406 402 368 386 350 336 290 115 290 78 290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145 504 144 502 134 486 77 440 33T333-11Q263-11 227 52 186-10 133-10H127Q78-10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101 142 81 130 66T107 46 94 41L91 40Q91 39 97 36T113 29 132 26Q168 26 194 71 203 87 217 139T245 247 261 313Q266 340 266 352 266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g></g></g></svg></mjx-container></span>（<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewbox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395 19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566 179 586 187 603 197 615 211 624 229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420 330 398 317 385H210L174 240Q135 80 135 68 135 26 162 26 197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145 322 142 319 133 314 117 301 95T267 48 216 6 155-11Q125-11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383 128 385 77 385H26Z"/></g></g></g></svg></mjx-container></span>的右子树中的最小值）</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BST</span>&lt;Key <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;Key&gt;, Value&gt; {</span><br><span class="line">    <span class="keyword">private</span> Node root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        Key key;</span><br><span class="line">        Value val;</span><br><span class="line">        Node left, right;</span><br><span class="line">        <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Key key, Value val)</span> {</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.count = <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Key key)</span> {</span><br><span class="line">        root = delete(root, key);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">(Node x)</span> {</span><br><span class="line">        <span class="keyword">return</span> x.count;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deteleMin</span><span class="params">()</span> {</span><br><span class="line">        root = deleteMin(root);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">deleteMin</span><span class="params">(Node x)</span> {</span><br><span class="line">        <span class="keyword">if</span> (x.left == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> x.right;</span><br><span class="line">        x.left = deleteMin(x.left);</span><br><span class="line">        x.count = <span class="number">1</span> + size(x.left) + size(x.right);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">min</span><span class="params">(Node x)</span> {</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (x.left != <span class="literal">null</span>)</span><br><span class="line">            x = x.left;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">delete</span><span class="params">(Node x, Key key)</span> {</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            x.left = delete(x.left, key);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            x.right = delete(x.right, key);</span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (x.right == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> x.left;</span><br><span class="line">            <span class="keyword">if</span> (x.left == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> x.right;</span><br><span class="line"></span><br><span class="line">            <span class="type">Node</span> <span class="variable">t</span> <span class="operator">=</span> x;</span><br><span class="line">            x = min(t.right);</span><br><span class="line">            x.right = deleteMin(t.right);</span><br><span class="line">            x.left = t.left;</span><br><span class="line">        }</span><br><span class="line">        x.count = size(x.left) + size(x.right) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>问题在于：删除不对称——树不再是随机的 → 每次操作<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.639ex" xmlns="http://www.w3.org/2000/svg" width="6.077ex" height="2.851ex" role="img" focusable="false" viewbox="0 -977.5 2686 1260"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(1020,0)"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g></g><g data-mml-node="mo" transform="translate(0,67.5)"><path data-c="221A" d="M263 249Q264 249 315 130T417-108 470-228L725 302Q981 837 982 839 989 850 1001 850 1008 850 1013 844T1020 832V826L741 243Q645 43 540-176 479-303 469-324T453-348Q449-350 436-350L424-349 315-96Q206 156 205 156L171 130Q138 104 137 104L111 130 263 249Z"/></g><rect width="389" height="60" x="1020" y="857.5"/></g><g data-mml-node="mi" transform="translate(1409,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(2297,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><h1 id="平衡二叉搜索树-balanced-search-tree">平衡二叉搜索树 Balanced search tree</h1><h2 id="搜索树-2-3-search-tree">2-3 搜索树 2-3 Search tree</h2><p>2-node：一个键，两个子结点 3-node：两个键，三个子结点（中间的子结点键的大小在两个键中间）</p><p><strong>完美平衡 perfect balance</strong>：每条由根结点到<code>null</code>的链长度相同</p><p>对称顺序：中序遍历升序</p><p>插入：</p><ul><li>插入到 2-node：替换为 3-node</li><li>插入到 3-node：<ul><li>替换为临时的 4-node</li><li>将中间的 key 移动父结点中</li><li>重复此操作</li><li>根结点的 4-node 分裂为 3 个 2-node（只有此时树高度+1）</li></ul></li></ul><p>4-node 的分裂是局部的——常数级操作</p><p>不变量：每一个变换都维持了对称顺序和完美平衡</p><p>树高：</p><ul><li>最坏情况：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="4.273ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 1888.7 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(834,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1000.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>（都是 2-nodes）</li><li>最好情况：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.581ex" xmlns="http://www.w3.org/2000/svg" width="15.569ex" height="2.151ex" role="img" focusable="false" viewbox="0 -694 6881.4 950.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mn" transform="translate(1311,-241.4) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g></g><g data-mml-node="mo" transform="translate(1992.3,0)"><path data-c="2248" d="M55 319Q55 360 72 393T114 444 163 472 205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346 609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452 722 386 675 338T555 289Q514 289 468 310T388 357 308 404 224 426Q164 426 125 393T83 318Q81 289 69 289 55 289 55 319ZM55 85Q55 126 72 159T114 210 163 238 205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112 609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123 308 170 224 192Q164 192 125 159T83 84Q80 55 69 55 55 55 55 85Z"/></g><g data-mml-node="mn" transform="translate(3048.1,0)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601 351 623 311 626 240 626 194 566 147 500 147 364L148 360Q153 366 156 373 197 433 263 433H267Q313 433 348 414 372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149 440 90 387 34T253-22Q225-22 199-14T143 16 92 75 56 172 42 313ZM257 397Q227 397 205 380T171 335 154 278 148 216Q148 133 160 97T198 39Q222 21 251 21 302 21 329 59 342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(778,0)"/><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(4992.8,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(5826.8,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(5993.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>（都是 3-nodes）</li></ul><p>但是直接实现起来太困难，红黑树是一种简单的实现方法</p><h2 id="红黑树-red-black-bst">红黑树 red-black BST</h2><p>左倾红黑树：使用“内部”的左倾连接代替 3-node</p><ul><li>一个结点最多只有一个红链</li><li>每条从根结点到<code>null</code>的链有相同数量的黑点(完美平衡)</li><li>红链左倾</li></ul><p>搜索和普通 BST 相同</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedBlack</span>&lt;Key <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;Key&gt;, Value&gt; {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">RED</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">BLACK</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    Node root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        Key key;</span><br><span class="line">        Value val;</span><br><span class="line">        Node left, right;</span><br><span class="line">        <span class="type">boolean</span> color;</span><br><span class="line"></span><br><span class="line">        Node(Key key, Value val, <span class="type">boolean</span> color) {</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.color = color;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isRed</span><span class="params">(Node x)</span> {</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> x.color == RED;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Value <span class="title function_">get</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (x != <span class="literal">null</span>) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">            <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                x = x.left;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                x = x.right;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> x.val;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(Key key, Value val)</span> {</span><br><span class="line">        root = put(root, key, val);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">put</span><span class="params">(Node h, Key key, Value val)</span> {</span><br><span class="line">        <span class="keyword">if</span> (h == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(key, val, RED);</span><br><span class="line">        <span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(h.key);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            h.left = put(h.left, key, val);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">            h.right = put(h.right, key, val);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            h.val = val;</span><br><span class="line">        <span class="comment">// 简化后的三种情况</span></span><br><span class="line">        <span class="keyword">if</span> (isRed(h.right) &amp;&amp; !isRed(h.left))</span><br><span class="line">            h = rotateLeft(h); <span class="comment">// 右倾改左倾</span></span><br><span class="line">        <span class="keyword">if</span> (isRed(h.left) &amp;&amp; isRed(h.left.left))</span><br><span class="line">            h = rotateRight(h); <span class="comment">// 连续两个红点的一条链（平衡4-node）</span></span><br><span class="line">        <span class="keyword">if</span> (isRed(h.left) &amp;&amp; isRed(h.right))</span><br><span class="line">            flipColors(h); <span class="comment">// 分裂4-node</span></span><br><span class="line">        <span class="keyword">return</span> h;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将右倾旋转为左倾</span></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">rotateLeft</span><span class="params">(Node h)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> h.right;</span><br><span class="line">        h.right = x.left;</span><br><span class="line">        x.left = h;</span><br><span class="line">        x.color = h.color;</span><br><span class="line">        h.color = RED;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">rotateRight</span><span class="params">(Node h)</span> {</span><br><span class="line">        <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> h.left;</span><br><span class="line">        h.left = x.right;</span><br><span class="line">        x.right = h;</span><br><span class="line">        x.color = h.color;</span><br><span class="line">        h.color = RED;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4-node 的分裂</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">flipColors</span><span class="params">(Node h)</span> {</span><br><span class="line">        h.color = RED;</span><br><span class="line">        h.left.color = BLACK;</span><br><span class="line">        h.right.color = BLACK;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>最坏情况下树高<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="7.392ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3267.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2264" d="M674 636Q682 636 688 630T694 615 687 601Q686 600 417 472L151 346 399 228Q687 92 691 87 694 81 694 76 694 58 676 56H670L382 192Q92 329 90 331 83 336 83 348 84 359 96 365 104 369 382 500T665 634Q669 636 674 636ZM84-118Q84-108 99-98H678Q694-104 694-118 694-130 679-138H98Q84-131 84-118Z"/></g><g data-mml-node="mn" transform="translate(1055.8,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(1722.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2500.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2667.1,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341 56 388 89 425 135 442Q171 442 195 424T225 390 231 369Q231 367 232 367L243 378Q304 442 382 442 436 442 469 415T503 336 465 179 427 52Q427 26 444 26 450 26 453 27 482 32 505 65T540 145Q542 153 560 153 580 153 580 145 580 144 576 130 568 101 554 73T508 17 439-10Q392-10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291 189 157Q156 26 151 16 138-11 108-11 95-11 87-5T76 7 74 17Q74 30 112 180T152 343Q153 348 153 366 153 405 129 405 91 405 66 305 60 285 60 284 58 278 41 278H27Q21 284 21 287Z"/></g></g></g></svg></mjx-container></span>，因为最坏是红点和黑点轮流出现</p><table style="width:100%"><colgroup><col style="width:16%"><col style="width:12%"><col style="width:12%"><col style="width:12%"><col style="width:9%"><col style="width:9%"><col style="width:9%"><col style="width:6%"><col style="width:10%"></colgroup><thead><tr class="header"><th>实现</th><th>查找（最坏情况）</th><th>插入（最坏情况）</th><th>删除（最坏情况）</th><th>查找（平均）</th><th>插入（平均）</th><th>删除（平均）</th><th>顺序迭代</th><th>key 的接口</th></tr></thead><tbody><tr class="odd"><td>序列查找（无序列表）</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.271ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1888 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(888,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1388,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.271ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1888 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(888,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1388,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewbox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g></g></g></svg></mjx-container></span></td><td><code>equals()</code></td></tr><tr class="even"><td>二分查找（有序列表）</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.271ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1888 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(888,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1388,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.271ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 1888 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(888,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1388,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><code>compareTo()</code></td></tr><tr class="odd"><td>BST</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(778,0)"/><path data-c="39" d="M352 287Q304 211 232 211 154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606 171 666 243 666 245 666 249 666T257 665H261Q273 665 286 663T323 651 370 619 413 560Q456 472 456 334 456 194 396 97 361 41 312 10T208-22Q147-22 108 7T68 93 121 149Q143 149 158 135T173 96Q173 78 164 65T148 49 135 44L131 43Q131 41 138 37T164 27 206 22H212Q272 22 313 86 352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542 341 552 337 562T323 588 293 615 246 625Q208 625 181 598 160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(1944.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z" transform="translate(778,0)"/><path data-c="39" d="M352 287Q304 211 232 211 154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606 171 666 243 666 245 666 249 666T257 665H261Q273 665 286 663T323 651 370 619 413 560Q456 472 456 334 456 194 396 97 361 41 312 10T208-22Q147-22 108 7T68 93 121 149Q143 149 158 135T173 96Q173 78 164 65T148 49 135 44L131 43Q131 41 138 37T164 27 206 22H212Q272 22 313 86 352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542 341 552 337 562T323 588 293 615 246 625Q208 625 181 598 160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(1944.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="1.068ex" height="1.595ex" role="img" focusable="false" viewbox="0 -705 472 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3F" d="M226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616 145 607 157 591 162 567Q162 544 147 529T109 514 71 528 55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656 407 612 416 567Q416 503 361 462 267 395 247 303 242 279 242 241V224Q242 205 239 202T222 198 205 201 202 218V249Q204 320 220 371T255 445 292 491 315 537Q317 546 317 574V587Q317 604 315 615T304 640 277 661 226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><code>compareTo()</code></td></tr><tr class="even"><td>2-3 树</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.503ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2432.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325 330 359 352 380 366 386H367Q367 388 361 392T340 400 306 404Q276 404 249 390 228 381 206 359 162 315 142 235T121 119Q121 73 147 50 169 26 205 26H209Q321 26 394 111 403 121 406 121 410 121 419 112T429 98 420 83 391 55 346 25 282 0 202-11Q127-11 81 37T34 159Z"/></g><g data-mml-node="mi" transform="translate(599.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1377.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1544.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><code>compareTo()</code></td></tr><tr class="odd"><td>红黑树</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.655ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2499.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(666.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1444.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1611.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.655ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2499.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(666.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1444.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1611.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.655ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2499.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mi" transform="translate(666.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(1444.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1611.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(1944.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(1944.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0 96 17 78 60Z" transform="translate(500,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(778,0)"/><path data-c="30" d="M96 585Q152 666 249 666 297 666 345 640T423 548Q460 465 460 320 460 165 417 83 397 41 362 16T301-15 250-22Q224-22 198-16T137 16 82 83Q39 165 39 320 39 494 96 585ZM321 597Q291 629 250 629 208 629 178 597 153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16 290 16 318 46 347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1278,0)"/></g><g data-mml-node="mi" transform="translate(1944.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.077ex" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.674ex" role="img" focusable="false" viewbox="0 -706 833 740"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2713" d="M84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129 271 141 279 163T318 250 389 378 502 523 662 673Q702 706 732 706H734Q749 706 749 695 749 682 730 666T660 607 559 505Q387 299 328 29 324 0 295-17T245-34H241Q234-34 225-21T185 46Q166 79 154 101 84 223 84 231Z"/></g></g></g></g></svg></mjx-container></span></td><td><code>compareTo()</code></td></tr><tr class="even"><td>分离链接法</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewbox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g></g></g></svg></mjx-container></span></td><td><code>equals()</code></td></tr><tr class="odd"><td>线性探查法</td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="4.146ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 1832.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(944.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="5.028ex" height="1.692ex" role="img" focusable="false" viewbox="0 -666 2222.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span></td><td><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:.02ex" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.09ex" role="img" focusable="false" viewbox="0 -491 778 482"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g></g></g></svg></mjx-container></span></td><td><code>equals()</code></td></tr></tbody></table><h2 id="b-树-b-tree">B 树 B-tree</h2><p>B 树：泛化的 2-3 树，每个结点最多有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="6.275ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 2773.4 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(1273.2,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(2273.4,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>个链</p><ul><li>根结点最少 2 链</li><li>其它结点最少<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="4.64ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 2051 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1051,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1551,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></svg></mjx-container></span>链</li><li>外部结点保存客户的键</li><li>内部结点存键的复制来指导搜索</li></ul><p>插入：</p><ul><li>搜索新的键</li><li>在底部插入</li><li>在返回根结点时分裂有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>个链的结点</li></ul><p><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>和<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>个结点的 B 树需要<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.946ex" xmlns="http://www.w3.org/2000/svg" width="20.955ex" height="2.516ex" role="img" focusable="false" viewbox="0 -694 9262 1112.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="TeXAtom" transform="translate(1311,-241.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(1051,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(1829,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g><g data-mml-node="mo" transform="translate(3007.9,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3174.5,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(4340.3,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="msub" transform="translate(5396.1,0)"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="TeXAtom" transform="translate(1311,-241.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1051,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1551,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g><g data-mml-node="mo" transform="translate(8207.3,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(8374,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>查找，因为每个内部结点都有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="13.932ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 6158 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1051,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(1551,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><g data-mml-node="mo" transform="translate(2328.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(3384.6,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(4657.8,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(5658,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></svg></mjx-container></span>条链</p><p>红黑树的应用：</p><ul><li>Java：<code>TreeMap</code>、<code>TreeSet</code></li><li>C++STL:<code>map</code>、<code>multimap</code>、<code>multiset</code></li></ul><p>B 树：Windows 的 NTFS</p><h1 id="bst-几何学的应用-geometric-applications-of-bsts">BST 几何学的应用 Geometric applications of BSTs</h1><h2 id="一维范围搜索-1d-range-search">一维范围搜索 1d range search</h2><p>区间查找：查找所有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="2.166ex" height="1.91ex" role="img" focusable="false" viewbox="0 -694 957.6 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mn" transform="translate(554,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></g></svg></mjx-container></span>到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="2.166ex" height="1.91ex" role="img" focusable="false" viewbox="0 -694 957.6 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mn" transform="translate(554,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>之间的键 区间计数：所有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="2.166ex" height="1.91ex" role="img" focusable="false" viewbox="0 -694 957.6 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mn" transform="translate(554,-150) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g></g></g></g></svg></mjx-container></span>到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="2.166ex" height="1.91ex" role="img" focusable="false" viewbox="0 -694 957.6 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686 294 679 244 477 194 279 194 272 213 282 223 291 247 309 292 354T362 415Q402 442 438 442 468 442 485 423T503 369Q503 344 496 327T477 302 456 291 438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316 228 255Q230 254 243 252T267 246 293 238 320 224 342 206 359 180 365 147Q365 130 360 106T354 66Q354 26 381 26 429 26 459 145 461 153 479 153H483Q499 153 499 144 499 139 496 130 455-11 378-11 333-11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206 200 217 182 220H180Q168 178 159 139T145 81 136 44 129 20 122 7 111-2Q98-11 83-11 66-11 57-1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640 121 647Z"/></g><g data-mml-node="mn" transform="translate(554,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span>之间的键总数</p><p>几何解释：</p><ul><li>键是排列在一条线上的所有点</li><li>在一维区间查找/计数点</li></ul><p>插入：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>，范围计数：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>，范围搜索：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="9.76ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 4314.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g><g data-mml-node="mo" transform="translate(981.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(1981.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(3259.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3426.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>（<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.048ex" xmlns="http://www.w3.org/2000/svg" width="1.717ex" height="1.593ex" role="img" focusable="false" viewbox="0 -683 759 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g></g></g></svg></mjx-container></span>为匹配的键数量）</p><h2 id="线段相交-line-segment-intersection">线段相交 Line segment intersection</h2><p>给<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span>条水平、竖直的线段，查找所有相交的</p><p>扫描线算法：竖直线从左到右扫描：</p><ul><li>按 x 坐标排序</li><li>碰到水平线段的左端点：向 BST 中插入 y 坐标</li><li>碰到水平线段的右端点：向 BST 中删除 y 坐标</li><li>碰到竖直线段：范围查找 y 端点</li></ul><p>本质上将二维正交线段相交转化为一维范围搜索，时间复杂度为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="12.147ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 5368.8 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(3609.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(4609.8,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g></g></g></svg></mjx-container></span></p><h2 id="k-维树-kd-tree">k 维树 kd-tree</h2><p>二维正交范围搜索：</p><ul><li>插入二维键</li><li>删除二维键</li><li>查找二维键</li><li>范围查找</li><li>范围计数</li></ul><p>几何解释：</p><ul><li>键是平面上的点</li><li>查找/计数给定的梯形的点</li></ul><p>方格实现</p><ul><li>把空间分成<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="6.516ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 2880 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mi" transform="translate(1051,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="mi" transform="translate(1829,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>的方格</li><li>在每个方格里创建点的列表</li><li>使用二维数组索引相关方格</li></ul><p>时间-空间的权衡：</p><ul><li>时间：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="8.263ex" height="2.072ex" role="img" focusable="false" viewbox="0 -833.9 3652 915.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mn" transform="translate(1138,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mo" transform="translate(1763.8,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(2764,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></li><li>空间：平均每个方格<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="10.525ex" height="2.452ex" role="img" focusable="false" viewbox="0 -833.9 4652 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(1722.4,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2610.4,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="msup" transform="translate(3110.4,0)"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mn" transform="translate(1138,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span></li><li>最好的选择：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.206ex" xmlns="http://www.w3.org/2000/svg" width="9.638ex" height="2.398ex" role="img" focusable="false" viewbox="0 -969 4260 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(0,109)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200 103 230 169 280 207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397-77Q398-77 501 136T707 565 814 786Q820 800 834 800 841 800 846 794T853 782V776L620 293 385-193Q381-200 366-200 357-200 354-197 352-195 256 15L160 225 144 214Q129 202 113 190T95 178Z"/></g><rect width="888" height="60" x="853" y="849"/></g><g data-mml-node="mi" transform="translate(1741,0)"><path data-c="D7" d="M630 29Q630 9 609 9 604 9 587 25T493 118L389 222 284 117Q178 13 175 11 171 9 168 9 160 9 154 15T147 29Q147 36 161 51T255 146L359 250 255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489 178 487 284 383L389 278 493 382Q570 459 587 475T609 491Q630 491 630 471 630 464 620 453T522 355L418 250 522 145Q606 61 618 48T630 29Z"/></g><g data-mml-node="msqrt" transform="translate(2519,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(0,109)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200 103 230 169 280 207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397-77Q398-77 501 136T707 565 814 786Q820 800 834 800 841 800 846 794T853 782V776L620 293 385-193Q381-200 366-200 357-200 354-197 352-195 256 15L160 225 144 214Q129 202 113 190T95 178Z"/></g><rect width="888" height="60" x="853" y="849"/></g></g></g></svg></mjx-container></span>的方格</li></ul><p>团簇现象：大量点都集中在一起</p><p>使用<strong>树</strong>来递归划分二维空间</p><p>数据结构：BST，但是插入<strong>点</strong>时交替使用 x 和 y 坐标来作为键</p><p>查找矩形中的所有点：</p><ul><li>检查点是否在给定矩形内</li><li>递归查找左边/下面（如果有可能落在矩形内）</li><li>递归查找右边/上面（如果有可能落在矩形内）</li></ul><p>一般情况：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="9.76ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 4314.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g><g data-mml-node="mo" transform="translate(981.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(1981.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(3259.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3426.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span><br>最坏情况（即使树是平衡的）：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.206ex" xmlns="http://www.w3.org/2000/svg" width="8.422ex" height="2.398ex" role="img" focusable="false" viewbox="0 -969 3722.4 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g><g data-mml-node="mo" transform="translate(981.2,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="msqrt" transform="translate(1981.4,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g><g data-mml-node="mo" transform="translate(0,109)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200 103 230 169 280 207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397-77Q398-77 501 136T707 565 814 786Q820 800 834 800 841 800 846 794T853 782V776L620 293 385-193Q381-200 366-200 357-200 354-197 352-195 256 15L160 225 144 214Q129 202 113 190T95 178Z"/></g><rect width="888" height="60" x="853" y="849"/></g></g></g></svg></mjx-container></span></p><p>查找最近邻居：</p><ul><li>检查结点中的点到询问的点的距离</li><li>递归查找左边/下面（如果有可能有更近的点）</li><li>递归查找右边/上面（如果有可能有更近的点）</li></ul><p>一般情况：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="5.278ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 2332.7 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span><br>最坏情况（即使树是平衡的）：<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><p>kd 树：递归把 k 维空间划分成两片空间</p><h2 id="区间搜索树-interval-search-tree">区间搜索树 Interval search tree</h2><p>一维区间搜索：</p><ul><li>插入区间<code>(lo,hi)</code></li><li>搜索区间<code>(lo,hi)</code></li><li>删除区间<code>(lo,hi)</code></li><li>区间相交查询：给定一个区间<code>(lo,hi)</code>，在数据结构中找到所有（或一个）与<code>(lo,hi)</code>相交的区间</li></ul><p>BST 的每一个结点储存区间<code>(lo,hi)</code></p><ul><li>用左端点作键</li><li>在每个结点储存子树中最大的右端点</li></ul><p>查找是否有与给定区间<code>(lo,hi)</code>相交的区间：</p><ul><li>如果结点处区间与询问的区间相交，返回该区间</li><li>如果没有左子树，查找右子树</li><li>如果左子树最大的右端点小于<code>lo</code>，查找右子树</li><li>否则查找左子树</li></ul><h2 id="矩形相交-rectangle-intersection">矩形相交 Rectangle intersection</h2><p>找到所有正交矩阵的相交</p><p>如果没有线性算法，摩尔定律无法生效</p><p>扫描线算法：</p><ul><li>x 坐标决定事件</li><li>左端点：使用 y 坐标插入区间搜索树</li><li>右端点：移除 y 区间</li></ul><p>本质上将二维正交矩形相交转化为一维区间搜索，时间复杂度为<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="17.801ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 7868.1 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mi" transform="translate(1054.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2332.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2499.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(3609.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(4609.8,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682 206 683 378 683 550 682 564 680 620 672 658 652T712 606 733 563 739 529Q739 484 710 445T643 385 576 351 538 338L545 333Q612 295 612 223 612 212 607 162T602 80V71Q602 53 603 43T614 25 640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93 755 75 731 36 693-21 641-21H632Q571-21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313 459 320 449 321T378 323H309L277 193Q244 61 244 59 244 55 245 54T252 50 269 48 302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2 146 2 117 2T71 2 50 1Q33 1 33 10 33 12 36 24 41 43 46 45 50 46 61 46H67Q94 46 127 49 141 52 146 61 149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627 385 624 352 494T319 361Q319 360 388 360 466 361 492 367 556 377 592 426 608 449 619 486T630 554Z"/></g><g data-mml-node="mi" transform="translate(5535.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(6813.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(6980.1,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></p><h1 id="哈希表-hash-table">哈希表 Hash table</h1><h2 id="哈希表-hash-table-1">哈希表 Hash table</h2><p>把物品储存在以键为索引的表中</p><p>哈希函数：计算键的索引的方法</p><p>所有 Java 的类都有一个方法<code>hashCode()</code>，返回一个 32 位的<code>int</code></p><p>需求：如果<code>x.equals(y)</code>，那么<code>x.hashCode() == y.hashCode()</code></p><p>最好：如果<code>!x.equals(y)</code>，那么<code>x.hashCode() != y.hashCode()</code></p><p>默认实现：<code>x</code>的内存</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">String</span> {</span><br><span class="line">    <span class="comment">// 因为String不可变，所以可以将hash值记录下来，减少计算次数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">char</span>[] s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> hash;</span><br><span class="line">        <span class="keyword">if</span> (h != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> h;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length; i++)</span><br><span class="line">            h = s[i] + (h * <span class="number">31</span>);</span><br><span class="line">        hash = h;</span><br><span class="line">        <span class="keyword">return</span> h;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>哈希取模：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Key key)</span> {</span><br><span class="line">    <span class="keyword">return</span> (key.hashCode() &amp; <span class="number">0x7fffffff</span>) % M; <span class="comment">// M 通常为质数或2的整数次幂</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><strong>生日问题</strong>：在<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.639ex" xmlns="http://www.w3.org/2000/svg" width="10.626ex" height="2.851ex" role="img" focusable="false" viewbox="0 -977.5 4696.8 1260"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="msqrt" transform="translate(1055.8,0)"><g transform="translate(1020,0)"><g data-mml-node="mi"><path data-c="1D70B" d="M132-11Q98-11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297 53 285Q51 284 38 284 19 284 19 294 19 300 38 329T93 391 164 429Q171 431 389 431 549 431 553 430 573 423 573 402 573 371 541 360 535 358 472 358H408L405 341Q393 269 393 222 393 170 402 129T421 65 431 37Q431 20 417 5T381-10Q370-10 363-7T347 17 331 77Q330 86 330 121 330 170 339 226T357 318 367 358H269L268 354Q268 351 249 275T206 114 175 17Q164-11 132-11Z"/></g><g data-mml-node="mi" transform="translate(570,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1621,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(2121,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g><g data-mml-node="mo" transform="translate(0,67.5)"><path data-c="221A" d="M263 249Q264 249 315 130T417-108 470-228L725 302Q981 837 982 839 989 850 1001 850 1008 850 1013 844T1020 832V826L741 243Q645 43 540-176 479-303 469-324T453-348Q449-350 436-350L424-349 315-96Q206 156 205 156L171 130Q138 104 137 104L111 130 263 249Z"/></g><rect width="2621" height="60" x="1020" y="857.5"/></g></g></g></svg></mjx-container></span>后两个球放在同一个仓里</p><p><strong>赠券收集问题 Coupon Collector's Problem</strong>：在<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="9.785ex" height="1.57ex" role="img" focusable="false" viewbox="0 -694 4325.1 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mi" transform="translate(2273.4,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122 103 161 103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441 178 442H181V402Q181 364 182 364T187 369 199 384 218 402 247 421 285 437Q305 442 336 442 450 438 463 329 464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62 380 64 380 200 379 335 378 343 372 371 358 385T334 402 308 404Q263 404 229 370 202 343 195 315T187 232V168 108Q187 78 188 68T191 55 200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(278,0)"/></g><g data-mml-node="mo" transform="translate(3107.4,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(3274.1,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>后期望每个仓至少有一个球</p><p><strong>负载均衡 Load Balance</strong>：在<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>次后，最多的仓有<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="19.556ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 8643.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6E9" d="M740 435Q740 320 676 213T511 42 304-22Q207-22 138 35T51 201Q50 209 50 244 50 346 98 438T227 601Q351 704 476 704 514 704 524 703 621 689 680 617T740 435ZM640 466Q640 523 625 565T583 628 532 658 479 668Q370 668 273 559T151 255Q150 245 150 213 150 156 165 116T207 55 259 26 313 17Q385 17 451 63T561 184Q590 234 615 312T640 466ZM510 276Q510 278 512 288L515 298Q515 299 384 299H253L250 285Q246 271 244 268T231 265H227Q216 265 214 266T207 274Q207 278 223 345T244 416Q247 419 260 419H263Q280 419 280 408 280 406 278 396L275 386Q275 385 406 385H537L540 399Q544 413 546 416T559 419H563Q574 419 576 418T583 410Q583 403 566 339 549 271 544 267 542 265 538 265H530 527Q510 265 510 276Z"/></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3647.7,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mi" transform="translate(4314.3,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(5592.3,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(5759,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(7037,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(7203.7,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(8254.7,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>个球</p><h2 id="分离链接法-separate-chaining">分离链接法 Separate Chaining</h2><p>冲突：两个不同的键有相同的索引</p><ul><li>插入：在第 i 个链之前插入</li><li>查找：只需要搜索第 i 个链</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SeparateChainingHashST</span>&lt;Key, Value&gt; {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> <span class="number">97</span>;</span><br><span class="line">    <span class="keyword">private</span> Node[] st = <span class="keyword">new</span> <span class="title class_">Node</span>[M];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> {</span><br><span class="line">        Object key;</span><br><span class="line">        Object val;</span><br><span class="line">        Node next;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Value <span class="title function_">get</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> st[i]; x != <span class="literal">null</span>; x = x.next)</span><br><span class="line">            <span class="keyword">if</span> (key.equals(x.key))</span><br><span class="line">                <span class="keyword">return</span> (Value) x.val;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>查找消耗<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="7.907ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 3494.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1943.8,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mi" transform="translate(2443.8,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span></p><ul><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>太大，空链太多</li><li><span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="2.378ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1051 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>太小，链太长</li><li>通常选择<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.566ex" xmlns="http://www.w3.org/2000/svg" width="9.666ex" height="2.262ex" role="img" focusable="false" viewbox="0 -750 4272.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="mo" transform="translate(1328.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(2384.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3272.6,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(3772.6,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22 294 22 326 82 345 115 345 210 345 313 318 349 292 382 260 382H254Q176 382 136 314 132 307 129 306T114 304Q97 304 95 310 93 314 93 485V614Q93 664 98 664 100 666 102 666 103 666 123 658T178 642 253 634Q324 634 389 662 397 666 402 666 410 666 410 648V635Q328 538 205 538 174 538 149 544L139 546V374Q158 388 169 396T205 412 256 420Q337 420 393 355T449 201Q449 109 385 44T229-22Q148-22 99 32T50 154Q50 178 61 192T84 210 107 214Q132 214 148 197T164 157Z"/></g></g></g></svg></mjx-container></span>，操作为常数时间</li></ul><h2 id="线性探查法-linear-probing">线性探查法 linear probing</h2><p>也称<strong>开放地址法</strong>：</p><ul><li>插入：若<code>i</code>有空，就插入；否则尝试<code>i+1</code>、<code>i+2</code>等</li><li>搜索：查找索引<code>i</code>，如果被占但不匹配，尝试<code>i+1</code>、<code>i+2</code>等</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinearProbingHashST</span>&lt;Key, Value&gt; {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> <span class="number">30001</span>;</span><br><span class="line">    <span class="keyword">private</span> Value[] vals = (Value[]) <span class="keyword">new</span> <span class="title class_">Object</span>[M];</span><br><span class="line">    <span class="keyword">private</span> Key[] keys = (Key[]) <span class="keyword">new</span> <span class="title class_">Object</span>[M];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(Key key, Value val)</span> {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> hash(key); keys[i] != <span class="literal">null</span>; i = (i + <span class="number">1</span>) % M)</span><br><span class="line">            <span class="keyword">if</span> (keys[i].equals(key)) {</span><br><span class="line">                keys[i] = key;</span><br><span class="line">                vals[i] = val;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Value <span class="title function_">get</span><span class="params">(Key key)</span> {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> hash(key); keys[i] != <span class="literal">null</span>; i = (i + <span class="number">1</span>) % M)</span><br><span class="line">            <span class="keyword">if</span> (key.equals(keys[i]))</span><br><span class="line">                <span class="keyword">return</span> vals[i];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>问题：新的键趋向于出现在大团簇的中心</p><p>Knuth 的停车问题：</p><ul><li>半满时，失配的平均数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="4.184ex" height="2.736ex" role="img" focusable="false" viewbox="0 -864.2 1849.3 1209.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664 351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336 375 315Q457 262 457 175 457 96 395 37T238-22Q158-22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94 148 82 136 74 126 70 118 67L114 66Q165 21 238 21 293 21 321 74 338 107 338 175V195Q338 290 274 322 259 328 213 329L171 330 168 332Q166 335 166 348 166 366 174 366 202 366 232 371 266 376 294 413T322 525V533Q322 590 287 612 265 626 240 626 208 626 181 615T143 592 132 580H135Q138 579 143 578T153 573 165 566 175 555 183 540 186 520Q186 498 172 481T127 463Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></li><li>全满时，失配的平均数<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.639ex" xmlns="http://www.w3.org/2000/svg" width="10.626ex" height="2.851ex" role="img" focusable="false" viewbox="0 -977.5 4696.8 1260"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="msqrt" transform="translate(1055.8,0)"><g transform="translate(1020,0)"><g data-mml-node="mi"><path data-c="1D70B" d="M132-11Q98-11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297 53 285Q51 284 38 284 19 284 19 294 19 300 38 329T93 391 164 429Q171 431 389 431 549 431 553 430 573 423 573 402 573 371 541 360 535 358 472 358H408L405 341Q393 269 393 222 393 170 402 129T421 65 431 37Q431 20 417 5T381-10Q370-10 363-7T347 17 331 77Q330 86 330 121 330 170 339 226T357 318 367 358H269L268 354Q268 351 249 275T206 114 175 17Q164-11 132-11Z"/></g><g data-mml-node="mi" transform="translate(570,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1621,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92-240Q85-250 75-250 68-250 62-245T56-231Q56-221 230 257T407 740Q411 750 423 750Z"/></g></g><g data-mml-node="mn" transform="translate(2121,0)"><path data-c="38" d="M70 417T70 494 124 618 248 666Q319 666 374 624T429 515Q429 485 418 459T392 417 361 389 335 371 324 363L338 354Q352 344 366 334T382 323Q457 264 457 174 457 95 399 37T249-22Q159-22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368 70 417 70 494ZM286 386 292 390Q298 394 301 396T311 403 323 413 334 425 345 438 355 454 364 471 369 491 371 513Q371 556 342 586T275 624Q268 625 242 625 201 625 165 599T128 534Q128 511 141 492T167 463 217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194 353 216 330 234 301 253 274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239 107 157Q107 98 150 60T250 21Z"/></g></g><g data-mml-node="mo" transform="translate(0,67.5)"><path data-c="221A" d="M263 249Q264 249 315 130T417-108 470-228L725 302Q981 837 982 839 989 850 1001 850 1008 850 1013 844T1020 832V826L741 243Q645 43 540-176 479-303 469-324T453-348Q449-350 436-350L424-349 315-96Q206 156 205 156L171 130Q138 104 137 104L111 130 263 249Z"/></g><rect width="2621" height="60" x="1020" y="857.5"/></g></g></g></svg></mjx-container></span></li></ul><p>假设<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.186ex" xmlns="http://www.w3.org/2000/svg" width="8.852ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 3912.6 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g><g data-mml-node="mo" transform="translate(1165.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347 722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153 722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mi" transform="translate(2221.6,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374 564 388 566 390T582 393Q603 393 603 385 603 376 594 346T558 261 497 161L486 147 487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62 597 56 591 43 579 19 556 5T512-10H505Q438-10 414 62L411 69 400 61Q390 53 370 41T325 18 267-2 203-11Q124-11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290 382 405 304 405 235 405 183 332 156 292 139 224T121 120Q121 71 146 49T208 26Z"/></g><g data-mml-node="mi" transform="translate(2861.6,0)"><path data-c="1D440" d="M289 629Q289 635 232 637 208 637 201 638T194 648Q194 649 196 659 197 662 198 666T199 671 201 676 203 679 207 681 212 683 220 683 232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117 510 154Q534 190 574 254T662 394Q837 673 839 675 840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673 1051 668 1048 656T1045 643Q1041 637 1008 637 968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50 822 48 855 46H886Q892 37 892 35 892 19 885 5 880 0 869 0 864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11 592 13 594 25 598 41 602 43T625 46Q652 46 685 49 699 52 704 61 706 65 742 207T813 490 848 631L654 322Q458 10 453 5 451 4 449 3 444 0 433 0 418 0 415 7 413 11 374 317L335 624 267 354Q200 88 200 79 206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1 274 0 267 0 265 0 255 0T221 1 157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46 135 46 154 86 158 92 223 354T289 629Z"/></g></g></g></svg></mjx-container></span>，则查找击中的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.912ex" xmlns="http://www.w3.org/2000/svg" width="13.905ex" height="2.869ex" role="img" focusable="false" viewbox="0 -864.9 6146 1267.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1849.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(2238.3,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(2960.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mfrac" transform="translate(3960.8,0)"><g data-mml-node="mn" transform="translate(721.3,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mrow" transform="translate(220,-345) scale(0.707)"><g data-mml-node="mn"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(1278,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374 564 388 566 390T582 393Q603 393 603 385 603 376 594 346T558 261 497 161L486 147 487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62 597 56 591 43 579 19 556 5T512-10H505Q438-10 414 62L411 69 400 61Q390 53 370 41T325 18 267-2 203-11Q124-11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290 382 405 304 405 235 405 183 332 156 292 139 224T121 120Q121 71 146 49T208 26Z"/></g></g><rect width="1556.2" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(5757,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span>，查找错过的<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-1.254ex" xmlns="http://www.w3.org/2000/svg" width="15.848ex" height="3.211ex" role="img" focusable="false" viewbox="0 -864.9 7004.8 1419.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1055.8,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1849.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(2238.3,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(2960.6,0)"><path data-c="2B" d="M56 237T56 250 70 270H369V420L370 570Q380 583 389 583 402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401-82 391-82H389 387Q375-82 369-68V230H70Q56 237 56 250Z"/></g><g data-mml-node="mfrac" transform="translate(3960.8,0)"><g data-mml-node="mn" transform="translate(1150.7,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mrow" transform="translate(220,-377.4) scale(0.707)"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488 164 576 202 643 244 695 277 729 302 750H315 319Q333 750 333 741 333 738 316 720T275 667 226 581 184 443 167 250 184 58 225-81 274-167 316-220 333-241Q333-250 318-250H315 302L274-226Q180-141 137-14T94 250Z"/></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2212" d="M84 237T84 250 98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(1667,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374 564 388 566 390T582 393Q603 393 603 385 603 376 594 346T558 261 497 161L486 147 487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62 597 56 591 43 579 19 556 5T512-10H505Q438-10 414 62L411 69 400 61Q390 53 370 41T325 18 267-2 203-11Q124-11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290 382 405 304 405 235 405 183 332 156 292 139 224T121 120Q121 71 146 49T208 26Z"/></g><g data-mml-node="msup" transform="translate(2307,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g><rect width="2415" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(6615.8,0)"><path data-c="29" d="M60 749 64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12 224-76 186-143 145-194 113-227 90-246Q87-249 86-250H74Q66-250 63-250T58-247 55-238Q56-237 66-225 221-64 221 250T66 725Q56 737 55 738 55 746 60 749Z"/></g></g></g></svg></mjx-container></span></p><p>通常选择<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.781ex" xmlns="http://www.w3.org/2000/svg" width="6.26ex" height="2.737ex" role="img" focusable="false" viewbox="0 -864.9 2767.1 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374 564 388 566 390T582 393Q603 393 603 385 603 376 594 346T558 261 497 161L486 147 487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62 597 56 591 43 579 19 556 5T512-10H505Q438-10 414 62L411 69 400 61Q390 53 370 41T325 18 267-2 203-11Q124-11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290 382 405 304 405 235 405 183 332 156 292 139 224T121 120Q121 71 146 49T208 26Z"/></g><g data-mml-node="mo" transform="translate(917.8,0)"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mfrac" transform="translate(1973.6,0)"><g data-mml-node="mn" transform="translate(220,394) scale(0.707)"><path data-c="31" d="M213 578 200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641 273 663Q275 666 285 666 294 666 302 660V361L303 61Q310 54 315 52T339 48 401 46H427V0H416Q395 3 257 3 121 3 100 0H88V46H114Q136 46 152 46T177 47 193 50 201 52 207 57 213 61V578Z"/></g><g data-mml-node="mn" transform="translate(220,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315 301 241Q265 210 201 149L142 93 218 92Q375 92 385 97 392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19 31Q50 38 56 46T86 81Q115 113 136 137 145 147 170 174T204 211 233 244 261 278 284 308 305 340 320 369 333 401 340 431 343 464Q343 527 309 573T212 619Q179 619 154 602T119 569 109 550Q109 549 114 549 132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g><rect width="553.6" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></p><h2 id="哈希表来龙去脉-hash-table-context">哈希表来龙去脉 Hash table context</h2><p>分离链接法：</p><ul><li>更容易实现删除</li><li>效率退化良好</li><li>团簇影响小</li></ul><p>线性探查法：</p><ul><li>空间浪费少</li><li>缓存表现好</li></ul><p>其它改进版本：</p><p>双探针哈希（分离链接法的变形）：</p><ul><li>哈希到两个位置，把键插入到较短的一条链中</li><li>最长链减少到<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.466ex" xmlns="http://www.w3.org/2000/svg" width="8.546ex" height="2.036ex" role="img" focusable="false" viewbox="0 -694 3777.3 900"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(1278,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(1444.7,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124 104 167 104 217 104 272 104 329Q104 366 104 407T104 482 104 542 103 586 103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693 182 694H185V379Q185 62 186 60 190 52 198 49 219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3 107 3 57 1L34 0H26V46H42Z"/><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250-10Q153-10 91 57T28 214ZM250 30Q372 30 372 193V225 250Q372 272 371 288T364 326 348 362 317 390 268 410Q263 411 252 411 222 411 195 399 152 377 139 338T126 246V226Q126 130 145 91 177 30 250 30Z" transform="translate(278,0)"/><path data-c="67" d="M329 409Q373 453 429 453 459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390 410 404 415 411 415 412 416 414V415Q388 412 363 393 355 388 355 386 355 385 359 381T368 369 379 351 388 325 392 292Q392 230 343 187T222 143Q172 143 123 171 112 153 112 133 112 98 138 81 147 75 155 75T227 73Q311 72 335 67 396 58 431 26 470-13 470-72 470-139 392-175 332-206 250-206 167-206 107-175 29-140 29-75 29-39 50-15T92 18L103 24Q67 55 67 108 67 155 96 193 52 237 52 292 52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292 142 248 149 227T179 192Q196 182 222 182 244 182 260 189T283 207 294 227 299 242Q302 258 302 292T299 343ZM403-75Q403-50 389-34T348-11 299-2 245 0H218Q151 0 138-6 118-15 107-34T95-74Q95-84 101-97T122-127 170-155 250-167Q319-167 361-139T403-75Z" transform="translate(778,0)"/></g><g data-mml-node="mo" transform="translate(2722.7,0)"><path data-c="2061" d=""/></g><g data-mml-node="mi" transform="translate(2889.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></li></ul><p>双哈希（线性探查法的变形）：</p><ul><li>线性探查法，但每次跳过可变数量而不是 1</li><li>对团簇效果好</li><li>允许表几乎全满</li><li>删除实现困难</li></ul><p><strong>布谷鸟哈希 Cuckoo hashing</strong>：</p><ul><li>哈希到两个位置，插入到一个位置，若被占，重新插入该位置的键到另一个位置</li><li>最坏情况下查找时间为常数</li></ul><p>哈希表：</p><ul><li>实现容易</li><li>对于无序键，没有更有效的替代</li><li>对于简单的键更快</li></ul><p>BST：</p><ul><li>效率有保证</li><li>支持有序操作</li><li>比起<code>equals()</code>和<code>hashCode()</code>，实现<code>compareTo()</code>更容易</li></ul><h1 id="符号表应用-symbol-application">符号表应用 Symbol application</h1><h2 id="集合-set">集合 Set</h2><p>不同键的总和</p><h2 id="字典客户端-dictionary-clients">字典客户端 dictionary clients</h2><p>ip 和域名的查询</p><h2 id="索引客户端-indexing-clients">索引客户端 indexing clients</h2><p>文件语境查询</p><h2 id="稀疏向量-sparse-vector">稀疏向量 Sparse vector</h2><p>一维向量数组表示：</p><ul><li>常数时间访问元素</li><li>空间花费<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:0" xmlns="http://www.w3.org/2000/svg" width="4.398ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 1943.8 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="223C" d="M55 166Q55 241 101 304T222 367Q260 367 296 349T362 304 421 252 484 208 554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334 722 260 677 197T562 134H554Q517 134 481 152T414 196 355 248 292 293 223 311Q179 311 145 286 109 257 96 218T80 156 69 133Q55 133 55 166Z"/></g><g data-mml-node="mi" transform="translate(1055.8,0)"><path data-c="1D441" d="M234 637Q231 637 226 637 201 637 196 638T191 649Q191 676 202 682 204 683 299 683 376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606 723 633 659 637 635 637 635 648 635 650 637 660 641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672 888 650 880 642 878 637 858 637 787 633 769 597L620 7Q618 0 599 0 585 0 582 2 579 5 453 305L326 604 261 344Q196 88 196 79 201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2 123 2 100 2T63 2 46 1Q31 1 31 10 31 14 34 26T39 40Q41 46 62 46 130 49 150 85 154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container></span></li></ul><p>符号表表示：</p><ul><li>键为索引，值为项</li><li>迭代效率高</li><li>空间花费和非零时成正比</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SparseVector</span> {</span><br><span class="line">    <span class="keyword">private</span> HashST&lt;Integer, Double&gt; v;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SparseVector</span><span class="params">()</span> {</span><br><span class="line">        v = <span class="keyword">new</span> <span class="title class_">HashST</span>&lt;Integer, Double&gt;();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> i, <span class="type">double</span> x)</span> {</span><br><span class="line">        v.put(i, x);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> i)</span> {</span><br><span class="line">        <span class="keyword">if</span> (!v.contain(i))</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> v.get(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title function_">indices</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> v.keys();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">dot</span><span class="params">(<span class="type">double</span>[] that)</span> {</span><br><span class="line">        <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i : indices())</span><br><span class="line">            sum += that[i] * <span class="built_in">this</span>.get(i);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Princeton/">Princeton</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post_share"><div class="social-share" data-image="/gallery/cover/Coursera%20Algorithms%20I%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/a13c1dba.html" title="Coursera Algorithms II：算法（第二部分）"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Coursera%20Algorithms%20II%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%89.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Coursera Algorithms II：算法（第二部分）</div></div></a></div><div class="next-post pull-right"><a href="/posts/7ea0cbe4.html" title="UCB CS61B：数据结构与算法"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS61B%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">UCB CS61B：数据结构与算法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/a13c1dba.html" title="Coursera Algorithms II：算法（第二部分）"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Coursera%20Algorithms%20II%EF%BC%9A%E7%AE%97%E6%B3%95%EF%BC%88%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%89.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-10</div><div class="title">Coursera Algorithms II：算法（第二部分）</div></div></a></div><div><a href="/posts/7ea0cbe4.html" title="UCB CS61B：数据结构与算法"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/UCB%20CS61B%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-30</div><div class="title">UCB CS61B：数据结构与算法</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="card-info-avatar"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="palm_tree" fallback-src="https://lskypro.acozycotage.net/LightPicture/2022/12/fe1dc0402e623096.jpg">🐟</g-emoji><span>认真摸鱼中 + `'` alt="avatar")</span></div></div></div><div class="author-info__name">old_driver_zero</div><div class="author-info__description">一个幽灵</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/old-driver-zero" target="_blank" title="Github" rel="external nofollow noopener noreferrer"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2771503468@qq.com" target="_blank" title="Email" rel="external nofollow noopener noreferrer"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86-union-find"><span class="toc-number">1.</span> <span class="toc-text">并查集 union-find</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%BF%9E%E9%80%9A%E6%80%A7-dynamic-connectivity"><span class="toc-number">1.1.</span> <span class="toc-text">动态连通性 dynamic connectivity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%9F%A5%E6%89%BE-quick-find"><span class="toc-number">1.2.</span> <span class="toc-text">快速查找 quick find</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%90%88%E5%B9%B6-quick-union"><span class="toc-number">1.3.</span> <span class="toc-text">快速合并 quick union</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%90%88%E5%B9%B6%E6%94%B9%E8%BF%9B-quick-union-improvement"><span class="toc-number">1.4.</span> <span class="toc-text">快速合并改进 quick union improvement</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E7%A7%A9%E5%90%88%E5%B9%B6-weighted-quick-union"><span class="toc-number">1.4.1.</span> <span class="toc-text">按秩合并 Weighted quick-union</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8E%8B%E7%BC%A9-path-compression"><span class="toc-number">1.4.2.</span> <span class="toc-text">路径压缩 path compression</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%90%88%E5%B9%B6%E5%BA%94%E7%94%A8-union-find-applications"><span class="toc-number">1.5.</span> <span class="toc-text">快速合并应用 union-find applications</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90-analysis-of-algorithm"><span class="toc-number">2.</span> <span class="toc-text">算法分析 Analysis of algorithm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F-observation"><span class="toc-number">2.1.</span> <span class="toc-text">观察 observation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B-mathematical-models"><span class="toc-number">2.2.</span> <span class="toc-text">数学模型 mathematical models</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E9%95%BF%E6%95%B0%E9%87%8F%E7%BA%A7%E7%9A%84%E5%88%86%E7%B1%BB-order-of-growth-classifications"><span class="toc-number">2.3.</span> <span class="toc-text">增长数量级的分类 order of growth classifications</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86-theory-of-algorithms"><span class="toc-number">2.4.</span> <span class="toc-text">算法原理 theory of algorithms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98-memory"><span class="toc-number">2.5.</span> <span class="toc-text">内存 memory</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97-stack-and-queue"><span class="toc-number">3.</span> <span class="toc-text">栈和队列 stack and queue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88-stack"><span class="toc-number">3.1.</span> <span class="toc-text">栈 stack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.1.</span> <span class="toc-text">链表实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.1.2.</span> <span class="toc-text">数组实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%9F%E5%88%97-queue"><span class="toc-number">3.2.</span> <span class="toc-text">队列 queue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0-1"><span class="toc-number">3.2.1.</span> <span class="toc-text">链表实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E5%8C%85-bag"><span class="toc-number">3.3.</span> <span class="toc-text">背包 Bag</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%9A%84%E5%BA%94%E7%94%A8-stack-and-queue-applications"><span class="toc-number">3.4.</span> <span class="toc-text">栈和队列的应用 stack and queue applications</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F-elementary-sort"><span class="toc-number">4.</span> <span class="toc-text">基本排序 Elementary sort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E4%BB%8B%E7%BB%8D-sorting-introduction"><span class="toc-number">4.1.</span> <span class="toc-text">排序介绍 sorting introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F-selection-sort"><span class="toc-number">4.2.</span> <span class="toc-text">选择排序 Selection sort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F-insertion-sort"><span class="toc-number">4.3.</span> <span class="toc-text">插入排序 Insertion sort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F-shellsort"><span class="toc-number">4.4.</span> <span class="toc-text">希尔排序 Shellsort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B4%97%E7%89%8C-shuffling"><span class="toc-number">4.5.</span> <span class="toc-text">洗牌 shuffling</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%B8%E5%8C%85-convex-hull"><span class="toc-number">4.6.</span> <span class="toc-text">凸包 Convex hull</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F-mergesort"><span class="toc-number">5.</span> <span class="toc-text">归并排序 Mergesort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F-mergesort-1"><span class="toc-number">5.1.</span> <span class="toc-text">归并排序 Mergesort</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B-1%E5%9C%A8%E5%B0%8F%E6%95%B0%E7%BB%84%E6%97%B6%E4%BD%BF%E7%94%A8%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-number">5.1.1.</span> <span class="toc-text">改进 1：在小数组时使用插入排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B-2%E8%B7%B3%E8%BF%87%E5%B7%B2%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84"><span class="toc-number">5.1.2.</span> <span class="toc-text">改进 2：跳过已排序数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B-3%E9%80%9A%E8%BF%87%E4%BA%A4%E6%8D%A2%E5%8E%9F%E6%95%B0%E7%BB%84%E5%92%8C%E8%BE%85%E5%8A%A9%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%92%E8%89%B2%E6%9D%A5%E8%8A%82%E7%9C%81%E5%A4%8D%E5%88%B6%E6%95%B0%E7%BB%84%E6%97%B6%E9%97%B4"><span class="toc-number">5.1.3.</span> <span class="toc-text">改进 3：通过交换原数组和辅助数组的角色来节省复制数组时间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F-bottom-up-mergesort"><span class="toc-number">5.2.</span> <span class="toc-text">自底向上归并排序 bottom-up Mergesort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6-sorting-complexity"><span class="toc-number">5.3.</span> <span class="toc-text">排序算法的复杂度 Sorting complexity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%99%A8-comparator"><span class="toc-number">5.4.</span> <span class="toc-text">比较器 Comparator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%B3%E5%AE%9A%E6%80%A7-stability"><span class="toc-number">5.5.</span> <span class="toc-text">稳定性 stability</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F-quicksort"><span class="toc-number">6.</span> <span class="toc-text">快速排序 Quicksort</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F-quicksort-1"><span class="toc-number">6.1.</span> <span class="toc-text">快速排序 quicksort</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B-1%E5%9C%A8%E5%B0%8F%E6%95%B0%E7%BB%84%E6%97%B6%E4%BD%BF%E7%94%A8%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F-1"><span class="toc-number">6.1.1.</span> <span class="toc-text">改进 1：在小数组时使用插入排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B-2%E9%80%89%E6%8B%A9%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0"><span class="toc-number">6.1.2.</span> <span class="toc-text">改进 2：选择数组的中位数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9-selection"><span class="toc-number">6.2.</span> <span class="toc-text">选择 Selection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E7%9A%84%E5%80%BC-duplicate-keys"><span class="toc-number">6.3.</span> <span class="toc-text">重复的值 Duplicate keys</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%8E%92%E5%BA%8F-system-sorts"><span class="toc-number">6.4.</span> <span class="toc-text">系统排序 System sorts</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97-priority-queue"><span class="toc-number">7.</span> <span class="toc-text">优先队列 Priority queue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#api-%E5%92%8C%E5%9F%BA%E6%9C%AC%E5%AE%9E%E7%8E%B0-apis-and-elementary-implementations"><span class="toc-number">7.1.</span> <span class="toc-text">API 和基本实现 APIs and elementary implementations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E5%A0%86-binary-heap"><span class="toc-number">7.2.</span> <span class="toc-text">二叉堆 binary heap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F-heapsort"><span class="toc-number">7.3.</span> <span class="toc-text">堆排序 heapsort</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%AC%A6%E5%8F%B7%E8%A1%A8-elementary-symbol-tables"><span class="toc-number">8.</span> <span class="toc-text">基本符号表 Elementary Symbol Tables</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8-api-symbol-table-api"><span class="toc-number">8.1.</span> <span class="toc-text">符号表 API Symbol table API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9A%84%E5%AE%9E%E7%8E%B0-elementary-implementation"><span class="toc-number">8.2.</span> <span class="toc-text">基础的实现 elementary implementation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%BA%8F%E7%9A%84%E6%93%8D%E4%BD%9C-ordered-operations"><span class="toc-number">8.3.</span> <span class="toc-text">有序的操作 ordered operations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91-binary-search-tree"><span class="toc-number">8.4.</span> <span class="toc-text">二叉查找树 Binary search tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bst-%E4%B8%AD%E7%9A%84%E5%88%A0%E9%99%A4-deletion-in-bst"><span class="toc-number">8.5.</span> <span class="toc-text">BST 中的删除 deletion in BST</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91-balanced-search-tree"><span class="toc-number">9.</span> <span class="toc-text">平衡二叉搜索树 Balanced search tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%A0%91-2-3-search-tree"><span class="toc-number">9.1.</span> <span class="toc-text">2-3 搜索树 2-3 Search tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91-red-black-bst"><span class="toc-number">9.2.</span> <span class="toc-text">红黑树 red-black BST</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#b-%E6%A0%91-b-tree"><span class="toc-number">9.3.</span> <span class="toc-text">B 树 B-tree</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#bst-%E5%87%A0%E4%BD%95%E5%AD%A6%E7%9A%84%E5%BA%94%E7%94%A8-geometric-applications-of-bsts"><span class="toc-number">10.</span> <span class="toc-text">BST 几何学的应用 Geometric applications of BSTs</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E8%8C%83%E5%9B%B4%E6%90%9C%E7%B4%A2-1d-range-search"><span class="toc-number">10.1.</span> <span class="toc-text">一维范围搜索 1d range search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%AE%B5%E7%9B%B8%E4%BA%A4-line-segment-intersection"><span class="toc-number">10.2.</span> <span class="toc-text">线段相交 Line segment intersection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#k-%E7%BB%B4%E6%A0%91-kd-tree"><span class="toc-number">10.3.</span> <span class="toc-text">k 维树 kd-tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E9%97%B4%E6%90%9C%E7%B4%A2%E6%A0%91-interval-search-tree"><span class="toc-number">10.4.</span> <span class="toc-text">区间搜索树 Interval search tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E5%BD%A2%E7%9B%B8%E4%BA%A4-rectangle-intersection"><span class="toc-number">10.5.</span> <span class="toc-text">矩形相交 Rectangle intersection</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8-hash-table"><span class="toc-number">11.</span> <span class="toc-text">哈希表 Hash table</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8-hash-table-1"><span class="toc-number">11.1.</span> <span class="toc-text">哈希表 Hash table</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%A6%BB%E9%93%BE%E6%8E%A5%E6%B3%95-separate-chaining"><span class="toc-number">11.2.</span> <span class="toc-text">分离链接法 Separate Chaining</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%9F%A5%E6%B3%95-linear-probing"><span class="toc-number">11.3.</span> <span class="toc-text">线性探查法 linear probing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E6%9D%A5%E9%BE%99%E5%8E%BB%E8%84%89-hash-table-context"><span class="toc-number">11.4.</span> <span class="toc-text">哈希表来龙去脉 Hash table context</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E8%A1%A8%E5%BA%94%E7%94%A8-symbol-application"><span class="toc-number">12.</span> <span class="toc-text">符号表应用 Symbol application</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88-set"><span class="toc-number">12.1.</span> <span class="toc-text">集合 Set</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E5%AE%A2%E6%88%B7%E7%AB%AF-dictionary-clients"><span class="toc-number">12.2.</span> <span class="toc-text">字典客户端 dictionary clients</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%AE%A2%E6%88%B7%E7%AB%AF-indexing-clients"><span class="toc-number">12.3.</span> <span class="toc-text">索引客户端 indexing clients</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%80%E7%96%8F%E5%90%91%E9%87%8F-sparse-vector"><span class="toc-number">12.4.</span> <span class="toc-text">稀疏向量 Sparse vector</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By old_driver_zero</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#web_bg","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div><script data-pjax>function butterfly_categories_card_injector_config(){var a=document.getElementById("recent-posts");console.log("已挂载butterfly_categories_card"),a.insertAdjacentHTML("afterbegin",'<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 380px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 320px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(/gallery/cover/工具.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ACG杂谈/&quot;);" href="javascript:void(0);">ACG杂谈</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">工欲善其事，必先利其器。——《论语·卫灵公》</span></li><li class="categoryBar-list-item" style="background:url(/gallery/cover/ACG杂谈.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/工具/&quot;);" href="javascript:void(0);">工具</a><span class="categoryBar-list-count">6</span><span class="categoryBar-list-descr">让我带你去吧,这个小镇,愿望实现的地方。——《CLANNAD》</span></li><li class="categoryBar-list-item" style="background:url(/gallery/cover/学习笔记.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/学习笔记/&quot;);" href="javascript:void(0);">学习笔记</a><span class="categoryBar-list-count">9</span><span class="categoryBar-list-descr">吾生也有涯，而知也无涯。以有涯随无涯，殆已!——《庄子．养生主》</span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/读书笔记/&quot;);" href="javascript:void(0);">读书笔记</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li></ul></div></div>')}document.getElementById("recent-posts")&&"/"===location.pathname&&butterfly_categories_card_injector_config()</script><script data-pjax>function butterfly_clock_anzhiyu_injector_config(){var a=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载butterfly_clock_anzhiyu"),a&&a.insertAdjacentHTML("afterbegin",'<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>')}for(var elist="null".split(","),cpage=location.pathname,epage="/",qweather_key="74c5cb8e65744f1bbe7fb1559fbdd043",gaud_map_key="cf64c8eaa23edd1a2aaf59cbb9797620",baidu_ak_key="undefined",flag=0,clock_rectangle="113.34532,23.15624",clock_default_rectangle_enable="false",i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_clock_anzhiyu_injector_config()</script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>function butterfly_swiper_injector_config(){var a=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),a.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/d36531a7.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/多变量微积分（积分部分）.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-16</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/d36531a7.html&quot;);" href="javascript:void(0);" alt="">多变量微积分（积分部分）</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/d36531a7.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2f57a694.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/正则表达式.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-31</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2f57a694.html&quot;);" href="javascript:void(0);" alt="">正则表达式</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2f57a694.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/3b308caa.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/魔法少女小圆.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-20</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/3b308caa.html&quot;);" href="javascript:void(0);" alt="">在失去希望的世界里，会开出怎样的花朵？——《魔法少女小圆》</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/3b308caa.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/374b54d5.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/喜羊羊与灰太狼.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/374b54d5.html&quot;);" href="javascript:void(0);" alt="">随风远去的童年——《喜羊羊与灰太狼》</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/374b54d5.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1s"),arr[i].setAttribute("data-wow-delay","0s"),arr[i].setAttribute("data-wow-offset","100"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>