<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Svelte | Aefrivern的小屋</title><meta name="author" content="Aefrivern"><meta name="copyright" content="Aefrivern"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Svelte 是一个最近越来越流行的前端库 安装 快速开始： bunx sv create my-app 调试运行： bun --bun run dev 如果想要构建的话，需要修改适配器：bun add -D svelte-adapter-bun 修改 svelte.config.js： import adapter from &#x27;svelte-adapter-bun&#x27;; 构建：">
<meta property="og:type" content="article">
<meta property="og:title" content="Svelte">
<meta property="og:url" content="https://aefrivern.github.io/posts/76f4d2c5.html">
<meta property="og:site_name" content="Aefrivern的小屋">
<meta property="og:description" content="Svelte 是一个最近越来越流行的前端库 安装 快速开始： bunx sv create my-app 调试运行： bun --bun run dev 如果想要构建的话，需要修改适配器：bun add -D svelte-adapter-bun 修改 svelte.config.js： import adapter from &#x27;svelte-adapter-bun&#x27;; 构建：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://aefrivern.github.io/gallery/cover/Svelte.webp">
<meta property="article:published_time" content="2025-04-18T06:44:02.000Z">
<meta property="article:modified_time" content="2025-05-08T02:07:13.000Z">
<meta property="article:author" content="Aefrivern">
<meta property="article:tag" content="web">
<meta property="article:tag" content="前端框架">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aefrivern.github.io/gallery/cover/Svelte.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Svelte",
  "url": "https://aefrivern.github.io/posts/76f4d2c5.html",
  "image": "https://aefrivern.github.io/gallery/cover/Svelte.webp",
  "datePublished": "2025-04-18T06:44:02.000Z",
  "dateModified": "2025-05-08T02:07:13.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Aefrivern",
      "url": "https://aefrivern.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/illustration/favicon.ico"><link rel="canonical" href="https://aefrivern.github.io/posts/76f4d2c5.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"GY5EJYJ1FS","apiKey":"c443c952672ec7062840aac45536181e","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索文章","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Svelte',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4031045_1yiosqv4vch.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/hexo-butterfly-article-double-row.css"><script src="/js/echarts.min.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/gallery/wallpaper/wallpaper.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">191</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">245</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye-01"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw iconfont icon-a-16-01-01"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw iconfont icon-wenjianjia"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw iconfont icon-zhifeiji"></i><span> 二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw iconfont icon-tongjichaxun"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyan"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw iconfont icon-suiji"></i><span> 随便逛逛</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/gallery/cover/Svelte.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Aefrivern的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">Svelte</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-sousuo1"></use></svg><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye-01"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw iconfont icon-a-16-01-01"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw iconfont icon-wenjianjia"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/anime/"><i class="fa-fw iconfont icon-zhifeiji"></i><span> 二次元</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw iconfont icon-xiangce"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyu"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw iconfont icon-tongjichaxun"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyan"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw iconfont icon-suiji"></i><span> 随便逛逛</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Svelte</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-18T06:44:02.000Z" title="发表于 2025-04-18 14:44:02">2025-04-18</time><span class="post-meta-separator">|</span><svg class="meta_icon post-ui-icon" style="width:13px;height:13px;position:relative;top:2px"><use xlink:href="#icon-gengxin"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-08T02:07:13.000Z" title="更新于 2025-05-08 10:07:13">2025-05-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><a class="faa-parent animated-hover"></a><svg class="meta_icon post-ui-icon" style="width:13px;height:13px;position:relative;top:2px"><use xlink:href="#icon-fenlei"></use></svg><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-word"></use></svg><span class="post-meta-label">总字数:</span><span class="word-count">2583</span><span class="post-meta-separator">|</span><svg class="meta_icon post-ui-icon" style="width:16px;height:16px;position:relative;top:3px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://svelte.dev/">Svelte</a> 是一个最近越来越流行的前端库</p>
<h2 id="安装">安装</h2>
<p>快速开始：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">bunx sv create my-app<br></code></pre></td></tr></table></figure>
<p>调试运行：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">bun --bun run dev<br></code></pre></td></tr></table></figure>
<p>如果想要构建的话，需要修改适配器：<code>bun add -D svelte-adapter-bun</code></p>
<p>修改 <code>svelte.config.js</code>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> adapter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;svelte-adapter-bun&#x27;</span>;<br></code></pre></td></tr></table></figure>
<p>构建：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">bun --bun run build<br></code></pre></td></tr></table></figure>
<h2 id="基础">基础</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script lang=&quot;ts&quot;&gt;<br> let name = &#x27;Svelte&#x27;;<br>&lt;/script&gt;<br><br>&lt;p&gt;Hello &#123;name&#125;!&lt;/p&gt;<br><br>&lt;style&gt;<br> p &#123;<br>  color: goldenrod;<br>  font-family: &#x27;Comic Sans MS&#x27;, cursive;<br>  font-size: 2em;<br> &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>属性名和属性值相同时的语法糖：<code>&lt;img &#123;src&#125; /&gt;</code></p>
<p>在单独一个文件中定义组件，然后在另一个文件中引入</p>
<p>将 Markdown 渲染为 HTML：<code>&lt;p&gt;&#123;@html string&#125;&lt;/p&gt;</code></p>
<p>响应式组件的写法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script&gt;<br> let count = $state(0);<br><br> function increment() &#123;<br>  count += 1;<br> &#125;<br>&lt;/script&gt;<br><br>&lt;button onclick=&#123;increment&#125;&gt;<br> Clicked &#123;count&#125;<br> &#123;count === 1 ? &#x27;time&#x27; : &#x27;times&#x27;&#125;<br>&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p>从其他组件中 <strong>派生</strong> 状态：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">let numbers = $state([1, 2, 3, 4]);<br>let total = $derived(numbers.reduce((t, n) =&gt; t + n, 0));<br></code></pre></td></tr></table></figure>
<p>派生状态是只读的</p>
<p>响应状态的东西——effect：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">$effect(() =&gt; &#123;<br>    const id = setInterval(() =&gt; &#123;<br>        elapsed += 1;<br>    &#125;, interval);<br><br>    return () =&gt; &#123;<br>        clearInterval(id);<br>    &#125;;<br>&#125;);<br></code></pre></td></tr></table></figure>
<p>如果我们想要在普通 <code>js</code> 文件中使用响应式，那么需要命名为 <code>.svelte.js</code></p>
<p>子组件获取父组件传递的参数：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script lang=&quot;ts&quot;&gt;<br>  let &#123; answer = &#x27;a mystery&#x27; &#125; = $props();<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>条件渲染：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&#123;#if count &gt; 10&#125;<br>  &lt;p&gt;&#123;count&#125; is greater than 10&lt;/p&gt;<br>&#123;:else if count &lt; 5&#125;<br>  &lt;p&gt;&#123;count&#125; is less than 5&lt;/p&gt;<br>&#123;:else&#125;<br>  &lt;p&gt;&#123;count&#125; is between 5 and 10&lt;/p&gt;<br>&#123;/if&#125;<br></code></pre></td></tr></table></figure>
<p><code>each</code> 块（不能用 <code>map</code> 吗？）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&#123;#each things as thing (thing.id)&#125;<br>  &lt;Thing name=&#123;thing.name&#125;/&gt;<br>&#123;/each&#125;<br></code></pre></td></tr></table></figure>
<p>异步写法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&#123;#await promise&#125;<br>  &lt;p&gt;...rolling&lt;/p&gt;<br>&#123;:then number&#125;<br>  &lt;p&gt;you rolled a &#123;number&#125;!&lt;/p&gt;<br>&#123;:catch error&#125;<br>  &lt;p style=&quot;color: red&quot;&gt;&#123;error.message&#125;&lt;/p&gt;<br>&#123;/await&#125;<br></code></pre></td></tr></table></figure>
<p>有时可以使用 <code>bind</code> 双向绑定来改变数据流的方向（尤其是对于表单元素）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script&gt;<br>  let name = $state(&#x27;world&#x27;);<br>&lt;/script&gt;<br><br>&lt;input bind:value=&#123;name&#125; /&gt;<br></code></pre></td></tr></table></figure>
<p>Action 本质上是元素级别的生命周期函数，可以自定义</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;div class=&quot;menu&quot; use:trapFocus&gt;<br></code></pre></td></tr></table></figure>
<p>过渡动画：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;p transition:fade&gt;<br></code></pre></td></tr></table></figure>
<p>或者更细致：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;p in:fly=&#123;&#123; y: 200, duration: 2000 &#125;&#125; out:fade&gt;<br>  Flies in, fades out<br>&lt;/p&gt;<br></code></pre></td></tr></table></figure>
<h2 id="进阶">进阶</h2>
<p>有时不需要改变个别属性，可以使用 <strong>原始状态</strong> <code>$state.raw</code></p>
<p>类的属性也可以是响应式的：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">class Box &#123;<br>  width = $state(0);<br>  height = $state(0);<br>  area = 0;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>如果想要对类的属性进行验证，可以自定义 <code>getter</code> 和 <code>setter</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">class Box &#123;<br> #width = $state(0); // 私有属性<br><br> constructor(width) &#123;<br> this.#width = width;<br> &#125;<br><br> set width(value) &#123;<br> this.#width = Math.max(0, Math.min(MAX_SIZE, value));<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>有几个提供的响应式类：<code>Map</code>、<code>Set</code>、<code>Date</code>、<code>URL</code> 和 <code>URLSearchParams</code></p>
<p>代码片段允许你在组件内复用内容，而无需将其提取到单独的文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&#123;#snippet monkey(emoji, description)&#125;...&#123;/snippet&#125;<br>&#123;@render monkey(&#x27;🙈&#x27;, &#x27;see no evil&#x27;)&#125;<br></code></pre></td></tr></table></figure>
<p>直接在组件内声明的片段会成为该组件的 props：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;FilteredList data=&#123;colors&#125; field=&quot;name&quot;&gt;<br> &#123;#snippet header()&#125;...&#123;/snippet&#125;<br><br> &#123;#snippet row(d)&#125;...&#123;/snippet&#125;<br>&lt;/FilteredList&gt;<br></code></pre></td></tr></table></figure>
<p>元素移动动效：<code>Tween</code> 和 <code>Spring</code></p>
<p>可以在任何元素上添加 <code>clientWidth</code>、<code>clientHeight</code>、<code>offsetWidth</code> 和 <code>offsetHeight</code> 绑定</p>
<p><code>bind:this</code> 获取组件中某个元素的只读绑定</p>
<p>延迟过渡：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;li<br> class=&#123;&#123; done: todo.done &#125;&#125;<br> in:receive=&#123;&#123; key: todo.id &#125;&#125;<br> out:send=&#123;&#123; key: todo.id &#125;&#125;<br>&gt;<br></code></pre></td></tr></table></figure>
<p>动画：<code>svelte/animate</code></p>
<p>组件也可以通过 <code>setContext</code> 和 <code>getContext</code> 来传递信息而不是 props</p>
<ul>
<li><code>setContext('canvas', &#123; addItem &#125;);</code></li>
<li><code>getContext('canvas').addItem(draw);</code></li>
</ul>
<p>有时需要在单个组件实例之外运行一些代码，可以通过声明一个 <code>&lt;script module&gt;</code> 代码块来实现这一点。其中包含的代码将在模块首次评估时运行一次，而不是在组件实例化时运行，在 <code>module</code> 脚本块中导出的任何内容都会成为模块本身的导出</p>
<h2 id="SvelteKit-基础">SvelteKit 基础</h2>
<p>SvelteKit 是一个元框架</p>
<p>使用基于文件系统的路由，如 <code>src/routes/+page.svelte</code> 中定义的是 <code>/</code> 的路由</p>
<p><code>+layout.svelte</code> 文件适用于每个子路由，包括同级的 <code>+page.svelte</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script lang=&quot;ts&quot;&gt;<br> let &#123; children &#125; = $props();<br>&lt;/script&gt;<br><br>&lt;nav&gt;<br> &lt;a href=&quot;/&quot;&gt;home&lt;/a&gt;<br> &lt;a href=&quot;/about&quot;&gt;about&lt;/a&gt;<br>&lt;/nav&gt;<br><br>&#123;@render children()&#125;<br></code></pre></td></tr></table></figure>
<p>动态路由的写法：<code>blog/[slug]/+page.svelte</code></p>
<p>从本质上讲，SvelteKit 的工作可以归结为三个方面：路由、加载、渲染</p>
<p>对于加载，可以在 <code>+page.server.js</code> 文件中声明一个 <code>load</code> 函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; error &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@sveltejs/kit&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; posts &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../data.js&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params">&#123; params &#125;</span>) &#123;<br>  <span class="hljs-keyword">const</span> post = posts.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">post</span>) =&gt;</span> post.<span class="hljs-property">slug</span> === params.<span class="hljs-property">slug</span>);<br><br>  <span class="hljs-keyword">if</span> (!post) <span class="hljs-title function_">error</span>(<span class="hljs-number">404</span>);<br><br>  <span class="hljs-keyword">return</span> &#123;<br>    post,<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后在 <code>+page.svelte</code> 中直接 <code>let &#123; data &#125; = $props();</code> 载入数据</p>
<p>设置响应头：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params">&#123; setHeaders &#125;</span>) &#123;<br>  <span class="hljs-title function_">setHeaders</span>(&#123;<br>    <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;text/plain&#x27;</span>,<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>设置 cookie：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params">&#123; cookies &#125;</span>) &#123;<br>  <span class="hljs-keyword">const</span> visited = cookies.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;visited&#x27;</span>);<br><br>  cookies.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;visited&#x27;</span>, <span class="hljs-string">&#x27;true&#x27;</span>, &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span> &#125;);<br><br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">visited</span>: visited === <span class="hljs-string">&#x27;true&#x27;</span>,<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>通常情况下，把模块和组件放在使用它们的路由附加，然后通过相对路径引用，但对于一些公共的代码，有必要放在一个公共的区域 <code>src/lib</code>，然后通过 <code>$lib/</code> 引入</p>
<p>如果想要将数据从客户端传输到浏览器，一般通过 <code>&lt;form&gt;</code> 收集信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;form method=&quot;POST&quot; action=&quot;?/create&quot;&gt;<br> &lt;label&gt;<br>  添加待办事项：<br>  &lt;input<br>   name=&quot;description&quot;<br>   autocomplete=&quot;off&quot;<br>  /&gt;<br> &lt;/label&gt;<br>&lt;/form&gt;<br>&lt;ul class=&quot;todos&quot;&gt;<br> &#123;#each data.todos as todo (todo.id)&#125;<br>  &lt;li&gt;<br>   &lt;form method=&quot;POST&quot; action=&quot;?/delete&quot;&gt;<br>    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&#123;todo.id&#125; /&gt;<br>    &lt;span&gt;&#123;todo.description&#125;&lt;/span&gt;<br>    &lt;button aria-label=&quot;Mark as complete&quot;&gt;&lt;/button&gt;<br>   &lt;/form&gt;<br>  &lt;/li&gt;<br> &#123;/each&#125;<br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>在对应的 <code>+page.server.js</code> 中编写相应的 <code>actions</code>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-attr">create</span>: <span class="hljs-keyword">async</span> (&#123; cookies, request &#125;) =&gt; &#123;<br>    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">formData</span>();<br>    db.<span class="hljs-title function_">createTodo</span>(cookies.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;userid&#x27;</span>), data.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;description&#x27;</span>));<br>  &#125;,<br><br>  <span class="hljs-attr">delete</span>: <span class="hljs-keyword">async</span> (&#123; cookies, request &#125;) =&gt; &#123;<br>    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">formData</span>();<br>    db.<span class="hljs-title function_">deleteTodo</span>(cookies.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;userid&#x27;</span>), data.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;id&#x27;</span>));<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>通常情况下，用户都会启用 JavaScript，因此可以在 <code>form</code> 中加上 <code>use:enhance</code> 渐进式增强</p>
<p><code>use:enhance</code> 是可定制的，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">use:enhance=&#123;() =&gt; &#123;<br>    deleting = [...deleting, todo.id];<br>    return async (&#123; update &#125;) =&gt; &#123;<br>        await update();<br>        deleting = deleting.filter((id) =&gt; id !== todo.id);<br>    &#125;;<br>&#125;&#125;<br></code></pre></td></tr></table></figure>
<p><code>server.js</code> 文件可以创建 API 路由，能够导出 <code>GET</code>、<code>PUT</code> 等 HTTP 请求方法的函数：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">&#123; request, cookies &#125;</span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123; description &#125; = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();<br><br>  <span class="hljs-keyword">const</span> userid = cookies.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;userid&#x27;</span>);<br>  <span class="hljs-keyword">const</span> &#123; id &#125; = <span class="hljs-keyword">await</span> database.<span class="hljs-title function_">createTodo</span>(&#123; userid, description &#125;);<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">json</span>(&#123; id &#125;, &#123; <span class="hljs-attr">status</span>: <span class="hljs-number">201</span> &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后调用该路由：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">const response = await fetch(&#x27;/todo&#x27;, &#123;<br>    method: &#x27;POST&#x27;,<br>    body: JSON.stringify(&#123; description &#125;),<br>    headers: &#123;<br>        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>
<p><code>$app/state</code> 中有三个只读对象——<code>page</code>、<code>navigating</code> 和 <code>updated</code>，一个使用了 <code>page</code> 中参数的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs svelte">&lt;script lang=&quot;ts&quot;&gt;<br> import &#123; page &#125; from &#x27;$app/state&#x27;;<br><br> let &#123; children &#125; = $props();<br>&lt;/script&gt;<br><br>&lt;nav&gt;<br> &lt;a href=&quot;/&quot; aria-current=&#123;page.url.pathname === &#x27;/&#x27;&#125;&gt;<br>  home<br> &lt;/a&gt;<br><br> &lt;a href=&quot;/about&quot; aria-current=&#123;page.url.pathname === &#x27;/about&#x27;&#125;&gt;<br>  about<br> &lt;/a&gt;<br>&lt;/nav&gt;<br></code></pre></td></tr></table></figure>
<p>有两种类型的错误：</p>
<p>预期的错误：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; error &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@sveltejs/kit&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">error</span>(<span class="hljs-number">420</span>, <span class="hljs-string">&#x27;Enhance your calm&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>意外的错误：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Kaboom!&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>可以通过 <code>+error.svelte</code> 组件来自定义错误</p>
<p>重定向：<code>redirect(307, '/b');</code></p>
<h2 id="SvelteKit-进阶">SvelteKit 进阶</h2>
<p>可以修改 <code>hooks.server.js</code> 中 <code>handle</code> 的默认行为：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">&#123; event, resolve &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">resolve</span>(event, &#123;<br>    <span class="hljs-attr">transformPageChunk</span>: <span class="hljs-function">(<span class="hljs-params">&#123; html &#125;</span>) =&gt;</span><br>      html.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;&lt;body&#x27;</span>, <span class="hljs-string">&#x27;&lt;body style=&quot;color: hotpink&quot;&#x27;</span>),<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>RequestEvent 中包含了很多有用的方法，如 <code>cookies</code>、<code>fetch</code>、<code>locals</code>、<code>params</code> 等</p>
<p>可以通过 <code>handleFetch</code> 钩子修改 <code>fetch</code> 方法的默认行为：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleFetch</span>(<span class="hljs-params">&#123; event, request, fetch &#125;</span>) &#123;<br>  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>);<br>  <span class="hljs-keyword">if</span> (url.<span class="hljs-property">pathname</span> === <span class="hljs-string">&#x27;/a&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;/b&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(request);<br>&#125;<br></code></pre></td></tr></table></figure>
<p><code>handleError</code> 钩子允许你拦截意外错误并触发一些行为</p>
<p>我们还可以从 <code>+page.js</code>、<code>+page.server.js</code>、<code>+layout.js</code> 和 <code>+layout.server.js</code> 中导出各种 <strong>页面选项</strong>：</p>
<ul>
<li><code>ssr</code> — 是否应该进行服务端渲染</li>
<li><code>csr</code> — 是否加载 SvelteKit 客户端</li>
<li><code>prerender</code> — 是否在构建时预渲染页面，而不是每次请求时渲染</li>
<li><code>trailingSlash</code> — 是否删除、添加或忽略 URL 中的尾部斜杠</li>
</ul>
<p>预加载：<code>&lt;a href=&quot;/slow-a&quot; data-sveltekit-preload-data&gt;slow-a&lt;/a&gt;</code></p>
<p>以编程方式启动预加载：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; preloadCode, preloadData &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;$app/navigation&#x27;</span>;<br><br><span class="hljs-comment">// 预加载导航到 /foo 所需的代码和数据</span><br><span class="hljs-title function_">preloadData</span>(<span class="hljs-string">&#x27;/foo&#x27;</span>);<br><br><span class="hljs-comment">// 预加载导航到 /bar 所需的代码，但不包括数据</span><br><span class="hljs-title function_">preloadCode</span>(<span class="hljs-string">&#x27;/bar&#x27;</span>);<br></code></pre></td></tr></table></figure>
<p>可选参数：使用 <code>[[lang]]</code></p>
<p>然后通过编辑 <code>src/routes/[[lang]]/+page.server.js</code> 指定默认的参数：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">load</span>(<span class="hljs-params">&#123; params &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">greeting</span>: greetings[params.<span class="hljs-property">lang</span> ?? <span class="hljs-string">&#x27;en&#x27;</span>],<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>剩余参数：<code>src/routes/[...path]</code></p>
<p>参数匹配器：在 <code>src/params/hex.js</code> 中编写</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">match</span>(<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^[0-9a-f]&#123;6&#125;$/</span>.<span class="hljs-title function_">test</span>(value);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>路径：<code>src/routes/colors/[color=hex]</code></p>
<p>路由分组：<code>(authed)/account</code> 和 <code>(authed)/app</code> 在同一个路由组下</p>
<p>通常情况下，一个页面会继承其上层的所有布局。如果需要跳出当前的布局层次结构。我们可以通过添加 <code>@</code> 符号，后跟要重置到的父级段名，如 <code>+page@b.svelte</code></p>
<p>将 <code>+page.server.js</code> 文件重命名为 <code>+page.js</code>，那么这些函数将在服务端渲染期间在服务端上运行，同时也会在应用程序水合或用户执行客户端导航时在浏览器中运行。</p>
<p>可以使用 <code>invalidate(...)</code> 函数手动使某个数据失效</p>
<p>在 <code>load</code> 函数内调用 <code>fetch(url)</code> 会将 <code>url</code> 注册为一个依赖项。有时使用 <code>fetch</code> 并不合适，这种情况下可以使用 <code>depends(url)</code> 手动指定一个依赖项</p>
<p>环境变量：</p>
<ul>
<li><code>$env/static/private</code></li>
<li><code>$env/dynamic/private</code></li>
<li><code>$env/static/public</code></li>
<li><code>$env/dynamic/public</code></li>
</ul>
<p>其中，<code>private</code> 只能用于服务端代码（<code>.server.js</code>），如果需要在应用运行时而不是在应用构建时读取环境变量的值，就使用 <code>dynamic</code></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/web/">web</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/">前端框架</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/749ffdd0.html" title="just"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/just.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">just</div></div><div class="info-2"><div class="info-item-1">简介 just 是一个命令运行器，可以把各种构建系统合并起来，在单一目录下使用一条命令运行 使用方法类似于 make，但是由于 just 是专门的命令运行器而不是构建系统，因此语法较为简单和友好，功能也更强大 快速开始 一个例子： # 构建项目build:  cc main.c foo.c bar.c -o main# 测试test: build  ./testsloc:  @echo &quot;`wc -l *.c` lines of code&quot; 运行 just -l 查看支持的命令 可以注意到语法和 makefile 很像，但更友好（不应 .phony 等莫名其妙的东西） 特性 直接运行 just 默认执行第一条命令，一般会改写成： default:  just --list 一次运行多条命令，如 just build start 简写：alias b := build 默认 shell 是 sh，可以修改：set shell := [&quot;nu&quot;, &quot;-c&quot;] 自动读取 .env 中定义的环境变量：set...</div></div></div></a><a class="pagination-related" href="/posts/f34cffa2.html" title="我命由我不由天"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E5%93%AA%E5%90%92.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">我命由我不由天</div></div><div class="info-2"><div class="info-item-1">  从灵珠到魔丸 哪吒的故事应该都不陌生，剔骨还父，割肉还母，和父母关系一刀两断。最后父子反目成仇，李靖成了托塔天王，一旦塔离开身边，哪吒就会试图杀他。这样一个故事，在强调“孝”的封建社会中的特殊性不言而喻。不是都说是父母的骨肉吗？那我就不要了，全部还给你们。也只有在神话中，血缘关系才可以被斩断。 但是到了现代社会，“家人关系”依旧深受重视，甚至比封建时代有过之而无不及，因此原版这种血腥的故事当然不会受到大众欢迎。于是，故事只能大幅度修改。《哪吒之魔童降世》改编的高明之处在于不是只在几处敏感的地方进行修改，而是几乎处处都发生 180...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="iconfont icon-tuijian"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/5dc45f0c.html" title="Jupyter Notebook 学习笔记"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Jupyter%20Notebook%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-16</div><div class="info-item-2">Jupyter Notebook 学习笔记</div></div><div class="info-2"><div class="info-item-1">什么是 Jupyter Notebook  Jupyter Notebook 是基于网页的用于交互计算的应用程序。其可被应用于全过程计算：开发、文档编写、运行代码和展示结果。——Jupyter Notebook 官方介绍  所以简单来说就是以网页形式打开，可以在其中直接编写并运行代码，代码的运行结果也会直接显示在代码块下，同时说明文档也可以直接编写在下面，支持 markdown增强版博客 组成部分：  网页应用 文档  安装和启动 一般搭配 Anaconda 使用，一般来说安装后已经自动安装了 Jupyter Notebook 了。若没有，可以手动安装： conda install notebook 运行： jupyter notebook 该命令以默认端口（8888）启动，若被占用，则顺延至 8889 等。同时浏览器自动访问该网址 注意：终端不要关闭，否则会断开与本地服务器的连接 当然也可以用 --port xxxx 指定 xxxx 端口启动，也可以添加 --no-browser 参数不打开浏览器 设置 Jupyter Notebook...</div></div></div></a><a class="pagination-related" href="/posts/cc1b9611.html" title="JavaScript"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/JavaScript.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-25</div><div class="info-item-2">JavaScript</div></div><div class="info-2"><div class="info-item-1">写在最前 基于 Marijn Haverbeke 的 Eloquent JavaScript 编写 JavaScript 和 Java 没有任何关系，这个名字是为了蹭 Java 的热度 console.log(&#x27;Hello, world!&#x27;); VSCode 开发环境配置 JavaScript/TypeScript + React 原生支持（毕竟 VS Code 就是用 TypeScript 编写的，所有的扩展都是用 JS 写的，但可以添加一些提高开发效率的代码片段 JavaScript (ES6) code snippets 支持 JS/TS，JSX/TSX，html 等 摘录一些常用的： 导入与导出：    触发方式 功能 示例     imp 导入整个模块 import fs from 'fs';   imn 匿名模块导入 import 'animate.css'   imd 使用解构导入 import &#123;rename&#125; from 'fs';   rqr 需要包 require('');   req 以 const...</div></div></div></a><a class="pagination-related" href="/posts/a541262a.html" title="Spring Boot"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/Spring%20Boot.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-17</div><div class="info-item-2">Spring Boot</div></div><div class="info-2"><div class="info-item-1">Maven Maven 可以用于管理 Java 项目的依赖 在 pom.xml 文件中指定了 Maven 坐标，其构成如下：  groupId：通常是域名反写 artifactId：通常是模块名称 version：版本号  引入依赖：在 &lt;dependencies&gt; 标签下，使用 &lt;dependency&gt; 引入标签，并定义 Maven 坐标 依赖有传递性，可以使用 &lt;exclusion&gt; 手动排除依赖的资源 使用 &lt;scope&gt; 设置其作用范围，通常使用默认的和 &lt;test&gt; Maven 有 3 套独立的生命周期：  clean default：编译、测试、打包、部署等 site：生成报告、发布站点  可以手动执行其中的若干个生命周期 请求与响应 Tomcat 是一个轻量级的 web 服务器，支持 Servlet 规范 几种请求参数： 简单参数：名字一致，也可以使用一个对象接收多个参数 GET...</div></div></div></a><a class="pagination-related" href="/posts/13aafbc3.html" title="包管理器"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-31</div><div class="info-item-2">包管理器</div></div><div class="info-2"><div class="info-item-1">Python 包管理器——uv uv 是一个用于管理 Python 虚拟环境的工具，特点在于速度快 替换为阿里源： 在 ~/.config/uv/uv.toml（Linux）或 %APPDATA%\uv\uv.toml（Windows）中添加如下内容： [[index]]    url    =&quot;https://mirrors.aliyun.com/pypi/simple/&quot;    default=true project 管理：  创建新的项目：uv init &lt;project_name&gt; 向项目中添加新的包：uv add &lt;package_name&gt; 移除：uv remove &lt;package_name&gt; 运行某个脚本：uv run path/to/script.py 运行一条命令：uv run &quot;command&quot; 使用指定的环境变量文件运行：uv run --env-file .env script.py  Python 版本管理：  安装指定版本：uv install python...</div></div></div></a><a class="pagination-related" href="/posts/e5d89884.html" title="全栈公开课（第二部分）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E5%85%A8%E6%A0%88%E5%85%AC%E5%BC%80%E8%AF%BE%EF%BC%88%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%89.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-03</div><div class="info-item-2">全栈公开课（第二部分）</div></div><div class="info-2"><div class="info-item-1">React router、自定义 hook，利用 CSS 和 webpack 给 app 添加样式 React-router 使用 React Router 库生成导航栏： import &#123; BrowserRouter as Router, Routes, Route, Link &#125; from &#x27;react-router-dom&#x27;;const App = () =&gt; &#123;  const padding = &#123;    padding: 5,  &#125;;  return (    &lt;Router&gt;      &lt;div&gt;        &lt;Link style=&#123;padding&#125; to=&#x27;/&#x27;&gt;          home        &lt;/Link&gt;        &lt;Link style=&#123;padding&#125; to=&#x27;/notes&#x27;&gt;          notes       ...</div></div></div></a><a class="pagination-related" href="/posts/320cf12b.html" title="全栈公开课（第一部分）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/gallery/cover/%E5%85%A8%E6%A0%88%E5%85%AC%E5%BC%80%E8%AF%BE%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-27</div><div class="info-item-2">全栈公开课（第一部分）</div></div><div class="info-2"><div class="info-item-1">Web app 基础 web 开发第一原则：始终打开控制台 可以在控制台查看网络信息 传统 web 应用：获取 html，获取 css，获取 JavaScript html 是树状的结构（DOM） 可以从控制台操作 DOM 接下来是 AJAX Asynchronous JavaScript and XML 时代 React 入门 React 简介 先安装 Node.js 创建应用：npm create vite@latest part1 -- --template react const App = () =&gt; (  &lt;div&gt;    &lt;p&gt;Hello world&lt;/p&gt;  &lt;/div&gt;); .jsx 文件看起来返回的是 HTML 标记，实际上底层转化为了 JavaScript 注意 JSX 的每个标签都必须关闭，即写成 &lt;br /&gt; 使用 props 向组件传递数据 React 组件名称必须大写 React 组件内容需要包含一个根元素，故返回值的最外层通常要加上 &lt;div&gt;&lt;/div&gt;...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/illustration/%E5%A4%B4%E5%83%8F_%E7%81%B0%E5%A4%AA%E7%8B%BC.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Aefrivern</div><div class="author-info-description">我一定会回来的</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">191</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">245</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/aefrivern" rel="external nofollow noreferrer" target="_blank" title="icon-github"><i class="GitHub"></i></a><a class="social-icon" href="mailto:2771503468@qq.com" rel="external nofollow noreferrer" target="_blank" title="icon-youxiang"><i class="QQ邮箱"></i></a><a class="social-icon" href="https://steamcommunity.com/id/old_driver_zero" rel="external nofollow noreferrer" target="_blank" title="icon-steam"><i class="Steam"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:25px;width:25px;fill:currentColor;position:relative;top:5px" aria-hidden="true"><use xlink:href="#icon-mulu"></use></svg></a><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6"><span class="toc-number">3.</span> <span class="toc-text">进阶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SvelteKit-%E5%9F%BA%E7%A1%80"><span class="toc-number">4.</span> <span class="toc-text">SvelteKit 基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SvelteKit-%E8%BF%9B%E9%98%B6"><span class="toc-number">5.</span> <span class="toc-text">SvelteKit 进阶</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>安得广厦千万间，大庇天下寒士俱欢颜，风雨不动安如山。</div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/comments/">留点什么</a><a href="/random/">随便逛逛</a></li><li><a href="/about/">关于</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/gallery/">我的画廊</a><a href="/charts/">网站统计</a></li></ul></div></div></div></div><div class="copyright">&copy;2022 - 2025 By Aefrivern</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script async src="//at.alicdn.com/t/c/font_4031045_1yiosqv4vch.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      window.location.href = e.request.responseURL
    }
  })
})()</script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/c/font_4031045_izvon5l4fr8.js"></script><!-- hexo injector body_end end --></body></html>